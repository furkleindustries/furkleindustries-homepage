(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

(function () {
    'use strict';

    window.Compiler = {
        stop: function stop() {
            State.compilerStatus.paused = true;
        },
        compileSimple: function compileSimple(text) {
            var vars = {};
            var returnText = Parser.parseSimple(text, vars);
            getOwnPropertyNames(vars).forEach(function (name) {
                State.setSimpleVariable(name, vars[name]);
            });

            return returnText;
        },
        compile: function compile(element) {
            var elem = element;
            State.compilerStatus.running = true;

            if (elem[0]) {
                elem = element[0];
            }

            if (!elem || typeof elem.innerHTML === 'undefined') {
                wideAlert('The element argument to be parsed is not a valid ' + 'HTML element.', elem);
                return;
            }

            if (!State.compilerStatus.rootElement) {
                State.compilerStatus.rootElement = element;
            }

            State.compilerStatus.element = elem;
            State.compilerStatus.text = elem.innerHTML;

            for (var ii = 0; ii < Compiler.preParse.length; ii++) {
                if (!isFunction(Compiler.preParse[ii])) {
                    throw new Error('invalid preparse function.');
                }

                Compiler.preParse[ii](elem);
            }

            if (isFunction(State.currentTheme.prerender)) {
                State.currentTheme.prerender();
            }

            Parser.parseElement(elem);

            for (var _ii = 0; _ii < Compiler.postParse.length; _ii++) {
                if (!isFunction(Compiler.postParse[_ii])) {
                    throw new Error('invalid preparse function.');
                }

                Compiler.postParse[_ii](elem);
            }

            if (State.compilerStatus.error) {
                throw new Error(State.compilerStatus.error);
            }

            if (isFunction(State.currentTheme.postrender)) {
                State.currentTheme.postrender();
            }

            State.compilerStatus.passage = null;
            State.compilerStatus.expression = null;
            State.compilerStatus.errors = [];
            State.compilerStatus.element = null;

            if (element === State.compilerStatus.rootElement) {
                State.compilerStatus.running = false;
            }
        },


        preParse: [function resetCompilerStatus() {
            State.compilerStatus.passage = State.currentPassageName;
            State.compilerStatus.expression = null;
            State.compilerStatus.error = null;
        }, function processLessAndGreaterThans(element) {
            var text = State.compilerStatus.text;
            var regex = /&lt;(?=\S+)/g;
            var match = void 0;
            var isOverriding = false;
            while (match = regex.exec(text)) {
                if (text[match.index + 4] === '-') {
                    continue;
                } else if (isOverriding) {
                    isOverriding = false;
                    continue;
                } else if (text.slice(match.index + 4, match.index + 8) === '&lt;') {
                    isOverriding = true;
                } else {
                    text = Parser.addStringAtIndex(Parser.removeCharactersAtIndex(text, match.index, 4), '<', match.index);
                    regex.lastIndex -= 4;
                }
            }

            regex = /&gt;/g;
            while (match = regex.exec(text)) {
                if (text[match.index - 4] === '-') {
                    continue;
                } else if (isOverriding) {
                    isOverriding = false;
                    continue;
                } else if (text.slice(match.index + 4, match.index + 8) === '&gt;') {
                    isOverriding = true;
                } else {
                    text = Parser.addStringAtIndex(Parser.removeCharactersAtIndex(text, match.index, 4), '>', match.index);
                    regex.lastIndex -= 4;
                }
            }

            text = text.replace(/<(?=\S+\|)/g, '&lt;');

            regex = /\|\S+(>)/;
            while (match = regex.exec(text)) {
                text = text.replace(match[0], match[0].slice(0, match[0].length - 1) + '&gt;');
            }

            // preserve short <? ?> tags
            text = text.replace(/<\?/g, '&lt;?');
            text = text.replace(/\?>/g, '?&gt;');

            element.innerHTML = text;
            State.compilerStatus.text = element.innerHTML;
        }, function removeCommentNodes(element) {
            var treeWalker = document.createTreeWalker(element, NodeFilter.SHOW_COMMENT, {
                acceptNode: function acceptNode(node) {
                    return NodeFilter.FILTER_ACCEPT;
                }
            }, false);

            var nodeList = [];
            while (treeWalker.nextNode()) {
                nodeList.push(treeWalker.currentNode);
            }

            nodeList.forEach(function (node) {
                node.parentNode.removeChild(node);
            });
        }, function renderTraceries(element) {
            // process tracery containers
            var traceries = from(element.querySelectorAll('tw-tracery-render'));

            traceries.forEach(function (trace) {
                var object = void 0;
                try {
                    object = eval('(' + trace.innerHTML + ')');
                } catch (e) {
                    wideAlert('Could not eval in-passage tracery source' + '(header).\n' + e.message);
                    return;
                }

                if ((typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object' && object !== null) {
                    var grammar = tracery.createGrammar(object);

                    grammar.addModifiers(baseEngModifiers);
                    var flattened = grammar.flatten("#origin#");
                    trace.outerHTML = flattened;
                }
            });
        }, function storeTraceries(element) {
            var traceries = from(element.querySelectorAll('tw-tracery-store'));

            traceries.forEach(function (trace) {
                var name = trace.getAttribute('name');
                if (!name) {
                    wideAlert('A tw-tracery-store element does not have a name ' + 'attribute. Cannot store grammar.');
                    trace.outerHTML = '';
                    return;
                }

                State.addTraceryGrammar(name, trace.innerHTML);
                trace.outerHTML = '';
            });
        }],

        postParse: [function putSubIfsInIfBlocks(element) {
            var ifs = element.querySelectorAll('tw-match[data-macro-type="if"]') || [];
            for (var ii = 0; ii < ifs.length; ii++) {
                var ifElement = ifs[ii];
                var parent = ifElement.parentNode;
                var found = false;
                for (var jj = 0; jj < parent.children.length; jj++) {
                    var child = parent.children[jj];
                    if (child === ifElement) {
                        found = true;
                    } else if (found) {
                        var type = Matches.getMacroType(child);
                        if (type === 'elseif' || type === 'else-if') {
                            ifElement.appendChild(parent.removeChild(child));
                            jj--;
                        } else if (type === 'else') {
                            ifElement.appendChild(parent.removeChild(child));
                            break;
                        } else {
                            break;
                        }
                    }
                }
            }
        }, function unparseDeferrals(element) {
            var deferred = from(element.querySelectorAll('tw-match.defer'));
            for (var ii = 0; ii < deferred.length; ii++) {
                var openTag = 'openTagTerminator';
                var defer = deferred[ii];

                var descendants = defer.querySelectorAll('*');
                var jj = 0;
                while (jj < descendants.length && (Matches.getDataType(descendants[jj - 1]) !== openTag || descendants[jj - 1].parentNode !== defer)) {
                    jj++;
                }

                var $hooks = $(defer).children('[data-type="openTagTerminator"] + [data-type="hook"]');

                if (descendants[jj]) {
                    var children = from(descendants).slice(jj).reverse();
                    for (var kk = 0; kk < children.length; kk++) {
                        Parser.unparseElement(children[kk]);
                    }
                }

                if ($hooks.length) {
                    var text = defer.lastChild.textContent.trim();
                    if (text.startsWith('[') && text.endsWith(']')) {
                        defer.lastChild.textContent = text.slice(1, -1);
                    }
                }
            }
        }, function handleMatches(element) {
            Matches.handle(element);
        }, function transmuteRemainingVars(element) {
            var $remainingVars = $(element).children('tw-match[data-type="variable"]');
            $remainingVars.each(function (_, variable) {
                var maybePointer = saferCombinedParse(variable.innerHTML);
                if (State.isPointer(maybePointer)) {
                    variable.innerHTML = JSON.stringify(State.getVariable(maybePointer, variable));
                }
            });
        }, function handleBlockScope(element) {
            /* Collect all tw-match nodes created by the parser, and 
             * reverse their order so that children are handled before 
             * parents. */
            var matches = $(element).find('tw-match, tw-argument').toArray().reverse();
            matches.forEach(function (match) {
                var $match = $(match);

                var html = $match.html();

                // Remove quotes from unevalled, still-existing string matches.
                if ($match.attr('data-javascript-type') === 'string' && html.startsWith('"') && html.endsWith('"')) {
                    $match[0].innerHTML = html.slice(1, -1);
                }

                if ($match.is('[data-block-definitions]')) {
                    (function () {
                        var defs = saferJSONParse($match[0].dataset.blockDefinitions);
                        if (defs && (typeof defs === 'undefined' ? 'undefined' : _typeof(defs)) === 'object') {
                            $match.children().each(function (_, element) {
                                var childDefs = saferJSONParse(element.dataset.blockDefinitions);
                                if (!childDefs || (typeof childDefs === 'undefined' ? 'undefined' : _typeof(childDefs)) !== 'object') {
                                    childDefs = {};
                                }

                                getOwnPropertyNames(defs).forEach(function (name) {
                                    if (!(name in childDefs)) {
                                        childDefs[name] = defs[name];
                                    }
                                });

                                element.dataset.blockDefinitions = JSON.stringify(childDefs);
                            });
                        }
                    })();
                }

                /* Insert each child element within match element before 
                 * the element itself. */
                $match.contents().each(function (_, element) {
                    $match.before(element);
                });

                // Remove all now-empty tw-match tags.
                $match.remove();
            });
        }]
    };
})();

},{}],2:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

(function () {
    //'use strict';

    window.Config = {
        renderTypes: {
            jonah: 'jonah',
            sugarcube: 'sugarcube',
            harlowe: 'sugarcube'
        },

        newlineHandlingTypes: {
            newlineToBr: 'newlineToBr',
            noNewlines: 'noNewlines'
        },

        chronologyButtonDirections: {
            rewind: 'rewind',
            fastForward: 'fastForward'
        },

        errorLevels: {
            alert: 'alert',
            console: 'console',
            inline: 'inline'
        },

        saveStoryTheme: function saveStoryTheme(name, theme) {
            if (!name) {
                wideAlert('The name argument passed to Config.saveTheme ' + 'is not valid or was not provided. Cannot save ' + 'theme.');
                return;
            }

            var themeObj = theme || State.currentTheme;
            if (typeof themeObj === 'string') {
                themeObj = saferJSONParse(theme);
            }

            if (!themeObj || (typeof themeObj === 'undefined' ? 'undefined' : _typeof(themeObj)) !== 'object') {
                wideAlert('The theme object is either not a valid object ' + 'or is a string that cannot be parsed into a valid ' + 'object. Cannot save theme.');
                return;
            }

            var curTheme = Config.getDefaultStoryTheme();
            getOwnPropertyNames(themeObj).forEach(function (name) {
                curTheme[name] = themeObj[name];
            });

            State.themeStore[name] = theme;
        },
        loadStoryTheme: function loadStoryTheme(name) {
            if (!name) {
                wideAlert('The name argument passed to Config.loadTheme ' + 'is not valid or was not provided. Cannot load ' + 'theme.');
                return;
            } else if (!(name in State.themeStore.story)) {
                wideAlert('The name argument provided to Config.loadtheme ' + 'does not match any currently saved theme. Cannot ' + 'load theme.');
                return;
            }

            var themeObj = State.themeStore.story[name];
            var curTheme = State.themeStore.story.default;
            getOwnPropertyNames(themeObj).forEach(function (name) {
                curTheme[name] = themeObj[name];
            });

            State.currentTheme = themeObj;

            Renderer.initializeTheme();
        },
        editStoryTheme: function editStoryTheme(theme) {
            if (typeof theme === 'string') {
                if (!theme) {
                    wideAlert('The theme argument provided to ' + 'Config.editTheme is a string, but it is empty. ' + 'Cannot execute.');
                    return;
                }

                var trimmed = theme.trim();
                if (trimmed in Config.renderTypes) {
                    handleRenderTypeChange(trimmed);
                } else if (trimmed in Config.newlineHandlingTypes) {
                    handleNewlineTypeChange(trimmed);
                } else if (trimmed in chronologyButtonDirections) {
                    handleRewindFastForwardChange(trimmed);
                } else if (trimmed in Config.errorLevels) {
                    var errorLevels = State.currentTheme.errorLevels;
                    handleErrorLevelsChange(trimmed, !errorLevels[trimmed]);
                }
            } else if ((typeof theme === 'undefined' ? 'undefined' : _typeof(theme)) === 'object') {
                if (!theme) {
                    wideAlert('The theme argument provided to ' + 'Config.editTheme is an object, but it is null. ' + 'Cannot execute.');
                    return;
                }

                if ('length' in theme) {
                    var arraylike = theme;
                    if (!arraylike.length) {
                        wideAlert('The theme argument provided ' + 'to Config.editTheme is an array-like object, ' + 'its length is 0. Cannot execute.');
                        return;
                    }

                    for (var ii = 0; ii < arraylike.length; ii++) {
                        var index = arraylike[ii];
                        if (!index || typeof index !== 'string') {
                            continue;
                        }

                        if (index in Config.renderTypes) {
                            handleRenderTypeChange(index);
                        } else if (index in Config.newlineHandlingTypes) {
                            handleNewlineTypeChange(index);
                        } else if (index in chronologyButtonDirections) {
                            handleRewindFastForwardChange(index);
                        } else if (index in Config.errorLevels) {
                            var _errorLevels = State.currentTheme.errorLevels;
                            handleErrorLevelsChange(index, !_errorLevels[index]);
                        }
                    }
                } else {
                    var obj = configObjOrString;

                    if (obj.renderType in Config.renderTypes) {
                        handleRenderTypeChange(obj.renderType);
                    }

                    if (obj.newlineHandlingType in Config.newlineHandlingTypes) {
                        handleNewlineTypeChange(obj.newlineHandlingType);
                    }

                    if (typeof obj.rewind === 'boolean') {
                        handleRewindFastForwardChange('rewind', obj.rewind);
                    }

                    if (typeof obj.fastForward === 'boolean') {
                        handleRewindFastForwardChange('fastforward', obj.fastForward);
                    }

                    if (obj.errorLevels && _typeof(obj.errorLevels) === 'object') {
                        if (typeof obj.errorLevels.alert === 'boolean') {
                            handleErrorLevelsChange('alert', obj.errorLevels.alert);
                        }

                        if (typeof obj.errorLevels.console === 'boolean') {
                            handleErrorLevelsChange('console', obj.errorLevels.console);
                        }

                        if (typeof obj.errorLevels.inline === 'boolean') {
                            handleErrorLevelsChange('inline', obj.errorLevels.inline);
                        }
                    }
                }
            } else {
                wideAlert('The configObjOrString argument passed to ' + 'Config.newTheme is neither an object nor a string. ' + 'Cannot execute.');
                return;
            }
        },
        editRenderType: function editRenderType(renderType) {
            if (!renderType) {
                wideAlert('The renderType argument provided to ' + 'Config.editRenderType argument is not a string or is ' + 'empty. Cannot execute.');
                return;
            } else if (typeof renderType === 'string') {
                if (renderType in Config.renderTypes) {
                    handleRenderTypeChange(renderType);
                } else {
                    wideAlert('The renderType argument provided to ' + 'Config.editRenderType is a string, but does not ' + 'match one of the render types in ' + 'Config.renderTypes. Cannot execute.');
                    return;
                }
            } else {
                wideAlert('The renderType argument provided to ' + 'Config.editRenderType is not a string. Cannot execute.');
                return;
            }
        },
        editNewlineType: function editNewlineType(newlineType) {
            if (!newlineType) {
                wideAlert('The newlineType argument provided to ' + 'Config.editNewlineType argument is not a string or is ' + 'empty. Cannot execute.');
                return;
            } else if (typeof newlineType === 'string') {
                if (newlineType in Config.newlineHandlingTypes) {
                    handleNewlineTypeChange(newlineType);
                } else {
                    wideAlert('The newlineType argument provided to ' + 'Config.editNewlineType does not match one of the ' + 'newline types in Config.newlineHandlingTypes. ' + 'Cannot execute.');
                    return;
                }
            } else {
                wideAlert('The newlineType argument provided to ' + 'Config.editNewlineType is not a string. Cannot ' + 'execute.');
                return;
            }
        },
        editRewind: function editRewind(value) {
            if (typeof value !== 'boolean') {
                wideAlert('The value argument provided to ' + 'Config.editRewind is not a boolean. Cannot execute.');
                return;
            }

            handleRewindFastForwardChange('rewind', value);
        },
        editFastForward: function editFastForward(value) {
            if (typeof value !== 'boolean') {
                wideAlert('The value argument provided to ' + 'Config.editFastForward is not a boolean. Cannot ' + 'execute.');
                return;
            }

            handleRewindFastForwardChange('fastForward', value);
        },
        editErrorLevel: function editErrorLevel(level, value) {
            if (level in Config.errorLevels) {
                if (typeof value !== 'boolean') {
                    wideAlert('The value argument provided to ' + 'Config.editErrorLevel is not a boolean. Cannot ' + 'execute.');
                    return;
                }

                handleErrorLevelsChange(level, value);
            } else {
                wideAlert('The level argument provided to ' + 'Config.editErrorLevel does not match one of the ' + 'errorLevel types in Config.errorLevels. Cannot ' + 'execute.');
            }
        },
        editStoryStyle: function editStoryStyle(styleText) {
            if (!styleText) {
                wideAlert('The styleText argument provided to ' + 'Config.editStyle is not a valid string. Cannot edit ' + 'style.');
                return;
            } else if (typeof styleText !== 'string') {
                wideAlert('The styleText argument provided to ' + 'Config.editStyle is not of type string. Cannot edit ' + 'style.');
                return;
            }

            State.currentTheme.style = styleText;
        },
        editStoryPrerender: function editStoryPrerender(prerenderText) {
            if (!prerenderText || typeof prerenderText !== 'string') {
                wideAlert('The prerenderText argument provided to ' + 'Config.editPrerender is not a valid string. Cannot ' + 'edit theme prerender function.');
                return;
            }

            State.currentTheme.prerenderString = prerenderText;
            State.currentTheme.prerender = new Function(prerenderText);
        },
        editPostrender: function editPostrender(postrenderText) {
            if (!postrenderText || typeof postrenderText !== 'string') {
                wideAlert('The postrenderText argument provided to ' + 'Config.editPostrender is not a valid string. Cannot ' + 'edit theme postrender function.');
                return;
            }

            State.currentTheme.postrenderString = postrenderText;
            State.currentTheme.postrender = new Function(postrenderText);
        }
    };

    function handleRenderTypeChange(renderType) {
        State.currentTheme.renderType = renderType;

        Renderer.handleBackAndForwardButtons();
    }

    function handleNewlineTypeChange(newlineType) {
        var currentTheme = State.currentTheme;
        if (newlineType === currentTheme.newlineHandlingType) {
            return;
        }

        currentTheme.newlineHandlingType = newlineType;

        Renderer.undoNewlineHandling($('tw-passage.current'));

        if (newlineType === Config.newlineHandlingTypes.newlineToBr) {
            Renderer.newlineToBr($currentNode);
        }
    }

    function handleRewindFastForwardChange(property, value) {
        var $currentNode = $('tw-passage.current');

        if (property === 'rewind') {
            if (value) {
                $currentNode.addClass('rewind');
            } else {
                $currentNode.addClass('rewind');
            }
        } else if (change === 'fastForward') {
            if (value) {
                $currentNode.addClass('fastForward');
            } else {
                $currentNode.removeClass('fastForward');
            }
        } else {
            return;
        }

        State.currentTheme.rewind = change;
    }

    function handleErrorLevelsChange(level, value) {
        State.currentTheme.errorLevels[level] = value;
    }
})();

},{}],3:[function(require,module,exports){
'use strict';

require('./globals.js');
require('./themes.js');
require('./config.js');
require('./state.js');
require('./macros.js');
require('./worldmodel.js');
require('./parser.js');
require('./matches.js');
require('./compiler.js');
require('./renderer.js');
require('./options.js');
require('./mixer.js');
require('./onstart.js');

},{"./compiler.js":1,"./config.js":2,"./globals.js":4,"./macros.js":5,"./matches.js":6,"./mixer.js":7,"./onstart.js":8,"./options.js":9,"./parser.js":10,"./renderer.js":11,"./state.js":12,"./themes.js":13,"./worldmodel.js":14}],4:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

(function () {
    'use strict';

    var $ = window.jQuery;

    // Production steps of ECMA-262, Edition 6, 22.1.2.1
    // Reference: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-array.from
    if (!window.Array.from) {
        window.Array.from = function () {
            var toStr = Object.prototype.toString;
            var isCallable = function isCallable(fn) {
                return typeof fn === 'function' || toStr.call(fn) === '[object Function]';
            };
            var toInteger = function toInteger(value) {
                var number = Number(value);
                if (isNaN(number)) {
                    return 0;
                }
                if (number === 0 || !isFinite(number)) {
                    return number;
                }
                return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));
            };
            var maxSafeInteger = Math.pow(2, 53) - 1;
            var toLength = function toLength(value) {
                var len = toInteger(value);
                return Math.min(Math.max(len, 0), maxSafeInteger);
            };

            // The length property of the from method is 1.
            return function from(arrayLike /*, mapFn, thisArg */) {
                // 1. Let C be the this value.
                var C = this;

                // 2. Let items be ToObject(arrayLike).
                var items = Object(arrayLike);

                // 3. ReturnIfAbrupt(items).
                if (arrayLike == null) {
                    throw new TypeError("Array.from requires an array-like object - not null or undefined");
                }

                // 4. If mapfn is undefined, then let mapping be false.
                var mapFn = arguments.length > 1 ? arguments[1] : void undefined;
                var T;
                if (typeof mapFn !== 'undefined') {
                    // 5. else
                    // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.
                    if (!isCallable(mapFn)) {
                        throw new TypeError('Array.from: when provided, the second argument must be a function');
                    }

                    // 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.
                    if (arguments.length > 2) {
                        T = arguments[2];
                    }
                }

                // 10. Let lenValue be Get(items, "length").
                // 11. Let len be ToLength(lenValue).
                var len = toLength(items.length);

                // 13. If IsConstructor(C) is true, then
                // 13. a. Let A be the result of calling the [[Construct]] internal method of C with an argument list containing the single item len.
                // 14. a. Else, Let A be ArrayCreate(len).
                var A = isCallable(C) ? Object(new C(len)) : new Array(len);

                // 16. Let k be 0.
                var k = 0;
                // 17. Repeat, while k < len… (also steps a - h)
                var kValue;
                while (k < len) {
                    kValue = items[k];
                    if (mapFn) {
                        A[k] = typeof T === 'undefined' ? mapFn(kValue, k) : mapFn.call(T, kValue, k);
                    } else {
                        A[k] = kValue;
                    }
                    k += 1;
                }
                // 18. Let putStatus be Put(A, "length", len, true).
                A.length = len;
                // 20. Return A.
                return A;
            };
        }();
    }

    window.wideAlert = function (message) {
        if (State.currentTheme.errorLevels.console) {
            console.log(message);
            console.trace('stack trace');
        }

        if (State.currentTheme.errorLevels.alert) {
            window.alert(message);
        }

        State.compilerStatus.errors.push(message);

        if (State.currentTheme.debug.failHard) {
            throw new Error(message);
        }
    };

    window.gatelyLog = function (message) {
        if (State.currentTheme.errorLevels.console) {
            console.log(message);
            console.trace('stack trace');
        }

        State.compilerStatus.errors.push(message);

        if (State.currentTheme.debug.failHard) {
            throw new Error(message);
        }
    };

    window.gatelyAlert = function (message) {
        if (State.currentTheme.errorLevels.alert) {
            window.alert(message);
        }

        State.compilerStatus.errors.push(message);

        if (State.currentTheme.debug.failHard) {
            throw new Error(message);
        }
    };

    window.noop = function noop() {
        /* do nothing */
    };

    window.from = Array.from;

    window.getOwnPropertyNames = Object.getOwnPropertyNames;

    window.$storydata = $('tw-storydata');

    window.$startPassage = $('tw-passagedata[pid="' + $storydata.attr('startNode') + '"]');

    window.isFunction = function (toCheck) {
        return toCheck && {}.toString.call(toCheck) === '[object Function]';
    };

    window.isNode = function (target) {
        var node = void 0;
        if ((typeof Node === 'undefined' ? 'undefined' : _typeof(Node)) === 'object') {
            node = target instanceof Node;
        } else {
            node = target;
        }

        return node && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && typeof target.nodeType === 'number' && typeof target.nodeName === 'string';
    };

    //Returns true if it is a DOM element    
    window.isElement = function (target) {
        var elem = void 0;
        if ((typeof HTMLElement === 'undefined' ? 'undefined' : _typeof(HTMLElement)) === 'object') {
            elem = target instanceof HTMLElement;
        } else {
            elem = target;
        }

        return elem && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === "object" && target !== null && target.nodeType === 1 && typeof target.nodeName === 'string';
    };

    window.saferEval = function (str) {
        try {
            return eval(str);
        } catch (e) {
            try {
                return eval(str.replace(/\n/g, '\\n').replace(/\t/g, '\\t').replace(/&quot;/g, '"'));
            } catch (e) {
                return str;
            }
        }
    };

    window.saferEvalToString = function (str) {
        if (typeof str !== 'string') {
            return str;
        }

        var evalled = void 0;

        try {
            evalled = eval(str);
        } catch (e) {
            try {
                evalled = eval(str.replace(/\n/g, '\\n').replace(/\t/g, '\\t').replace(/&quot;/g, '"'));
            } catch (e) {/* do nothing */}
        }

        if (typeof evalled === 'string') {
            return evalled;
        } else {
            return str;
        }
    };

    window.saferJSONParse = function (str) {
        if (typeof str !== 'string') {
            return str;
        }

        try {
            return JSON.parse(str);
        } catch (e) {
            try {
                return JSON.parse(str.replace(/\n/g, '\\n').replace(/\t/g, '\\t').replace(/&quot;/g, '"'));
            } catch (e) {
                return str;
            }
        }
    };

    window.saferCombinedParse = function (str) {
        try {
            return JSON.parse(str);
        } catch (e) {
            try {
                return JSON.parse(str.replace(/\n/g, '\\n').replace(/\t/g, '\\t').replace(/&quot;/g, '"'));
            } catch (e) {
                try {
                    return eval(str);
                } catch (e) {
                    try {
                        return eval(str.replace(/\n/g, '\\n').replace(/\t/g, '\\t').replace(/&quot;/g, '"'));
                    } catch (e) {
                        return str;
                    }
                }
            }
        }
    };

    window.getAllContainedTextNodes = function (nodeOrSelector) {
        if ((typeof nodeOrSelector === 'undefined' ? 'undefined' : _typeof(nodeOrSelector)) !== 'object' || nodeOrSelector === null) {
            wideAlert('The nodeOrSelector argument passed to ' + 'getAllContainedTextNodes is not valid. ' + 'Cannot get text nodes.');
            return;
        }
        var $node = $(nodeOrSelector);
        if (!$node.length) {
            wideAlert('The nodeOrSelector argument passed to ' + 'getAllContainedTextNodes is not valid, or is ' + 'not a selector representative of an existing element. ' + 'Cannot get text nodes.');
            return;
        }

        return $node.find('*').contents().filter(function (_, node) {
            return node.nodeType === 3 && node.parentNode.tagName !== 'SCRIPT' && node.parentNode.tagName !== 'STYLE';
        });
    };

    window.saveFile = function (fileName, extension, textOrElement) {
        var $a = $('<a class="downloader"></a>');
        $('head').append($a);

        var text = void 0;
        if (typeof textOrElement === 'string' && text !== '') {
            text = textOrElement;
        } else if (isElement(textOrElement)) {
            text = textOrElement.outerHTML;
        } else if (textOrElement && textOrElement[0] && isElement(textOrElement[0])) {
            text = textOrElement[0].outerHTML;
        } else {
            var html = $('html')[0].cloneNode(true);
            var selector = 'tw-save#defaultSave, a.downloader';
            $(html).find(selector).remove();
            var stateStr = JSON.stringify(State);

            var $save = $('<tw-save id="defaultSave">' + stateStr + '</tw-save>');
            html.querySelector('head').appendChild($save[0]);

            var storydata = html.querySelector('tw-storydata');

            storydata.setAttribute('flags', 'save');
            text = html.outerHTML;
        }

        var blob = new Blob([text], {
            type: 'octet/stream'
        });
        var url = window.URL.createObjectURL(blob);

        $a[0].href = url;
        if (!fileName) {
            fileName = 'save';
        }
        if (extension) {
            extension = '.' + extension;
        } else {
            extension = '';
        }
        $a[0].download = fileName + extension;
        $a[0].click();
        $a.remove();

        window.URL.revokeObjectURL(url);
    };

    window.isElementRawString = function (str) {
        try {
            return $(str)[0] !== $(str)[0];
        } catch (e) {
            return false;
        }
    };
})();

},{}],5:[function(require,module,exports){
'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}(function(){'use strict';var getOwnPropertyNames=Object.getOwnPropertyNames;var from=Array.from;var equalTypes=['=','+=','-=','*=','/=','%='];window.Macro={handlerID:0,global:{namespace:'global',handler:null},getNewHandlerId:function getNewHandlerId(){return this.handlerID++;},has:function has(name,namespace){if(!name){wideAlert('No name provided to Macro.has.');return;}var nsVal=void 0;if(namespace){nsVal=namespace;}else{nsVal='global';}if(!(nsVal in Macro)){wideAlert('The namespace argument provided to '+'Macro.has, '+nsVal+', does not exist in '+'the Macro object.');return false;}var ns=Macro[nsVal];if(!ns||(typeof ns==='undefined'?'undefined':_typeof(ns))!=='object'){wideAlert('The value at Macro.'+nsVal+' is '+'not a valid object. Cannot execute Macro.has.');return false;}if(!(name in ns)){gatelyLog('The name argument provided to Macro.has, '+name+', does not exist in Macro.'+nsVal+'.');return false;}var macro=ns[name];if(!macro||(typeof macro==='undefined'?'undefined':_typeof(macro))!=='object'){gatelyLog('The value at Macro.'+nsVal+'.'+name+' is '+'not a valid object.');return false;}else if(!('handler'in macro)){gatelyLog('The value at Macro.'+nsVal+'.'+name+'does not have a handler property.');return false;}else if(!macro.handler||!isFunction(macro.handler)){gatelyLog('The value at Macro.'+nsVal+'.'+name+'has a handler property, but it is not a valid '+'Javascript function.');return false;}return true;},add:function add(name,defObj,namespace,doOverride,noFreeze){if(!name){wideAlert('The name argument must be provided to the add '+'function.');return;}else if(!defObj||!isFunction(defObj.handler)){wideAlert('The defObj must exist and must have a valid '+'handler property.');return;}defObj.handler=Object.freeze(defObj.handler);var namespaceObj=void 0;if(!namespace||typeof namespace==='string'&&namespace.toLowerCase()==='global'){namespaceObj=Macro.global;}else if(!(namespace in Macro)){wideAlert('There is no property in the Macro object with '+'the name '+namespace+'. Cannot execute.');return;}else if(!('namespace'in Macro[namespace])){wideAlert('An object was found in the Macro object '+'with a name matching the namespace argument, '+namespace+', but it has no namespace property, '+'and does not appear to be a namespace. Cannot execute.');return;}else{namespaceObj=Macro[namespace];}if(name in namespaceObj&&doOverride!==true&&(typeof doOverride!=='string'||doOverride.toLowerCase()!=='override')){wideAlert('The '+namespaceObj.namespace+' object '+'already contains a '+name+' object. If you want '+'to overwrite a pre-existing macro, please provide a '+'doOverride argument to Macro.add with a value of true '+'or "override".');return;}if(noFreeze===true||typeof noFreeze==='string'&&noFreeze.toLowerCase()==='nofreeze'){namespaceObj[name]=defObj;}else{namespaceObj[name]=Object.freeze(defObj);}},addNamespace:function addNamespace(name,macros,handler){if(typeof name!=='string'){wideAlert('The name argument provided to '+'Macro.addNamespace is not a string. Cannot execute.');return;}else if(!name){wideAlert('The name argument provided to '+'Macro.addNamespace is an empty string. Cannot execute.');return;}var handlerVal=void 0;if(typeof handler!=='undefined'){if(isFunction(handler)){handlerVal=handler;}else{wideAlert('A handler argument was provided to '+'Macro.addNamespace, but does not appear to be a '+'function. Cannot execute.');return;}}this[name]={namespace:name};if(handlerVal){this[name].handler=handlerVal;}if(macros&&(typeof macros==='undefined'?'undefined':_typeof(macros))==='object'){for(var macroName in macros){// add validation here?
this.add(macroName,macros[macroName],name);}}},delete:function _delete(name){delete this[name];}};Macro.add('set',{handler:function handler(){if(arguments.length===0){wideAlert('The set macro cannot be empty!');return;}for(var ii=0;ii<arguments.length;ii++){if(typeof arguments[ii]!=='string'){wideAlert('The data type of each argument passed '+'to Macro.set must be a string. Skipping '+'triplet.');continue;}var arg=arguments[ii];var splitIndex=arg.search(/(\+=|-=|\*=|\/=|%=|=)/);if(splitIndex===-1){wideAlert('No equals type was found in the '+'argument. Skipping triplet.');continue;}var triplet=[];if(arg[splitIndex+1]==='='){triplet.push(arg.slice(0,splitIndex).trim());triplet.push(arg.slice(splitIndex,splitIndex+2).trim());triplet.push(arg.slice(splitIndex+2,arg.length));}else{triplet.push(arg.slice(0,splitIndex).trim());triplet.push(arg[splitIndex].trim());triplet.push(arg.slice(splitIndex+1,arg.length));}if(!triplet[0]){wideAlert('There is no variable in the set macro '+'within the triplet at position '+ii);continue;}else if(/[,.'"()<>\s]/.test(triplet[0])){wideAlert('A disallowed character was used in the '+'variable name, '+triplet[0]+'. The '+'disallowed characters are , (comma), ., \', ", '+'(, ), <, >, or any whitespace character.');return;}else if(equalTypes.indexOf(triplet[1])===-1){wideAlert('The second component in each part of a '+'set assignment must be one of the following:\n'+equalTypes.join('\n'));continue;}if(isElementRawString(triplet[2])){triplet[2]=$(triplet[2])[0];}else{var temp=saferCombinedParse(triplet[2]);if(typeof temp!=='undefined'){triplet[2]=temp;}}if(triplet[0][0]==='$'){triplet[0]=triplet[0].slice(1);}if(isNode(triplet[2])||isElement(triplet[2])){triplet[2]=triplet[2].textContent;}State.setVariable(triplet[0],triplet[1],triplet[2],this);}}},'global');Macro.add('let',{handler:function handler(){if(arguments.length===0){wideAlert('The let macro cannot be empty!');return;}for(var ii=0;ii<arguments.length;ii++){if(typeof arguments[ii]!=='string'){wideAlert('The data type of each argument passed '+'to Macro.global.let must be a string. Skipping '+'triplet.');continue;}var arg=arguments[ii];var splitIndex=arg.search(/(\+=|-=|\*=|\/=|%=|=)/);if(splitIndex===-1){wideAlert('No equals type was found in the '+'argument. Skipping triplet.');continue;}var triplet=[];if(arg[splitIndex+1]==='='){triplet.push(arg.slice(0,splitIndex).trim());triplet.push(arg.slice(splitIndex,splitIndex+2).trim());triplet.push(arg.slice(splitIndex+2,arg.length));}else{triplet.push(arg.slice(0,splitIndex).trim());triplet.push(arg[splitIndex].trim());triplet.push(arg.slice(splitIndex+1,arg.length));}if(!triplet[0]){wideAlert('There is no variable in the set macro '+'within the triplet at position '+ii);continue;}else if(/[,.'"()<>\s]/.test(triplet[0])){wideAlert('A disallowed character was used in the '+'variable name, '+triplet[0]+'. The '+'disallowed characters are , (comma), ., \', ", '+'(, ), <, >, or any whitespace character.');return;}else if(equalTypes.indexOf(triplet[1])===-1){wideAlert('The second component in each part of a '+'set assignment must be one of the following:\n'+equalTypes.join('\n'));continue;}if(isElementRawString(triplet[2])){triplet[2]=$(triplet[2])[0];}else{var temp=saferCombinedParse(triplet[2]);if(typeof temp!=='undefined'){triplet[2]=temp;}}if(triplet[0][0]==='$'){triplet[0]=triplet[0].slice(1);}else{wideAlert('Variable must start with $. Cannot execute.');}if(isNode(triplet[2])||isElement(triplet[2])){triplet[2]=triplet[2].textContent;}State.letVariable(triplet[0],triplet[1],triplet[2],this.parentNode);}}},'global');Macro.add('put',{handler:function handler(){if(arguments.length===0){wideAlert('The set macro cannot be empty!');return;}for(var ii=0;ii<arguments.length;ii++){if(typeof arguments[ii]!=='string'){wideAlert('The data type of each argument passed '+'to Macro.set must be a string. Skipping '+'triplet.');continue;}var arg=arguments[ii];var splitIndex=arg.search(/(\+=|-=|\*=|\/=|%=|=)/);if(splitIndex===-1){wideAlert('No equals type was found in the '+'argument. Skipping triplet.');continue;}var triplet=[];if(arg[splitIndex+1]==='='){triplet.push(arg.slice(0,splitIndex).trim());triplet.push(arg.slice(splitIndex,splitIndex+2).trim());triplet.push(arg.slice(splitIndex+2,arg.length));}else{triplet.push(arg.slice(0,splitIndex).trim());triplet.push(arg[splitIndex].trim());triplet.push(arg.slice(splitIndex+1,arg.length));}if(!triplet[0]){wideAlert('There is no variable in the set macro '+'within the triplet at position '+ii);continue;}else if(/[,.'"()<>\s]/.test(triplet[0])){wideAlert('A disallowed character was used in the '+'variable name, '+triplet[0]+'. The '+'disallowed characters are , (comma), ., \', ", '+'(, ), <, >, or any whitespace character.');return;}else if(equalTypes.indexOf(triplet[1])===-1){wideAlert('The second component in each part of a '+'set assignment must be one of the following:\n'+equalTypes.join('\n'));continue;}if(isElementRawString(triplet[2])){triplet[2]=$(triplet[2])[0];}else{var temp=saferCombinedParse(triplet[2]);if(typeof temp!=='undefined'){triplet[2]=temp;}}if(triplet[0][0]==='$'){triplet[0]=triplet[0].slice(1);}if(isNode(triplet[2])||isElement(triplet[2])){triplet[2]=triplet[2].textContent;}State.putVariable(triplet[0],triplet[1],triplet[2],this);}}},'global');Macro.add('print',{handler:function handler(){var match=$('<tw-match class="printContainer">'+from(arguments).map(function(arg){if((typeof arg==='undefined'?'undefined':_typeof(arg))==='object'){return JSON.stringify(arg);}else{return arg;}}).join('')+'</tw-match>')[0];return match;}},'global');Macro.add('compile',{handler:function handler(){var match=$('<tw-match class="printContainer">'+from(arguments).map(function(arg){if((typeof arg==='undefined'?'undefined':_typeof(arg))==='object'){return JSON.stringify(arg);}else{return arg;}}).join('')+'</tw-match>')[0];Compiler.compile(match);return match;}},'global');Macro.add('silently',{isDoubleTag:true,handler:noop},'global');Macro.add('if',{isDoubleTag:true,dataType:'html',handler:function handler(bool,ifBoolTrue,ifBoolFalse){if(bool&&bool.textContent){bool=saferEval(bool.textContent);}else{bool=saferEval(bool);}if(bool){return ifBoolTrue;}else{return ifBoolFalse;}}},'global');Macro.add('elseif',{isDoubleTag:true,handler:noop});Macro.global['else-if']=Macro.global.elseif;Macro.add('else',{isDoubleTag:true,handler:noop},'global');Macro.add('click',{isDoubleTag:true,defer:true,handler:function handler(linkText,callback){if(typeof linkText!=='string'||!linkText){wideAlert('The linkText argument passed to '+'Macro.click is not valid.');return;}else if(typeof callback!=='string'){wideAlert('The callback argument passed to '+'Macro.click is not valid.');return;}var $node=$('<tw-link></tw-link>');$node.addClass('clickHandler click');var span=document.createElement('span');span.textContent=linkText;$node.append(span);var defer=document.createElement('tw-deferrer');defer.className='hidden';defer.textContent=callback;$node.append(defer);$node.click(function(e){var $deferred=$node.children('tw-deferrer');if($deferred.length){var temp=document.createElement('tw-match');temp.innerHTML=$deferred.text();var blockScope=State.getBlockScope($node[0]);if(blockScope){temp.dataset.blockDefinitions=JSON.stringify(blockScope);}Compiler.compile(temp);}});return $node[0];}},'global');Macro.add('linkgoto',{handler:function handler(text,linkName){var linkStr=void 0;if(typeof linkName==='undefined'){linkStr='<tw-link class="passage" name="'+text+'">'+text+'</tw-link>';}else{linkStr='<tw-link class="passage" name="'+linkName+'">'+text+'</tw-link>';}return linkStr;}},'global');Macro.global['link-goto']=Macro.global.linkgoto;Macro.add('linkreveal',{isDoubleTag:true,defer:true,handler:function handler(linkText,revealText){var $node=$('<tw-link class="reveal"></tw-link>');$node.addClass('reveal');$node.append('<span>'+linkText+'</span>');$node.append('<tw-deferrer class="hidden">'+revealText+'</tw-deferrer>');$node.click(function(e){var $deferred=$node.children('tw-deferrer');if($deferred.length){Compiler.compile($deferred);if($node[0].parentNode){var $children=$deferred.remove().children();var $match=$('<tw-match></tw-match>');$match.append($children);$match.insertAfter($node);$node.remove();}}});return $node[0];}},'global');Macro.global['link-reveal']=Macro.global.linkreveal;Macro.add('cyclinglink',{handler:function handler(){var stringArgs=[];var variableName=void 0;var $node=$('<tw-link class="cycling"></tw-link>');if(arguments.length<2){wideAlert('The cyclinglink macro needs at least two '+'arguments to function. Cannot create.');return;}else if(arguments.length===2){stringArgs=from(arguments);}else{if(typeof arguments[0]==='string'&&arguments[0].trim()[0]==='$'){$node.addClass('setter');variableName=arguments[0].trim().slice(1);}else{stringArgs.unshift(arguments[0]);}if(arguments.length>3){stringArgs=stringArgs.concat(from(arguments).slice(1,-2));var out=arguments[arguments.length-2];var _passageName=arguments[arguments.length-1];if(out===true&&typeof _passageName==='string'){$node.addClass('out');}else{stringArgs=stringArgs.concat(arguments.slice(1,-2));}}else{stringArgs=from(arguments).slice(1);}}if(variableName){State.currentVariableState[variableName]=stringArgs[0];}$node.html(args[0]);var currentIndex=0;$node.click(function(e){stringArgs.push(stringArgs.shift());currentIndex++;$node.html(stringArgs[0]);/* if the variable name was set, update the corresponding
                     * variable to reflect the current value of the link. */if(variableName){State.currentVariableState[variableName]=stringArgs[0];}if(currentIndex===currentList.length){currentIndex=0;if($node.hasClass('out')){Renderer.render(passageName);}}});return $node[0];}},'global');Macro.global['cycling-link']=Macro.global.cyclinglink;Macro.add('br',{handler:function handler(){return document.createElement('br');}},'global');Macro.global.newline=Macro.global.br;Macro.global['new-line']=Macro.global.br;Macro.add('display',{handler:function handler(passageName){var selector='tw-passagedata[name="'+passageName+'"]';var $passage=$(selector);if(!$passage.length){wideAlert('There is no passage to display named '+passageName+'"]');return;}return Renderer.doDisplay($passage);}},'global');Macro.add('replace',{handler:function handler(selectorOrMatch,replaceText){if(typeof selectorOrMatch!=='string'||!selectorOrMatch){wideAlert('The passageNameOrMatchText argument passed to '+'Macro.replace is not a string or is an empty '+'string. Cannot replace.');return;}else if(typeof replaceText!=='string'||!replaceText){wideAlert('The replaceText argument passed to '+'Macro.replace is not a string or is an empty '+'string. Cannot replace.');return;}else if(selectorOrMatch===replaceText){wideAlert('The passageNameOrMatch and replaceText '+'arguments passed to Macro.replace are identical. '+'This will result in an infinite loop. '+'Cannot replace.');return;}var $elem=void 0;// don't try searching if it's not an ID or class selector
if(selectorOrMatch[0]==='#'||selectorOrMatch[0]==='.'){try{$elem=$(selectorOrMatch);}catch(e){/* do nothing */}}if($elem){$elem.html(replaceText);}else{if(selectorOrMatch.indexOf(replaceText)!==-1){// TODO: fix this pls
wideAlert('The text to be replaced cannot contain '+'the replacement text in it. Cannot replace.');return;}var currentPassage=$('tw-passage.current')[0];if(!currentPassage){alert('The story has become corrupted – '+'the current passage cannot be found.');throw new Error('The story has become corrupted – '+'the current passage cannot be found.');}var textNodes=getAllContainedTextNodes(currentPassage);for(var ii=0;ii<textNodes.length;ii++){var node=textNodes[ii];var text=node.textContent;while(text.indexOf(selectorOrMatch)!==-1){text=text.replace(selectorOrMatch,replaceText);}node.textContent=text;}}}},'global');Macro.add('textcolor',{isDoubleTag:true,handler:function handler(color,inner){if(typeof color!=='string'||color===''){wideAlert('The color argument passed to Macro.textcolor '+'is not a string or is an empty string. '+'Cannot change text color.');return;}else if(typeof inner!=='string'&&inner===''&&!isElement(inner)&&!isNode(inner)){wideAlert('The innerText argument passed to '+'Macro.textcolor is not a string or is '+'an empty string. Cannot change text color.');return;}var $elem=void 0;if(isElement(inner)||isNode(inner)){$elem=$(inner);}else{$elem=$('<span></span>');$elem.css('color',color);$elem.text(inner);}return $elem[0];}},'global');Macro.global['text-color']=Macro.global.textcolor;Macro.global.textcolour=Macro.global.textcolor;Macro.global['text-colour']=Macro.global.textcolor;Macro.add('textstyle',{isDoubleTag:true,handler:function handler(inner){var _toSearch,_arguments=arguments;if(typeof inner!=='string'&&inner===''&&!isElement(inner)&&!isNode(inner)){wideAlert('The innerText argument passed to '+'Macro.textcolor is not a string or is '+'an empty string. Cannot change text color.');return;}else if(arguments.length===1||!arguments[1]){wideAlert('The first value argument passed to '+'Macro.textstyle is not a string or is an empty '+'string. Cannot change text style.');return;}var toSearch=(_toSearch={'font-family':['cursive','fantasy','monospace','sans-serif','serif'],'font-size':['large','larger','medium','small','smaller','x-large','x-small','xx-large','xx-small'],'font-stretch':['condensed','expanded','extra-condensed','extra-expanded','narrower','semi-condensed','semi-expanded','ultra-condensed','ultra-expanded','wider'],'font-style':['italic','normal','oblique']},_defineProperty(_toSearch,'font-style',['small-caps']),_defineProperty(_toSearch,'font-weight',['bold','bolder','lighter']),_defineProperty(_toSearch,'text-combine-upright',['all','none']),_defineProperty(_toSearch,'text-decoration',['blink','line-through','overline','underline']),_defineProperty(_toSearch,'text-orientation',['mixed','sideways','upright']),_defineProperty(_toSearch,'text-overflow',['clip','ellipsis']),_defineProperty(_toSearch,'text-rendering',['auto','geometricPrecision','optimizeLegibility','optimizeSpeed']),_defineProperty(_toSearch,'text-transform',['capitalize','lowercase','uppercase']),_toSearch);var $elem=void 0;if(isElement(inner)||isNode(inner)){$elem=$(inner);}else{$elem=$('<span></span>');$elem.text(inner);}var set=false;var _loop=function _loop(ii){var value=_arguments[ii];getOwnPropertyNames(toSearch).forEach(function(name){if(toSearch[name].indexOf(value)!==-1){$elem.css(name,value);set=true;}});};for(var ii=1;ii<arguments.length;ii++){_loop(ii);}if(!set){wideAlert('The value(s) passed to Macro.textstyle is/are not '+'currently supported. The element will be '+'displayed, but no style rules will be added.');}return $elem[0];}},'global');Macro.global['text-style']=Macro.global.textstyle;// TODO: ADD OTHER STYLES
Macro.add('transition',{isDoubleTag:true,handler:function handler(type,transitionArgsOrInOrOut,milliseconds,innerText){type=type.trim();var str='<tw-transition-container></tw-transition-container>';var $node=$(str);var args=void 0;if(arguments.length===0){wideAlert('No arguments were provided for '+'Macro.transition. Cannot transition.');return;}else if(arguments.length===1){wideAlert('Either no transition type was provided to '+'Macro.transition, or there is nothing provided to '+'transition.');return;}else if(!type){wideAlert('The type argument provided to Macro.transition '+'is not valid. Cannot transition.');return;}else if(arguments.length===2){args=['type','innerText'];innerText=transitionArgsOrInOrOut;}else if(arguments.length===3){args=['type','transitionArgsOrInOrOut','innerText'];innerText=milliseconds;}else{args=['type','transitionArgsOrInOrOut','milliseconds','innerText'];}if(args.indexOf('transitionArgsOrInOrOut')!==-1&&transitionArgsOrInOrOut){var arg=transitionArgsOrInOrOut;var transitionObj=saferCombinedParse(arg);if(typeof transitionArgsOrInOrOut==='string'){var timeVal=transitionArgsOrInOrOut;if(args.indexOf('milliseconds')!==-1){var boolEval=saferEval(milliseconds);if(boolEval===true||milliseconds==='milliseconds'){timeVal+='ms';}else{timeVal+='s';}}else{timeVal+='s';}$node.css({'-webkit-animation-duration':timeVal,'-moz-animation-duration':timeVal,'-o-animation-duration':timeVal,'animation-duration':timeVal});}else if((typeof transitionObj==='undefined'?'undefined':_typeof(transitionObj))==='object'){var transArgs=transitionArgsOrInOrOut;var _timeVal=transArgs.duration;var transType=_typeof(transArgs.duration);if(transType!=='undefined'){var mills=transArgs.durationInMilliseconds;if(args.indexOf('milliseconds')!==-1){var _boolEval=saferEval(mills);if(_boolEval===true||mills==='milliseconds'){_timeVal+='ms';}else{_timeVal+='s';}}else{_timeVal+='s';}}else{_timeVal+='1s';}$node.css({'-webkit-animation-duration':_timeVal,'-moz-animation-duration':_timeVal,'-o-animation-duration':_timeVal,'animation-duration':_timeVal});if(typeof transArgs.delay!=='undefined'){var _timeVal2=transArgs.delay;var _mills=transArgs.delayInMilliseconds;if(args.indexOf('milliseconds')!==-1){var _boolEval2=saferEval(_mills);if(_boolEval2===true||_mills==='milliseconds'){_timeVal2+='ms';}else{_timeVal2+='s';}}else{_timeVal2+='s';}$node.css('transition-delay',_timeVal2);}if(typeof transArgs.timing==='string'&&transArgs.timing){var timing=transArgs.timing;$node.css({'-webkit-animation-timing-function':timing,'-moz-animation-timing-function':timing,'-o-animation-timing-function':timing,'animation-timing-function':timing});}}}else{$node.css({'-webkit-animation-duration':'1s','-moz-animation-duration':'1s','-o-animation-duration':'1s','animation-duration':'1s'});}if(type==='dissolve'){$node.attr('data-transition-type','dissolve');}else{// add default handler
}var inOrOut=saferCombinedParse(transitionArgsOrInOrOut);if(inOrOut&&inOrOut.toLowerCase){inOrOut=inOrOut.toLowerCase();}if(inOrOut==='in'||inOrOut==='out'){$node.attr('data-transition-direction',inOrOut);}$node.html(innerText);return $node[0];}},'global');Macro.add('array',{handler:function handler(){var array=from(arguments).map(function(index){return saferCombinedParse(index);});return JSON.stringify(array);}},'global');Macro.global.a=Macro.global.array;Macro.add('addathead',{handler:function handler(arrOrStrOrVarName){if(!arrOrStrOrVarName){wideAlert('The arrOrStrOrVarName argument passed to '+'Macro.addathead is not valid. Cannot add.');return;}else if(typeof arrOrStrOrVarName!=='string'&&(typeof arrOrStrOrVarName==='undefined'?'undefined':_typeof(arrOrStrOrVarName))!=='object'||typeof arrOrStrOrVarName.length!=='number'||!isFunction(arrOrStrOrVarName.slice)){wideAlert('The arrOrStrOrVarName argument passed to '+'Macro.addathead is not a string or array. '+'Cannot add.');return;}else if(arguments.length===1){wideAlert('There is no value provided to add to the '+'array or string. Cannot add.');return;}var arrOrStr=arrOrStrOrVarName;var currentVS=State.currentVariableState;var saving=false;if(typeof arrOrStr==='string'){if(arrOrStr[0]==='$'){var smaller=arrOrStr.trim().slice(1);var stored=currentVS[smaller];var type=typeof stored==='undefined'?'undefined':_typeof(stored);if((type==='string'||type==='object')&&typeof stored.length==='number'&&isFunction(stored.slice)){arrOrStr=stored;saving=true;}else{wideAlert('The Twinescript variable referred '+'to by the arrOrStrOrVarName argument '+'passed to Macro.addathead is not a '+'string or array. Cannot add.');return;}}else{var _arrOrStr=saferCombinedParse(arrOrStrOrVarName);if((typeof _arrOrStr==='undefined'?'undefined':_typeof(_arrOrStr))!=='object'||typeof _arrOrStr.length!=='number'||!isFunction(_arrOrStr.slice)){_arrOrStr=arrOrStrOrVarName;}}}var temp=from(arguments).slice(1).map(function(index){var val=saferCombinedParse(index);if(typeof arrOrStr==='string'){return val.toString();}else{return val;}}).concat(arrOrStr);if(typeof arrOrStr==='string'){arrOrStr=temp.join('');}else{arrOrStr=temp;}if(saving){State.setVariable(arrOrStrOrVarName.slice(1),'=',arrOrStr,this);}if((typeof arrOrStr==='undefined'?'undefined':_typeof(arrOrStr))==='object'){return JSON.stringify(arrOrStr);}else{return arrOrStr;}}},'global');Macro.global['add-at-head']=Macro.global.addathead;Macro.add('addatend',{handler:function handler(arrOrStrOrVarName){if(!arrOrStrOrVarName){wideAlert('The arrOrStrOrVarName argument passed to '+'Macro.addatend is not valid. Cannot add.');return;}else if(typeof arrOrStrOrVarName!=='string'&&(typeof arrOrStrOrVarName==='undefined'?'undefined':_typeof(arrOrStrOrVarName))!=='object'||typeof arrOrStrOrVarName.length!=='number'||!isFunction(arrOrStrOrVarName.slice)){wideAlert('The arrOrStrOrVarName argument passed to '+'Macro.addatend is not a string or array. '+'Cannot add.');return;}else if(arguments.length===1){wideAlert('There is no value provided to add to the '+'array or string. Cannot add.');return;}var arrOrStr=arrOrStrOrVarName;var currentVS=State.currentVariableState;var saving=false;if(typeof arrOrStr==='string'){if(arrOrStr[0]==='$'){var smaller=arrOrStr.trim().slice(1);var stored=currentVS[smaller];var type=typeof stored==='undefined'?'undefined':_typeof(stored);if((type==='string'||type==='object')&&typeof stored.length==='number'&&isFunction(stored.slice)){arrOrStr=stored;saving=true;}else{wideAlert('The Twinescript variable referred '+'to by the arrOrStrOrVarName argument '+'passed to Macro.addatend is not a string '+'or array. Cannot add.');return;}}else{var _arrOrStr2=saferCombinedParse(arrOrStrOrVarName);if((typeof _arrOrStr2==='undefined'?'undefined':_typeof(_arrOrStr2))!=='object'||typeof _arrOrStr2.length!=='number'||!isFunction(_arrOrStr2.slice)){_arrOrStr2=arrOrStrOrVarName;}}}var temp=arrOrStr.concat(from(arguments).slice(1).map(function(index){var val=saferCombinedParse(index);if(typeof arrOrStr==='string'){return val.toString();}else{return val;}}));if(typeof arrOrStr==='string'){arrOrStr=temp.join('');}else{arrOrStr=temp;}if(saving){State.setVariable(arrOrStrOrVarName.slice(1),'=',arrOrStr,this);}if((typeof arrOrStr==='undefined'?'undefined':_typeof(arrOrStr))==='object'){return JSON.stringify(arrOrStr);}else{return arrOrStr;}}},'global');Macro.global['add-at-end']=Macro.global.addatend;Macro.add('addatindex',{handler:function handler(arrOrStrOrVarName,index){if(!arrOrStrOrVarName){wideAlert('The arrOrStrOrVarName argument passed to '+'Macro.addatindex is not valid. Cannot add.');return;}else if(typeof arrOrStrOrVarName!=='string'&&(typeof arrOrStrOrVarName==='undefined'?'undefined':_typeof(arrOrStrOrVarName))!=='object'||typeof arrOrStrOrVarName.length!=='number'||!isFunction(arrOrStrOrVarName.slice)){wideAlert('The arrOrStrOrVarName argument passed to '+'Macro.addatindex is not a string or array. '+'Cannot add.');return;}else if(arguments.length===2){wideAlert('There is no value provided to add to the '+'array or string. Cannot add.');return;}var arrOrStr=arrOrStrOrVarName;var currentVS=State.currentVariableState;var saving=false;if(typeof arrOrStr==='string'){if(arrOrStr[0]==='$'){var smaller=arrOrStr.trim().slice(1);var stored=currentVS[smaller];var type=typeof stored==='undefined'?'undefined':_typeof(stored);if((type==='string'||type==='object')&&typeof stored.length==='number'&&isFunction(stored.slice)){arrOrStr=stored;saving=true;}else{wideAlert('The Twinescript variable referred '+'to by the arrOrStrOrVarName argument '+'passed to Macro.addatindex is not a '+'string or array. Cannot add.');return;}}else{var _arrOrStr3=saferCombinedParse(arrOrStrOrVarName);if((typeof _arrOrStr3==='undefined'?'undefined':_typeof(_arrOrStr3))!=='object'||typeof _arrOrStr3.length!=='number'||!isFunction(_arrOrStr3.slice)){_arrOrStr3=arrOrStrOrVarName;}}}var intIndex=Math.floor(Number(index));if(intIndex>=arrOrStr.length){wideAlert('The index provided is greater than the '+'length of the array or string represented by the '+'arrOrStrOrVarName argument passed to '+'Macro.addatindex. Cannot add.');return;}var temp=arrOrStr.slice(0,intIndex).concat(from(arguments).slice(2).map(function(index){var val=saferCombinedParse(index);if(typeof arrOrStr==='string'){return val.toString();}else{return val;}})).concat(arrOrStr.slice(intIndex));if(typeof arrOrStr==='string'){arrOrStr=temp.join('');}else{arrOrStr=temp;}if(saving){State.setVariable(arrOrStrOrVarName.slice(1),'=',arrOrStr,this);}if((typeof arrOrStr==='undefined'?'undefined':_typeof(arrOrStr))==='object'){return JSON.stringify(arrOrStr);}else{return arrOrStr;}}},'global');Macro.global['add-at-index']=Macro.global.addatindex;Macro.add('removeathead',{handler:function handler(arrOrStrOrVarName,numberToRemove){if(!arrOrStrOrVarName){wideAlert('The arrOrStrOrVarName argument passed to '+'Macro.removeathead is not valid. Cannot remove.');return;}else if(typeof arrOrStrOrVarName!=='string'&&(typeof arrOrStrOrVarName==='undefined'?'undefined':_typeof(arrOrStrOrVarName))!=='object'||typeof arrOrStrOrVarName.length!=='number'||!isFunction(arrOrStrOrVarName.slice)){wideAlert('The arrOrStrOrVarName argument passed to '+'Macro.removeathead is not a string or array. '+'Cannot remove.');return;}var arrOrStr=arrOrStrOrVarName;var currentVS=State.currentVariableState;var saving=false;if(typeof arrOrStr==='string'){if(arrOrStr[0]==='$'){var smaller=arrOrStr.trim().slice(1);var stored=currentVS[smaller];var type=typeof stored==='undefined'?'undefined':_typeof(stored);if((type==='string'||type==='object')&&typeof stored.length==='number'&&isFunction(stored.slice)){arrOrStr=stored;saving=true;}else{wideAlert('The Twinescript variable referred '+'to by the arrOrStrOrVarName argument '+'passed to Macro.removeathead is not a '+'string or array. Cannot remove.');return;}}else{var _arrOrStr4=saferCombinedParse(arrOrStrOrVarName);if((typeof _arrOrStr4==='undefined'?'undefined':_typeof(_arrOrStr4))!=='object'||typeof _arrOrStr4.length!=='number'||!isFunction(_arrOrStr4.slice)){_arrOrStr4=arrOrStrOrVarName;}}}if(typeof numberToRemove==='undefined'){arrOrStr=arrOrStr.slice(1);}else{var intToRemove=Math.floor(Number(numberToRemove));if(Number.isNaN(intToRemove)||intToRemove<1){wideAlert('The numberToRemove argument passed to '+'Macro.removeathead is not a valid, >= 1 '+'number. Cannot remove.');return;}arrOrStr=arrOrStr.slice(intToRemove);}if(saving){State.setVariable(arrOrStrOrVarName.slice(1),arrOrStr,this);}if((typeof arrOrStr==='undefined'?'undefined':_typeof(arrOrStr))==='object'){return JSON.stringify(arrOrStr);}else{return arrOrStr;}}},'global');Macro.global['remove-at-head']=Macro.global.removeathead;Macro.add('removeatend',{handler:function handler(arrOrStrOrVarName,numberToRemove){if(!arrOrStrOrVarName){wideAlert('The arrOrStrOrVarName argument passed to '+'Macro.removeatend is not valid. Cannot remove.');return;}else if(typeof arrOrStrOrVarName!=='string'&&(typeof arrOrStrOrVarName==='undefined'?'undefined':_typeof(arrOrStrOrVarName))!=='object'||typeof arrOrStrOrVarName.length!=='number'||!isFunction(arrOrStrOrVarName.slice)){wideAlert('The arrOrStrOrVarName argument passed to '+'Macro.removeatend is not a string or array. '+'Cannot remove.');return;}var arrOrStr=arrOrStrOrVarName;var currentVS=State.currentVariableState;var saving=false;if(typeof arrOrStr==='string'){if(arrOrStr[0]==='$'){var smaller=arrOrStr.trim().slice(1);var stored=currentVS[smaller];var type=typeof stored==='undefined'?'undefined':_typeof(stored);if((type==='string'||type==='object')&&typeof stored.length==='number'&&isFunction(stored.slice)){arrOrStr=stored;saving=true;}else{wideAlert('The Twinescript variable referred '+'to by the arrOrStrOrVarName argument '+'passed to Macro.removeatend is not a '+'string or array. Cannot remove.');return;}}else{var _arrOrStr5=saferCombinedParse(arrOrStrOrVarName);if((typeof _arrOrStr5==='undefined'?'undefined':_typeof(_arrOrStr5))!=='object'||typeof _arrOrStr5.length!=='number'||!isFunction(_arrOrStr5.slice)){_arrOrStr5=arrOrStrOrVarName;}}}if(typeof numberToRemove==='undefined'){arrOrStr=arrOrStr.slice(0,arrOrStr.length-1);}else{var intToRemove=Math.floor(Number(numberToRemove));if(Number.isNaN(intToRemove)||intToRemove<1){wideAlert('The numberToRemove argument passed to '+'Macro.removeatend is not a valid, >= 1 '+'number. Cannot remove.');return;}arrOrStr=arrOrStr.slice(0,arrOrStr.length-intToRemove);}if(saving){State.setVariable(arrOrStrOrVarName.slice(1),'=',arrOrStr,this);}if((typeof arrOrStr==='undefined'?'undefined':_typeof(arrOrStr))==='object'){return JSON.stringify(arrOrStr);}else{return arrOrStr;}}},'global');Macro.global['remove-at-end']=Macro.global.removeatend;Macro.add('removeatindex',{handler:function handler(arrOrStrOrVarName,index,numberToRemove){if(!arrOrStrOrVarName){wideAlert('The arrOrStrOrVarName argument passed to '+'Macro.removeatindex is not valid. Cannot remove.');return;}else if(typeof arrOrStrOrVarName!=='string'&&(typeof arrOrStrOrVarName==='undefined'?'undefined':_typeof(arrOrStrOrVarName))!=='object'||typeof arrOrStrOrVarName.length!=='number'||!isFunction(arrOrStrOrVarName.slice)){wideAlert('The arrOrStrOrVarName argument passed to '+'Macro.removeatindex is not a string or array. '+'Cannot remove.');return;}var arrOrStr=arrOrStrOrVarName;var currentVS=State.currentVariableState;var saving=false;if(typeof arrOrStr==='string'){if(arrOrStr[0]==='$'){var smaller=arrOrStr.trim().slice(1);var stored=currentVS[smaller];var type=typeof stored==='undefined'?'undefined':_typeof(stored);if((type==='string'||type==='object')&&typeof stored.length==='number'&&isFunction(stored.slice)){arrOrStr=stored;saving=true;}else{wideAlert('The Twinescript variable referred '+'to by the arrOrStrOrVarName argument '+'passed to Macro.removeatindex is not a '+'string or array. Cannot remove.');return;}}else{var _arrOrStr6=saferCombinedParse(arrOrStrOrVarName);if((typeof _arrOrStr6==='undefined'?'undefined':_typeof(_arrOrStr6))!=='object'||typeof _arrOrStr6.length!=='number'||!isFunction(_arrOrStr6.slice)){_arrOrStr6=arrOrStrOrVarName;}}}var intIndex=Math.floor(Number(index));while(intIndex<0){intIndex=arrOrStr.length+index;}if(typeof numberToRemove==='undefined'){arrOrStr=arrOrStr.slice(0,intIndex).concat(arrOrStr.slice(intIndex+1));}else{var intToRemove=Math.floor(Number(numberToRemove));if(Number.isNaN(intToRemove)||intToRemove<1){wideAlert('The numberToRemove argument passed to '+'Macro.removeatindex is not a valid, >= 1 '+'number. Cannot remove.');return;}arrOrStr=arrOrStr.slice(0,intIndex).concat(arrOrStr.slice(intIndex+intToRemove));}if(saving){State.setVariable(arrOrStrOrVarName.slice(1),'=',arrOrStr,this);}if((typeof arrOrStr==='undefined'?'undefined':_typeof(arrOrStr))==='object'){return JSON.stringify(arrOrStr);}else{return arrOrStr;}}},'global');Macro.global['remove-at-index']=Macro.global.removeatindex;Macro.add('arrayfilter',{isDoubleTag:true,defer:true,handler:function handler(array,variable,callback){var arr=void 0;if(!array){wideAlert('The array parameter passed to Macro.arrayfilter '+'is not valid. Cannot filter.');return;}else if((typeof array==='undefined'?'undefined':_typeof(array))==='object'&&'length'in object){arr=array;}else if(typeof array==='string'){var _str=array.trim();if(_str[0]==='$'&&_str.slice(1)in State.currentVariableState){var varName=_str.slice(1);var varInst=State.currentVariableState[varName];if(varInst&&(typeof varInst==='undefined'?'undefined':_typeof(varInst))==='object'&&'length'in varInst){arr=varInst;}}else{var temp=saferCombinedParse(array);if(temp&&(typeof temp==='undefined'?'undefined':_typeof(temp))==='object'&&'length'in temp){arr=temp;}}}arr=from(arr);if(!arr){wideAlert('The array argument passed to Macro.arrayfilter '+'is not valid. Cannot filter.');return;}if(!callback){wideAlert('The callback parameter passed to '+'Macro.arrayfilter is not valid. Cannot filter.');return;}else if(!variable||typeof variable!=='string'){wideAlert('The variable argument passed to '+'Macro.arrayfilter is not valid. Cannot filter.');return;}var callCopy=void 0;if(isElement(callback)||isNode(callback)){callCopy=callback.textContent;}else{callCopy=callback.toString();}var filtered=[];for(var ii=0;ii<arr.length;ii++){var string=arr[ii];if(typeof str!=='string'){string=JSON.stringify(string);}if(variable.indexOf(string)!==-1){wideAlert('The variable argument, '+variable+', contains an incidence of the array '+'index, '+string+'. This will result in '+'an infinite loop when replacing variable '+'with index. Cannot filter.');return;}else if(string.indexOf(variable)!==-1){wideAlert('The array index, '+string+', contains an incidence of the variable '+'argument, '+variable+'. This will '+'result in an infinite loop when replacing '+'variable with index. Cannot filter.');return;}var call=callCopy;while(call.indexOf(variable)!==-1){call=call.replace(variable,string);}var result=Parser.parseText(call);if(result&&result!==false&&result.trim()!=='false'){filtered.push(arr[ii]);}}return JSON.stringify(filtered);}},'global');Macro.global['array-filter']=Macro.global.arrayfilter;Macro.add('dict',{handler:function handler(){if(arguments.length&&arguments.length%2!==0){wideAlert('The Macro.dict constructor must have an '+'even number of arguments in the form key, value, '+'key, value, etc. Cannot construct.');return;}var dict={};for(var ii=0;ii<arguments.length;ii+=2){var _value=saferCombinedParse(arguments[ii+1]);dict[arguments[ii]]=_value;}return JSON.stringify(dict);}},'global');Macro.global.dictionary=Macro.global.dict;Macro.global.datamap=Macro.global.dict;Macro.add('in',{handler:function handler(toSearch,key){if(typeof toSearch==='undefined'||toSearch===''){return false;}var search=saferCombinedParse(toSearch);if(!search||(typeof search==='undefined'?'undefined':_typeof(search))!=='object'){wideAlert('The toSearch argument passed to Macro.in '+'is not an object and cannot be parsed to one. '+'Macro.in can only be used on objects or string '+'representations thereof. Cannot execute.');return false;}else{return key in toSearch;}}},'global');Macro.add('stringcontains',{handler:function handler(str,substr){if(arguments.length===0){wideAlert('No arguments were passed to '+'Macro.stringcontains. Cannot execute.');return;}else if(typeof str!=='string'){wideAlert('The str argument passed to '+'Macro.stringcontains is not a string. Cannot '+'execute.');return false;}else if(!str){gatelyLog('The str argument passed to '+'Macro.stringcontains is an empty string. Cannot '+'execute.');return false;}else if(arguments.length===1){wideAlert('The substr argument was not provided to '+'Macro.stringcontains. Cannot execute.');return false;}else if(typeof substr!=='string'){wideAlert('The substr argument passed to '+'Macro.stringcontains is not a string. Cannot '+'execute.');return false;}else if(!substr){gatelyLog('The substr argument passed to '+'Macro.stringcontains is an empty string. Cannot '+'execute.');return false;}return str.indexOf(substr)!==-1;}},'global');Macro.global['string-contains']=Macro.global.stringcontains;Macro.global['strcontains']=Macro.global.stringcontains;Macro.global['str-contains']=Macro.global.stringcontains;Macro.add('objectcontains',{handler:function handler(obj,value){if(arguments.length===0){wideAlert('No arguments were provided to '+'Macro.objectcontains. Cannot execute.');return;}else if(arguments.length===1){wideAlert('The value argument was not provided to '+'Macro.objectcontains. Cannot execute.');return;}else if((typeof obj==='undefined'?'undefined':_typeof(obj))!=='object'&&typeof obj!=='string'){wideAlert('The obj argument passed to '+'Macro.objectcontains is not an object or string. '+'Cannot execute.');return false;}else if(!obj){wideAlert('The obj argument passed to '+'Macro.objectcontains is not valid. Cannot execute.');return false;}else if(arguments.length===1){wideAlert('The value argument was not provided to '+'Macro.objectcontains. Cannot execute.');return false;}var search=saferCombinedParse(obj);var parsedVal=saferJSONParse(value);var val=JSON.stringify(parsedVal);var names=getOwnPropertyNames(search);for(var ii=0;ii<names.length;ii++){var name=names[ii];var curVal=JSON.stringify(search[name]);if(curVal===val){return true;}}return false;}},'global');Macro.global['object-contains']=Macro.global.objectcontains;Macro.global['objcontains']=Macro.global.objectcontains;Macro.global['object-contains']=Macro.global.objectcontains;Macro.add('arrayconcat',{handler:function handler(){var array=[];from(arguments).forEach(function(arg){var parsed=saferCombinedParse(arg);if(parsed&&(typeof parsed==='undefined'?'undefined':_typeof(parsed))==='object'&&isFunction(parsed.concat)){array=array.concat(parsed);}else{wideAlert('The argument provided to '+'Macro.arrayconcat, '+arg+', is not an '+'non-null object, and/or lacks a concat '+'method. Skipping argument.');return;}});return JSON.stringify(array);}},'global');Macro.global['array-concat']=Macro.global.arrayconcat;Macro.global.arrconcat=Macro.global.arrayconcat;Macro.global['arr-concat']=Macro.global.arrayconcat;Macro.add('stringconcat',{handler:function handler(){return from(arguments).join('');}},'global');Macro.global.strconcat=Macro.global.stringconcat;Macro.global['str-concat']=Macro.global.stringconcat;Macro.add('foreach',{isDoubleTag:true,defer:true,pointerPassthrough:[0],handler:function handler(collection,key,value,callback){var _this=this;var processedCollection=collection;if(typeof collection==='string'){var trimmed=collection.trim();if(trimmed.startsWith('[')&&trimmed.endsWith(']')){processedCollection=saferEval(collection);}else{processedCollection=saferJSONParse(collection);}if(!processedCollection||processedCollection===collection||(typeof processedCollection==='undefined'?'undefined':_typeof(processedCollection))!=='object'&&typeof processedCollection!=='string'){if(collection.indexOf(',')===-1){wideAlert('The collection passed to '+'Macro.foreach cannot be parsed or '+'evalled, and is not comma-separated. '+'Cannot execute.');return;}processedCollection=collection.split(',');}}else if((typeof collection==='undefined'?'undefined':_typeof(collection))!=='object'){wideAlert('The collection argument '+'passed to Macro.foreach is not an object '+'or string. Cannot execute.');return;}var pointer=void 0;if(State.isPointer(processedCollection)){pointer=processedCollection;processedCollection=State.getVariable(pointer,this);}var keyVal=void 0;if(key&&typeof key==='string'){keyVal=key.trim();if(keyVal[0]==='$'){keyVal=keyVal.slice(1);}}var valueVal=void 0;if(value&&typeof value==='string'){valueVal=value.trim();if(valueVal[0]==='$'){valueVal=valueVal.slice(1);}}if(!callback||typeof callback!=='string'){wideAlert('TODO: foreach callback error');return;}if(processedCollection.type==='collection'){processedCollection=processedCollection.children;}if(!processedCollection){wideAlert('TODO: foreach wmCollection error');return;}var keys=Object.getOwnPropertyNames(processedCollection).filter(function(key){// don't return the length property
return key!=='length';});var obj={};var values=keys.map(function(key){return processedCollection[key];});var returnElem=document.createElement('tw-match');returnElem.className='eachContainer';var _loop2=function _loop2(ii){var retNode=document.createElement('tw-match');retNode.innerHTML=callback;if(keyVal){var name=keys[ii];State.letVariable(keyVal,'=',name,retNode);}var blockScope=State.getBlockScope(_this);if(blockScope){getOwnPropertyNames(blockScope).forEach(function(name){if(State.isPointer(blockScope[name])){State.letVariable(name,'=',State.getPointer(blockScope[name].path+'['+name+']'),retNode);}else{State.letVariable(name,'=',blockScope[name],retNode);}});}if(valueVal){var val=values[ii];if(pointer&&val&&(typeof val==='undefined'?'undefined':_typeof(val))==='object'){State.letVariable(valueVal,'=',State.getPointer(pointer.path+'['+keys[ii]+']'),retNode);}else{State.letVariable(valueVal,'=',val,retNode);}}Compiler.compile(retNode);returnElem.appendChild(retNode);};for(var ii=0;ii<keys.length;ii++){_loop2(ii);}return returnElem;}},'global');Macro.global['for-each']=Macro.global.foreach;Macro.add('range',{handler:function handler(lower,upper,step){/*! http://mths.be/codepointat v0.1.0 by @mathias */if(!String.prototype.codePointAt){(function(){'use strict';// needed to support `apply`/`call` with `undefined`/`null`
var codePointAt=function codePointAt(position){if(this==null){throw TypeError();}var string=String(this);var size=string.length;// `ToInteger`
var index=position?Number(position):0;if(index!=index){// better `isNaN`
index=0;}// Account for out-of-bounds indices:
if(index<0||index>=size){return undefined;}// Get the first code unit
var first=string.charCodeAt(index);var second;if(// check if it’s the start of a surrogate pair
first>=0xD800&&first<=0xDBFF&&// high surrogate
size>index+1// there is a next code unit
){second=string.charCodeAt(index+1);if(second>=0xDC00&&second<=0xDFFF){// low surrogate
// http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae
return(first-0xD800)*0x400+second-0xDC00+0x10000;}}return first;};if(Object.defineProperty){Object.defineProperty(String.prototype,'codePointAt',{'value':codePointAt,'configurable':true,'writable':true});}else{String.prototype.codePointAt=codePointAt;}})();}/* *//*! http://mths.be/fromcodepoint v0.1.0 by @mathias */if(!String.fromCodePoint){(function(){var defineProperty=function(){// IE 8 only supports `Object.defineProperty` on DOM elements
try{var object={};var $defineProperty=Object.defineProperty;var result=$defineProperty(object,object,object)&&$defineProperty;}catch(error){}return result;}();var stringFromCharCode=String.fromCharCode;var floor=Math.floor;var fromCodePoint=function fromCodePoint(){var MAX_SIZE=0x4000;var codeUnits=[];var highSurrogate;var lowSurrogate;var index=-1;var length=arguments.length;if(!length){return'';}var result='';while(++index<length){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||// `NaN`, `+Infinity`, or `-Infinity`
codePoint<0||// not a valid Unicode code point
codePoint>0x10FFFF||// not a valid Unicode code point
floor(codePoint)!=codePoint// not an integer
){throw RangeError('Invalid code point: '+codePoint);}if(codePoint<=0xFFFF){// BMP code point
codeUnits.push(codePoint);}else{// Astral code point; split in surrogate halves
// http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae
codePoint-=0x10000;highSurrogate=(codePoint>>10)+0xD800;lowSurrogate=codePoint%0x400+0xDC00;codeUnits.push(highSurrogate,lowSurrogate);}if(index+1==length||codeUnits.length>MAX_SIZE){result+=stringFromCharCode.apply(null,codeUnits);codeUnits.length=0;}}return result;};if(defineProperty){defineProperty(String,'fromCodePoint',{'value':fromCodePoint,'configurable':true,'writable':true});}else{String.fromCodePoint=fromCodePoint;}})();}/* */if(arguments.length===0){wideAlert('No arguments were provided to Macro.range. '+'Cannot execute.');return;}else if(typeof lower!=='number'){if(typeof lower!=='string'){wideAlert('The lower argument provided to '+'Macro.range is not a number or string. Cannot '+'execute.');return;}else if(lower.length!==1){wideAlert('The lower argument provided to '+'Macro.range is a string, but is not of length '+'1. Cannot execute.');return;}}else if(Number.isNaN(lower)){wideAlert('The lower argument provided to Macro.range '+'is NaN. Cannot execute.');return;}else if(lower===Number.POSITIVE_INFINITY){wideAlert('The lower argument provided to Macro.range '+'is positive Infinity. Cannot execute.');return;}else if(lower===Number.NEGATIVE_INFINITY){wideAlert('The lower argument provided to Macro.range '+'is negative Infinity. Cannot execute.');return;}else if(arguments.length===1){wideAlert('The upper argument was not provided to '+'Macro.range. Cannot execute.');return;}if(typeof upper!=='number'){if(typeof upper!=='string'){wideAlert('The upper argument provided to '+'Macro.range is not a number or string. Cannot '+'execute.');return;}else if(upper.length!==1){wideAlert('The upper argument provided to '+'Macro.range is a string, but is not of length '+'1. Cannot execute.');return;}}else if(Number.isNaN(upper)){wideAlert('The upper argument provided to Macro.range '+'is NaN. Cannot execute.');return;}else if(upper===Number.POSITIVE_INFINITY){wideAlert('The upper argument provided to Macro.range '+'is positive Infinity. Cannot execute.');return;}else if(upper===Number.NEGATIVE_INFINITY){wideAlert('The upper argument provided to Macro.range '+'is negative Infinity. Cannot execute.');return;}if((typeof lower==='undefined'?'undefined':_typeof(lower))!==(typeof upper==='undefined'?'undefined':_typeof(upper))){wideAlert('The type of the lower argument provided to '+'Macro.range does not match that of the upper '+'argument. Either both must be a number, or both '+'must be a string.');return;}if(typeof step!=='undefined'){if(typeof step!=='number'){wideAlert('The step argument is provided to '+'Macro.range, but is not a number. Cannot '+'execute.');return;}else if(Number.isNaN(step)){wideAlert('The step argument provided to '+'Macro.range is NaN. Cannot execute.');return;}else if(step===Number.POSITIVE_INFINITY){wideAlert('The step argument provided to Macro.range '+'is positive Infinity. Cannot execute.');return;}else if(step===Number.NEGATIVE_INFINITY){wideAlert('The step argument provided to Macro.range '+'is negative Infinity. Cannot execute.');return;}else if(step<=0){wideAlert('The step argument provided to '+'Macro.range must be a number greater than 0. '+'Cannot execute.');return;}}var container=[];var stepNum=step;if(typeof step==='undefined'){stepNum=1;}if(typeof lower==='number'){if(lower>=upper){wideAlert('The lower argument passed to '+'Macro.range is greater than or equal to the '+'upper argument. Cannot execute.');return;}var index=lower;// upper-exclusive bound
while(index<upper){container.push(index);index+=stepNum;}}else if(typeof lower==='string'){var lowerCodePoint=lower.codePointAt(0);var upperCodePoint=upper.codePointAt(0);if(lowerCodePoint>=upperCodePoint){wideAlert('The lower character argument passed to '+'Macro.range has a code point greater than or '+'equal to the upper character argument\'s code '+'point. Cannot execute.');return;}if(stepNum%1!==0){wideAlert('The step provided to Macro.range is not '+'an integer. Cannot execute.');return;}var _index=lowerCodePoint;// upper-inclusive bound
while(_index<=upperCodePoint){try{var _str2=String.fromCodePoint(_index);if(_str2){container.push(_str2);}}catch(e){wideAlert('The following error was encountered '+'when trying to produce a string from the '+'following codepoint: '+_index);wideAlert(e);}_index+=stepNum;}}return JSON.stringify(container);}},'global');Macro.add('either',{handler:function handler(arraylike){var array=void 0;if(arguments.length===0){wideAlert('There were no arguments provided to '+'Macro.either. Cannot execute.');return;}else if(arguments.length===1){if(!arraylike){wideAlert('The only argument provided to '+'Macro.either is neither an object nor a '+'(non-empty) string. Cannot execute.');return;}else if((typeof arraylike==='undefined'?'undefined':_typeof(arraylike))==='object'){if(!('length'in arraylike)){wideAlert('An object was provided as the '+'only argument to Macro.either, but '+'it has no length property. Cannot execute.');return;}else if(!arraylike.length){wideAlert('An array-like object was provided '+'as the only argument to '+'Macro.either, but it is empty. Cannot '+'execute.');return;}array=arraylike;}else if(typeof arraylike==='string'){array=saferCombinedParse(arraylike);if(!array||(typeof array==='undefined'?'undefined':_typeof(array))!=='object'){wideAlert('The only argument provided to '+'Macro.either does not parse to a non-null '+'object. Cannot execute.');return;}else if(!('length'in array)){wideAlert('An string was provided as the '+'only argument to Macro.either, but '+'the object parsed from it has no length '+'property. Cannot execute.');return;}else if(!array.length){wideAlert('An string was provided '+'as the only argument to '+'Macro.either, but the array-like object '+'parsed from it is empty. Cannot execute.');return;}}else{wideAlert('Only one argument was passed to '+'Macro.either, and this argument is not an array or '+'arraylike object. Cannot execute.');return;}}else{array=arguments;}var index=Math.floor(Math.random()*array.length);var either=array[index];if((typeof either==='undefined'?'undefined':_typeof(either))==='object'){return JSON.stringify(either);}else{return either;}}},'global');Macro.add('random',{handler:function handler(floor,ceiling,float,exclusive){if(typeof floor!=='number'&&typeof floor!=='undefined'){wideAlert('The floor argument provided to '+'Macro.random is not a number. '+'Cannot execute.');return;}else if(Number.isNaN(floor)){wideAlert('The floor argument provided to '+'Macro.random is NaN. Cannot execute.');return;}else if(floor===Number.POSITIVE_INFINITY){wideAlert('The floor argument provided to '+'Macro.random is positive Infinity. Cannot '+'execute.');return;}else if(floor===Number.NEGATIVE_INFINITY){wideAlert('The floor argument provided to '+'Macro.random is negative Infinity. Cannot '+'execute.');return;}else if(typeof ceiling!=='number'&&typeof ceiling!=='undefined'){wideAlert('The ceiling argument provided to '+'Macro.random is not a number. '+'Cannot execute.');return;}else if(Number.isNaN(ceiling)){wideAlert('The ceiling argument provided to '+'Macro.random is NaN. Cannot execute.');return;}else if(ceiling===Number.POSITIVE_INFINITY){wideAlert('The ceiling argument provided to '+'Macro.random is positive Infinity. Cannot '+'execute.');return;}else if(ceiling===Number.NEGATIVE_INFINITY){wideAlert('The ceiling argument provided to '+'Macro.random is negative Infinity. Cannot '+'execute.');return;}var floorVal=floor;var ceilingVal=ceiling;if(floorVal>=ceilingVal){wideAlert('The floor argument provided to '+'Macro.random cannot be greater than or '+'equal to the ceiling argument. Cannot create '+'random number.');return;}if(typeof floor==='undefined'){floorVal=0;}if(typeof ceiling==='undefined'){ceilingVal=1;}var floatVal=float===true||typeof float==='string'&&float.toLowerCase()==='float';var exclusiveVal=void 0;if(exclusive===true||typeof exclusive==='string'&&exclusive.toLowerCase()==='exclusive'){exclusiveVal=true;}else if(typeof exclusive==='string'&&exclusive.toLowerCase()==='floor'){exclusiveVal='floor';}else if(typeof exclusive==='string'&&exclusive.toLowerCase()==='ceiling'){exclusiveVal='ceiling';}if(!floatVal&&floorVal+1>=ceilingVal&&exclusiveVal){wideAlert('The arguments for Macro.random indicate '+'an integer product with exclusive bounds, but '+'the ceiling argument is 1 or less greater than '+'the floor argument. Cannot execute.');return;}var rand=Math.random()*(ceilingVal-floorVal)+floorVal;if(!floatVal){rand=Math.round(rand);}if(rand<=floor){rand=floor;if(exclusiveVal===true||exclusiveVal==='floor'){if(floatVal){rand+=Number.EPSILON;}else{rand++;}}}else if(rand>=ceiling){rand=ceiling;if(exclusiveVal===true||exclusiveVal==='ceiling'){if(floatVal){rand-=Number.EPSILON;}else{rand--;}}}if(rand===-0){rand=0;}return rand;}},'global');Macro.global.rand=Macro.global.random;Macro.add('randomfloat',{handler:function handler(floor,ceiling,exclusive){if(typeof floor!=='number'&&typeof floor!=='undefined'){wideAlert('The floor argument provided to '+'Macro.randomfloat is not a number. '+'Cannot execute.');return;}else if(Number.isNaN(floor)){wideAlert('The floor argument provided to '+'Macro.randomfloat is NaN. Cannot execute.');return;}else if(floor===Number.POSITIVE_INFINITY){wideAlert('The floor argument provided to '+'Macro.randomfloat is positive Infinity. Cannot '+'execute.');return;}else if(floor===Number.NEGATIVE_INFINITY){wideAlert('The floor argument provided to '+'Macro.randomfloat is negative Infinity. Cannot '+'execute.');return;}else if(typeof ceiling!=='number'&&typeof ceiling!=='undefined'){wideAlert('The ceiling argument provided to '+'Macro.randomfloat is not a number. '+'Cannot execute.');return;}else if(Number.isNaN(ceiling)){wideAlert('The ceiling argument provided to '+'Macro.randomfloat is NaN. Cannot execute.');return;}else if(ceiling===Number.POSITIVE_INFINITY){wideAlert('The ceiling argument provided to '+'Macro.randomfloat is positive Infinity. Cannot '+'execute.');return;}else if(ceiling===Number.NEGATIVE_INFINITY){wideAlert('The ceiling argument provided to Macro.random '+'is negative Infinity. Cannot execute.');return;}var floorVal=floor;var ceilingVal=ceiling;if(floorVal>=ceilingVal){wideAlert('The floor argument provided to '+'Macro.randomfloat cannot be greater than or equal '+'to the ceiling argument. Cannot execute.');return;}if(typeof floor==='undefined'){floorVal=0;}if(typeof ceiling==='undefined'){ceilingVal=1;}var exclusiveVal=void 0;if(exclusive===true||typeof exclusive==='string'&&exclusive.toLowerCase()==='exclusive'){exclusiveVal=true;}else if(typeof exclusive==='string'&&exclusive.toLowerCase()==='floor'){exclusiveVal='floor';}else if(typeof exclusive==='string'&&exclusive.toLowerCase()==='ceiling'){exclusiveVal='ceiling';}var rand=Math.random()*(ceilingVal-floorVal)+floorVal;if(rand===floor){if(exclusiveVal===true||exclusiveVal==='floor'){rand+=Number.EPSILON;}}else if(rand===ceiling){if(exclusiveVal===true||exclusiveVal==='ceiling'){rand-=Number.EPSILON;}}if(rand===-0){rand=0;}return rand;}},'global');Macro.global['random-float']=Macro.global.randomfloat;Macro.global.randfloat=Macro.global.randomfloat;Macro.global['rand-float']=Macro.global.randomfloat;Macro.add('randominteger',{handler:function handler(floor,ceiling,exclusive,negative){if(typeof floor!=='number'&&typeof floor!=='undefined'){wideAlert('The floor argument provided to '+'Macro.randominteger is not a number. '+'Cannot execute.');return;}else if(Number.isNaN(floor)){wideAlert('The floor argument provided to '+'Macro.randominteger is NaN. Cannot execute.');return;}else if(floor===Number.POSITIVE_INFINITY){wideAlert('The floor argument provided to '+'Macro.randominteger is positive Infinity. Cannot '+'execute.');return;}else if(floor===Number.NEGATIVE_INFINITY){wideAlert('The floor argument provided to '+'Macro.randominteger is negative Infinity. Cannot '+'execute.');return;}else if(typeof ceiling!=='number'&&typeof ceiling!=='undefined'){wideAlert('The ceiling argument provided to '+'Macro.randominteger is not a number. '+'Cannot execute.');return;}else if(Number.isNaN(ceiling)){wideAlert('The ceiling argument provided to '+'Macro.randominteger is NaN. Cannot execute.');return;}else if(ceiling===Number.POSITIVE_INFINITY){wideAlert('The ceiling argument provided to '+'Macro.randominteger is positive Infinity. Cannot '+'execute.');return;}else if(ceiling===Number.NEGATIVE_INFINITY){wideAlert('The ceiling argument provided to '+'Macro.randominteger is negative Infinity. Cannot '+'execute.');return;}var floorVal=floor;var ceilingVal=ceiling;if(floorVal>=ceilingVal){wideAlert('The floor argument provided to '+'Macro.randominteger cannot be greater than or '+'equal to the ceiling argument. Cannot execute.');return;}if(typeof floor==='undefined'){floorVal=0;}if(typeof ceiling==='undefined'){ceilingVal=1;}var exclusiveVal=void 0;if(exclusive===true||typeof exclusive==='string'&&exclusive.toLowerCase()==='exclusive'){exclusiveVal=true;}else if(typeof exclusive==='string'&&exclusive.toLowerCase()==='floor'){exclusiveVal='floor';}else if(typeof exclusive==='string'&&exclusive.toLowerCase()==='ceiling'){exclusiveVal='ceiling';}if(floorVal+1>=ceilingVal&&exclusiveVal){wideAlert('The arguments for Macro.randominteger '+'indicate exclusive bounds, but the ceiling '+'argument is 1 or less greater than the floor '+'argument. Cannot execute.');return;}var rand=Math.round(Math.random()*(ceilingVal-floorVal)+floorVal);if(rand===floor){if(exclusiveVal===true||exclusiveVal==='floor'){rand++;}}else if(rand===ceiling){if(exclusiveVal===true||exclusiveVal==='ceiling'){rand--;}}if(rand===-0){rand=0;}return rand;}},'global');Macro.global['random-integer']=Macro.global.randominteger;Macro.global.randomint=Macro.global.randominteger;Macro.global['random-int']=Macro.global.randominteger;Macro.global.randinteger=Macro.global.randominteger;Macro.global['rand-integer']=Macro.global.randominteger;Macro.global.randint=Macro.global.randominteger;Macro.global['rand-int']=Macro.global.randominteger;Macro.add('rolldice',{handler:function handler(dice,returnType,discard){/* Production steps of ECMA-262, Edition 5, 15.4.4.21
                 * Reference: http://es5.github.io/#x15.4.4.21 */if(!Array.prototype.reduce){Array.prototype.reduce=function(callback/*, initialValue*/){'use strict';if(this==null){throw new TypeError('Array.prototype.reduce called on null or undefined');}if(typeof callback!=='function'){throw new TypeError(callback+' is not a function');}var t=Object(this),len=t.length>>>0,k=0,value;if(arguments.length==2){value=arguments[1];}else{while(k<len&&!(k in t)){k++;}if(k>=len){throw new TypeError('Reduce of empty array with no initial value');}value=t[k++];}for(;k<len;k++){if(k in t){value=callback(value,t[k],k,t);}}return value;};}/* */var diceVal=void 0;if(typeof dice==='string'){diceVal=saferCombinedParse(dice);if(typeof diceVal==='string'){diceVal=dice.split(' ');}else if(!diceVal||(typeof diceVal==='undefined'?'undefined':_typeof(diceVal))!=='object'){wideAlert('The dice argument provied to '+'Macro.rolldice is not valid. A valid argument '+'is either an array-like object or a string.');return;}else{diceVal=from(diceVal);}}if(!('length'in diceVal)){wideAlert('The object provided to Macro.rolldice as '+'the dice argument does not have a length property. '+'Cannot execute.');return;}else if(!diceVal.length){wideAlert('The array provided to Macro.rolldice as the '+'dice argument is empty. Cannot execute.');return;}else{var filtered=diceVal.filter(function(aa){return typeof aa==='string'&&aa.trim()!=='';});if(filtered.length===0){wideAlert('The dice argument provided to '+'Macro.rolldice is not valid. A valid argument '+'is either an array or string, either containing '+'one or more strings of the type XdY, where X '+'is the number of times to roll that die, and '+'Y is the number of faces on that die.');return;}}var rolls=[];var regex=/\d+d\d+/;for(var ii=0;ii<diceVal.length;ii++){var portion=diceVal[ii];if(typeof portion!=='string'){wideAlert('The portion of the dice argument '+'provided to Macro.diceroll, '+portion+', '+'is not a string. Cannot execute.');continue;}else if(!portion){wideAlert('The portion of the dice argument '+'provided to Macro.diceroll is empty. Ignoring '+'portion.');continue;}else if(!regex.test(portion)){wideAlert('The portion of the dice argument '+'provided to Macro.diceroll, '+portion+', '+'does not match the valid dice pattern. The '+'valid pattern is an integer, immediately '+'followed by the letter d, immediately '+'followed by another integer, e.g. 2d6, or '+'11d4, or 12d18.');continue;}else if(portion.length!==portion.match(regex)[0].length){wideAlert('The portion of the dice argument '+'provided to Macro.diceroll, '+portion+', is not valid. It contains characters '+'extraneous to the valid dice pattern. The '+'valid pattern is an integer, immediately '+'followed by the letter d, immediately '+'followed by another integer, e.g. 3d4, or '+'6d11, or 10d12.');continue;}var split=portion.split('d');var times=Number(split[0]);var sides=Number(split[1]);for(var jj=0;jj<times;jj++){rolls.push(Math.floor(Math.random()*sides)+1);}}rolls=rolls.sort();if(discard&&typeof discard==='string'){var discardVal=discard.toLowerCase().replace(/[ .-]/g,'');var _split=discardVal.toString().split(/\d/);var constant=discardVal.split(/[^\d%]/).slice(-1)[0];var percent=false;if(constant[constant.length-1]==='%'){percent=true;constant=Number(constant.slice(0,-1))/100;}constant=Number(constant);if(percent){if(_split[0]==='lowest'){var lowIndex=Math.round(rolls.length*constant);rolls=rolls.slice(rolls.length*Number(_split[1]));}else if(_split[0]==='highest'){var highIndex=Math.round(rolls.length-rolls.length*constant);rolls=rolls.slice(0,highIndex);}else if(_split[0]==='both'){var _lowIndex=Math.round(rolls.length*constant);var _highIndex=Math.round(rolls.length-rolls.length*constant);rolls=rolls.slice(_lowIndex,_highIndex);}else{wideAlert('The discard argument provided to '+'Macro.rolldice is not valid. Returning as '+'is.');}}else{if(_split[0]==='lowest'){var _lowIndex2=constant;rolls=rolls.slice(_lowIndex2);}else if(_split[0]==='highest'){var _highIndex2=rolls.length-constant;rolls=rolls.slice(0,_highIndex2);}else if(_split[0]==='both'){var _lowIndex3=constant;var _highIndex3=rolls.length-constant;rolls=rolls.slice(_lowIndex3,_highIndex3);}else{wideAlert('The discard argument provided to '+'Macro.rolldice is not valid. Returning as '+'is.');}}}if(!returnType||typeof returnType==='string'&&returnType.toLowerCase()==='sum'){return rolls.reduce(function(a,b){return a+b;});}else{return rolls;}}},'global');Macro.global['roll-dice']=Macro.global.rolldice;Macro.global.diceroll=Macro.global.rolldice;Macro.global['dice-roll']=Macro.global.rolldice;Macro.add('function',{isDoubleTag:true,defer:true,handler:function handler(name){if(arguments.length<2){wideAlert('At least two arguments, the function name '+'and the callback, must be provided to '+'Macro.function to create a function/widget.');return;}var argNames=from(arguments).slice(1,-1).map(function(name){var bool=Boolean(name);if(name){return name.toString();}else{return null;}}).filter(function(name){return Boolean(name);});State.addFunction.call(this,name,false,argNames,arguments[arguments.length-1]);}},'global');Macro.global.widget=Macro.global.function;Macro.add('functionoverride',{isDoubleTag:true,defer:true,handler:function handler(name){if(arguments.length<2){wideAlert('At least two arguments, the function name '+'and the callback, must be provided to '+'Macro.function to create a function/widget.');return;}var argNames=from(arguments).slice(1,-1).map(function(name){var bool=Boolean(name);if(name){return name.toString();}else{return null;}}).filter(function(name){return Boolean(name);});State.addFunction.call(this,name,true,argNames,arguments[arguments.length-1]);}},'global');Macro.global['function-override']=Macro.global.functionoverride;Macro.global.widgetoverride=Macro.global.functionoverride;Macro.global['widget-override']=Macro.global.functionoverride;Macro.add('return',{handler:function handler(value){if(!State.currentTheme.debug.failHard){wideAlert('Return statements can only be used with '+'State.currentTheme.debug.failHard set to true.');return;}else if(!$(this).parents('.functionContainer').length){// causes error, aborts
wideAlert('Illegal return statement. Returns must be '+'contained in user-created functions/widgets.');}var match=document.createElement('tw-argument');if(isNode(value)){match.appendChild(value);}else{match.innerHTML=value;}var returning=$(this).parents('.functionContainer')[0];if(returning){Matches.functionsReturning.push(returning);}return match;}},'global');Macro.add('bind',{isDoubleTag:true,defer:true,handler:function handler(name,callback){if(!name||typeof name!=='string'){wideAlert('The name argument passed to '+'Macro.global.bind is not valid. Cannot execute.');return;}else if(!callback||typeof callback!=='string'){wideAlert('There was no callback argument provided to '+'Macro.global.bind. Cannot execute.');return;}var nameVal=name.trim();var match=document.createElement('tw-binding');this.appendChild(match);match.setAttribute('data-binding-name',nameVal);match.innerHTML=callback;Compiler.compile(match);State.addBinding(nameVal,callback);return match;}},'global');Macro.add('updatebinding',{handler:function handler(name){if(!name||typeof name!=='string'){wideAlert('The name argument passed to '+'Macro.updatebinding is not valid. Not updating.');return;}else if(!(name in State.bindingStore)){wideAlert('The name argument passed to '+'Macro.updatebinding does not correspond with a '+'current binding. Cannot update.');return;}var nameVal=name.trim();State.updateBinding(name);}},'global');Macro.global['update-binding']=Macro.global.updatebinding;Macro.add('updatebindings',{handler:function handler(){State.updateBindings();}},'global');Macro.global['update-bindings']=Macro.global.updatebindings;Macro.add('getbinding',{handler:function handler(name){if(!name||typeof name!=='string'){wideAlert('The name argument provided to '+'Macro.global.getbinding is not a valid string. '+'Cannot execute.');return;}var nameVal=name.trim();if(nameVal in State.currentBindingState){return JSON.stringify(State.currentBindingState[nameVal]);}// return nothing, evaluating as false, if there is none
}},'global');Macro.global['get-binding']=Macro.global.getbinding;Macro.add('requestanimationframe',{isDoubleTag:true,defer:true,handler:function handler(callback){var $span=$('<span></span>');$(this).contents().filter(function(_,node){var dataType=$(node).attr('data-type');return dataType!=='openTagTerminator';}).appendTo($span);var func=function func(){Compiler.compile($span[0]);};requestAnimationFrame(func);return $span[0];}},'global');Macro.global['request-animation-frame']=Macro.global.requestanimationframe;Macro.global.requestanimframe=Macro.global.requestanimationframe;Macro.global['request-anim-frame']=Macro.global.requestanimationframe;Macro.global.raf=Macro.global.requestanimationframe;Macro.add('live',{isDoubleTag:true,defer:true,handler:function handler(time,callback){if(!time){wideAlert('The time argument passed to Macro.live is not '+'valid. Cannot perform live.');return;}else if(!callback||typeof callback!=='string'){wideAlert('The callback argument passed to '+'Macro.global.live is not valid.');return;}var timeObj={amt:0,unit:'ms'};if(typeof time==='string'){time=time.trim().toLowerCase();if(time.endsWith('ms')){var num=Number(time.split('ms').slice(0,-1).join());if(Number.isNaN(num)||num<=0){wideAlert('The time value passed to Macro.live, '+time+', is not valid.');return;}timeObj.amt=num;}else if(time.endsWith('s')){var _num=Number(time.split('s').slice(0,-1).join());if(Number.isNaN(_num)||_num<=0){wideAlert('The time value passed to Macro.live, '+time+', is not valid.');return;}timeObj.amt=_num;timeObj.unit='s';}else{wideAlert('The time value passed to Macro.live, '+time+', is not valid.');return;}}else if(typeof time==='number'){if(time<=0){wideAlert('The time argument passed to Macro.live must '+'be greater than zero. Cannot perform live.');return;}timeObj.amt=time;}var displayer=document.createElement('span');displayer.className='intervalDisplayer';var deferrer=document.createElement('tw-deferrer');deferrer.className='hidden';deferrer.textContent=callback;var timeVal=timeObj.amt;if(timeObj.unit==='s'){timeVal*=1000;}var intID=window.setInterval(function(){displayer.innerHTML=deferrer.innerHTML;Compiler.compile(displayer);},timeVal);displayer.dataset.intervalId=intID;deferrer.dataset.intervalId=intID;var parent=document.createElement('span');parent.appendChild(displayer);parent.appendChild(deferrer);return parent;}},'global');Macro.global.interval=Macro.global.live;Macro.global.setinterval=Macro.global.live;Macro.global['set-interval']=Macro.global.live;Macro.add('delay',{isDoubleTag:true,defer:true,handler:function handler(time,callback){if(!time){wideAlert('The time argument passed to Macro.live is '+'not valid. Cannot execute.');return;}else if(!callback){wideAlert('The callback argument passed to Macro.live '+'is not valid. Cannot execute.');return;}var timeObj={amt:0,unit:'ms'};if(typeof time==='string'){time=time.trim().toLowerCase();if(time.endsWith('ms')){var num=Number(time.split('ms').slice(0,-1).join());if(Number.isNaN(num)||num<=0){wideAlert('The time argument passed to '+'Macro.live, '+time+', is not valid. '+'Cannot execute.');return;}timeObj.amt=num;}else if(time.endsWith('s')){var _num2=Number(time.split('s').slice(0,-1).join());if(Number.isNaN(_num2)||_num2<=0){wideAlert('The time argument passed to '+'Macro.live, '+time+', is not valid. '+'Cannot execute.');return;}timeObj.amt=_num2;timeObj.unit='s';}else{wideAlert('The time argument passed to Macro.live, '+time+', is not valid. Cannot execute.');return;}}else if(typeof time==='number'){if(time<=0){wideAlert('The time argument passed to Macro.live '+'must be greater than zero. Cannot execute.');return;}timeObj.amt=time;}var displayer=$('<span></span>')[0];var deferrer=$('<tw-deferrer class="hidden"></tw-deferrer>')[0];deferrer.innerHTML=callback;var timeVal=timeObj.amt;if(timeObj.unit==='s'){timeVal*=1000;}var intID=window.setTimeout(function(){displayer.innerHTML=deferrer.innerHTML;Compiler.compile(displayer);$(displayer).parent().remove();},timeVal);$(displayer).attr('data-timeout-id',intID);$(deferrer).attr('data-timeout-id',intID);var span=$('<span></span>')[0];span.appendChild(displayer);span.appendChild(deferrer);return span;}},'global');Macro.global.timeout=Macro.global.delay;Macro.global.settimeout=Macro.global.delay;Macro.global['set-timeout']=Macro.global.delay;Macro.add('stop',{handler:function handler(){var selector='[data-interval-id], [data-timeout-id]';var $elem=$(this).parents(selector);if(!$elem.length){wideAlert('Macro.stop/clear can only be used within '+'macros that also contain a live/interval or '+'delay/timeout macro. Cannot execute.');return;}var id=$elem.attr('data-interval-id');if(id){var intervalIDParsed=Math.floor(Number(id));window.clearInterval(intervalIDParsed);}else{id=$elem.attr('data-timeout-id');var timeoutIDParsed=Math.floor(Number(id));}$elem.parent().remove();}},'global');Macro.global.clear=Macro.global.stop;//Macro.global.cleartimeout = Macro.global.stop;
//Macro.global['clear-timeout'] = Macro.global.stop;
Macro.global.clearinterval=Macro.global.stop;Macro.global['clear-interval']=Macro.global.stop;Macro.add('script',{isDoubleTag:true,defer:true,handler:function handler(){for(var ii=0;ii<arguments.length;ii++){var processed=(arguments[ii]||'').toString().replace(/[\n\r\t]/g,'');try{eval(processed);}catch(e){wideAlert(e);}}}},'global');Macro.add('tojson',{isDoubleTag:true,defer:true,handler:function handler(value){var processed=value.replace(/[\n\r\t]/g,'');// remove hooks
if(this.getAttribute('data-dialect')==='harlowe'){processed=processed.replace(/^\s*\[|\s*]$/g,'');}processed='('+processed+')';try{return JSON.stringify(eval(processed));}catch(e){wideAlert(e);}}},'global');Macro.global['to-json']=Macro.global.tojson;Macro.global.jsonstringify=Macro.global.tojson;Macro.global['json-stringify']=Macro.global.tojson;Macro.add('alert',{handler:function handler(){alert(from(arguments).join(' '));}},'global');Macro.add('log',{handler:function handler(){console.log(from(arguments).join(' '));}},'global');Macro.global.consolelog=Macro.global.log;Macro.global['console-log']=Macro.global.log;Macro.add('passageinfo',{handler:function handler(propName,passageName){var passage=void 0;if(passageName){passage=passageName;}else{passage=State.currentPassageName;}var selector='tw-passagedata[name="'+passage+'"]';var $curPass=$(selector);if(!$curPass.length){if(passageName){wideAlert('There is no tw-passagedata element '+'corresponding to the name, '+passageName+', passed to Macro.passageinfo. Cannot execute.');return;}else{wideAlert('When calling Macro.passageinfo, it was '+'determined that the current state of the '+'story has become corrupted and the '+'State.currentPassageName property is inaccurate. '+'Cannot execute.');return;}}var passObj={pid:$curPass.attr('pid'),name:passage,text:$curPass.text(),html:$curPass.html(),tags:$curPass.attr('tags'),position:$curPass.attr('position')};if(typeof propName!=='undefined'){if(typeof passObj[propName]==='undefined'){wideAlert('There is no '+propName+' property '+'within the generated passage object. '+'Cannot retrieve.');return;}return JSON.stringify(passObj[propName]);}else{return JSON.stringify(passObj);}}},'global');Macro.global['passage-info']=Macro.global.passageinfo;Macro.add('getproperty',{handler:function handler(object,propName){var obj=void 0;if(typeof object==='string'){if(!object){wideAlert('A string was provided as the object '+'argument to Macro.getproperty, but it is '+'empty. Cannot execute.');return;}obj=Macro.saferCombinedParse(obj);if(!obj||(typeof obj==='undefined'?'undefined':_typeof(obj))!=='object'){wideAlert('The string provided as the object '+'argument to Macro.getproperty cannot be '+'parsed or evalled into a valid object. Cannot '+'execute.');return;}}else if((typeof object==='undefined'?'undefined':_typeof(object))==='object'){if(!object){wideAlert('An object was provided as the object '+'argument to Macro.getproperty, but it is '+'null, and null does not have properties. '+'Cannot execute.');return;}obj=object;}else{wideAlert('The object argument provided to '+'Macro.getproperty is neither an object nor a '+'string. Cannot execute.');return;}if(!propName||typeof propName!=='string'){wideAlert('The propName argument provided to '+'Macro.getproperty is not a string, or is an empty '+'string. Cannot execute.');return;}else if(!(propName in obj)){wideAlert('There is no '+propName+' property in '+'the object argument provided to '+'Macro.getproperty. Cannot execute.');return;}if(_typeof(object[propName])==='object'){return JSON.stringify(object[propName]);}else{return propName;}}},'global');Macro.global['get-property']=Macro.global.getproperty;Macro.global.getprop=Macro.global.getproperty;Macro.global['get-prop']=Macro.global.getproperty;Macro.add('math',{handler:function handler(propName){if(typeof propName!=='string'||!propName){wideAlert('The propName argument passed to Macro.math is '+'not valid. Cannot perform action.');return;}var prop=Math[propName];if(!prop){wideAlert('The propName argument passed to Macro.math does '+'not correspond to a property within the Math '+'object. Cannot perform action.');return;}if(isFunction(prop)){return prop.apply(null,from(arguments).slice(1));}else{return prop;}}},'global');Macro.add('number',{handler:function handler(propName){if(typeof propName!=='string'||!propName){wideAlert('The propName argument passed to Macro.number '+'is not valid. Cannot perform action.');return;}var prop=Number[propName];if(!prop){wideAlert('The propName argument passed to Macro.number '+'does not correspond to a property within the '+'Number object. Cannot perform action.');return;}if(isFunction(prop)){return prop.apply(null,from(arguments).slice(1));}else{return prop;}}},'global');Macro.add('access',{handler:function handler(propName){if(!propName||typeof propName!=='string'){wideAlert('The propName argument passed to '+'Macro.access is not valid. Cannot execute.');return;}var split=propName.split('.');var parent=saferEval(split[0]);var child=parent[split[1]];for(var ii=2;ii<split.length;ii++){parent=child;child=parent[split[ii]];}var prop=child;if(typeof parent==='undefined'||typeof child==='undefined'){prop=saferEval(propName);}if(typeof prop==='undefined'){wideAlert('The propName argument provided to '+'Macro.access does not correspond to any '+'properties. Cannot execute.');return;}var result=void 0;if(isFunction(prop)){result=prop.apply(parent,from(arguments).slice(1));}else{result=prop;}if((typeof result==='undefined'?'undefined':_typeof(result))==='object'){return JSON.stringify(result);}else{return result;}}},'global');Macro.add('addtracerygrammar',{isDoubleTag:true,handler:function handler(name,grammar,modifiers){if(typeof name!=='string'||name===''){wideAlert('The name argument passed to '+'Macro.printtracerygrammar is not valid. Cannot '+'add.');return;}else if(!grammar){wideAlert('The grammar argument passed to '+'Macro.printtracerygrammar is not valid. Cannot '+'add.');return;}State.addTraceryGrammar(name,grammar,modifiers);}},'global');Macro.global['add-tracery-grammar']=Macro.global.addtracerygrammar;Macro.add('setgrammarmodifiers',{handler:function handler(name,modifiers){if(typeof name!=='string'||name===''){wideAlert('The name argument passed to '+'Macro.setgrammarmodifiers is not valid. Cannot '+'modify.');return;}else if(!(name in State.traceryStore)){wideAlert('There is no tracery grammer by the name '+name+' in State.traceryStore. Add the grammar before '+'attempting to modify it.');return;}else if(!modifiers){wideAlert('The modifiers argument passed to '+'Macro.setgrammarmodifiers is not valid. Cannot '+'modify.');}var json=State.traceryStore[name].toJSON();delete State.traceryStore[name];State.addTraceryGrammar(name,modifiers);}},'global');Macro.global['set-grammar-modifiers']=Macro.global.setgrammarmodifiers;Macro.add('printtracerygrammar',{handler:function handler(name,rule,allowEscapeChars){if(typeof name!=='string'||name===''){wideAlert('The name argument passed to '+'Macro.printtracerygrammar is not valid. Cannot '+'print.');return;}else if(!(name in State.traceryStore)){wideAlert('There is no tracery grammer by the name '+name+' in State.traceryStore. Add the grammar before '+'attempting to print it.');return;}var grammar=State.traceryStore[name];if(!rule){rule='#origin#';}return grammar.flatten(rule,allowEscapeChars);}},'global');Macro.global['print-tracery-grammar']=Macro.global.printtracerygrammar;Macro.add('mouseevent',{handler:function handler(propName){if(typeof propName==='undefined'){return window.mouseEvent;}else if(propName in window.mouseEvent){return window.mouseEvent[propName];}else{wideAlert('There is no '+propName+' property in window.mouseEvent.');return null;}}},'global');Macro.global['mouse-event']=Macro.global.mouseevent;Macro.add('keyboardevent',{handler:function handler(key,propName){if(!key||key==='*'){return window.keyEvents;}else{if(!(key in window.keyEvents)){wideAlert('There is no '+key+' property in window.keyEvents.');return null;}if(!propName){return window.keyEvents[key];}else if(propName in window.keyEvents){return window.keyEvents[key][propName];}else{wideAlert('There is no '+propName+' property in window.keyEvents.');return null;}}}},'global');Macro.global['keyboard-event']=Macro.global.keyboardevent;Macro.add('makeelement',{handler:function handler(str){if(!isElementRawString(str)){wideAlert('The str argument passed to '+'Macro.makeelement is not valid. Cannot make.');return;}var elem=$(str)[0];elem.setAttribute('data-gately','');return elem;}},'global');Macro.global['make-element']=Macro.global.makeelement;Macro.add('maketextnode',{handler:function handler(content){if(!content){wideAlert('The content argument passed to '+'Macro.maketextnode is not valid. Cannot make.');return;}return document.createTextNode(content);}},'global');Macro.global['make-text-node']=Macro.global.maketextnode;Macro.add('setelementcontent',{handler:function handler(element,content){if(!element||typeof element!=='string'&&!isElement(element)){wideAlert('The element argument passed to '+'Macro.setelementcontent is not valid. Cannot set '+'element content.');return;}else if(!content){wideAlert('The content argument passed to '+'Macro.setelementcontent is not valid. Cannot set '+'element content.');return;}var validElement=element;if(typeof validElement==='string'){try{validElement=document.querySelector(validElement);}catch(e){/* do nothing */}}if(isElement(content)||isNode(content)){$(element).contents().remove();element.parentElement.appendChild(content);}else{element.innerHTML=content;}return element;}},'global');Macro.global['set-element-content']=Macro.global.setelementcontent;Macro.add('appendnode',{handler:function handler(parentElement,childElement){if(!parentElement||typeof parentElement!=='string'&&!isElement(parentElement)){wideAlert('The parentElement argument passed to '+'Macro.appendelement is not valid. Cannot append.');}else if(!childElement||typeof childElement!=='string'&&!isElement(childElement)&&!isNode(childElement)){wideAlert('The childElement argument passed to '+'Macro.appendelement is not valid. Cannot append.');}var validParent=parentElement;if(typeof validParent==='string'){try{validParent=document.querySelector(parentElement);}catch(e){/* do nothing */}if(!validParent){wideAlert('The string passed as the parentElement '+'argument to Macro.appendelement is not a '+'valid selector.');return;}}var validChild=childElement;if(typeof validChild==='string'){validChild=$(childElement)[0];if(!validChild){wideAlert('The string passed as the childElement '+'argument to Macro.appendelement is not a '+'valid selector.');return;}}validParent.appendChild(validChild);return validChild;}},'global');Macro.global['append-node']=Macro.global.appendnode;Macro.add('removenode',{handler:function handler(node){if(!node||typeof node!=='string'&&!isNode(node)&&!isElement(node)){wideAlert('The node argument passed to '+'Macro.removenode is not valid. Cannot append.');}else if(!node.parentElement){wideAlert('The node.parentElement passed to '+'Macro.removeelement is not valid. Cannot append.');}var validNode=node;if(typeof node==='string'){try{validNode=document.querySelector(node);}catch(e){wideAlert('The string passed as the childElement '+'argument to Macro.removeelement is not a '+'valid selector.');return;}}validNode.parentElement.removeChild(validNode);return validNode;}},'global');Macro.global['remove-node']=Macro.global.removenode;Macro.add('elementscss',{handler:function handler(elementsOrSelector,property,value){if(!elementsOrSelector||typeof elementsOrSelector!=='string'&&!isElement(elementsOrSelector)){wideAlert('The elementsOrSelector argument passed to '+'Macro.elementscss is not valid. Cannot change css.');return;}else if(isElementRawString(validElements)){wideAlert('The Macro.elementscss method can only '+'be used to modify the inline style of '+'pre-existing elements, not construct new '+'elements. Cannot change css.');return;}else if(!property){wideAlert('The property argument passed to '+'Macro.elementscss is not valid. Cannot change css.');return;}else if(typeof value==='undefined'){wideAlert('The value argument passed to '+'Macro.elementscss is not set. Cannot change css.');return;}var $validElements=$(elementsOrSelector);$validElements.css(property,value);return from($(elementsOrSelector));}},'global');Macro.global['elements-css']=Macro.global.elementscss;Macro.add('elementsattr',{handler:function handler(elementsOrSelector,property,value){if(!elementsOrSelector||typeof elementsOrSelector!=='string'&&!isElement(elementsOrSelector)){wideAlert('The elementsOrSelector argument passed to '+'Macro.elementsattr is not valid. Cannot change '+'attr.');return;}else if(isElementRawString(validElements)){wideAlert('The Macro.elementsattr method can only '+'be used to modify the attributes of '+'pre-existing elements, not construct new '+'elements. Cannot change attr.');return;}else if(!property){wideAlert('The property argument passed to '+'Macro.elementsattr is not valid. Cannot change '+'attr.');return;}else if(typeof value==='undefined'){wideAlert('The value argument passed to '+'Macro.elementsattr is not set. Cannot change attr.');return;}var $validElements=$(elementsOrSelector);$validElements.attr(property,value);return from($(elementsOrSelector));}},'global');Macro.global['elements-attr']=Macro.global.elementsattr;Macro.add('jquery',{handler:function handler(selector,extension,value){var $jqObj=$(selector);if(extension){if(!(extension in $jqObj)){wideAlert('The property '+extension+' does not '+'exist in the jQuery ($) object.');return;}else if(Macro.isFunction($jqObj[extension])){return $jqObj[extension](value);}else{if(typeof value==='undefined'){return $jqObj[extension];}else{wideAlert('The '+extension+' property in '+'the jQuery object is not a function. '+'Cannot execute.');return;}}}else{return $jqObj;}}},'global');Macro.global.$=Macro.global.jquery;Macro.add('addmacroalias',{handler:function handler(macroName,aliasName,disposeAfterPassage,override){if(!macroName){wideAlert('The macroName argument passed to '+'Macro.addmacroalias is not valid. Cannot add macro alias.');return;}else if(!aliasName){wideAlert('The aliasName argument passed to '+'Macro.addmacroalias is not valid. Cannot add macro alias.');return;}State.addMacroAlias(macroName,aliasName,disposeAfterPassage,override);}},'global');Macro.global['add-macro-alias']=Macro.global.addmacroalias;Macro.add('printmacroinfo',{handler:function handler(macroName){if(!macroName){wideAlert('The macroName argument passed to '+'Macro.printmacroinfo is not valid. Cannot print.');return;}else if(macroName in Macro){var macro=Macro[macroName];return'isDoubleTag: '+(macro.isDoubleTag||false)+'\n'+'defer: '+(macro.defer||false)+'\n'+'source: '+(macro.handler.toString()||'Empty!');}else if(macroName in State.macroAliasStore){// TODO
}else if(macroName in State.functionStore){// TODO
}else{wideAlert('There is no object by the name '+macroName+' in the Macro object, the State.macroAliasStore '+'object, or the State.functionStore object. Cannot '+'print.');return;}}},'global');Macro.global['print-macro-info']=Macro.global.printmacroinfo;Macro.add('edittheme',{handler:function handler(property,value){if(!property){wideAlert('The property argument passed to Macro.config '+'is not valid. Cannot alter configuration.');return;}else if(typeof value==='undefined'){wideAlert('The value argument passed to Macro.config '+'is not valid. Cannot alter configuration.');return;}var obj={};obj[property]=value;Config.editTheme(obj);}},'global');Macro.global['edit-theme']=Macro.global.settheme;Macro.add('savetheme',{handler:function handler(name,theme){if(!name){wideAlert('The name argument passed to Macro.savetheme '+'is not valid or was not provided. Cannot save '+'theme.');return;}else if(name in State.themeStore){wideAlert('The name argument passed to Macro.savetheme '+'already exists within State.themeStore. Cannot '+'save theme.');return;}var themeObj=theme||State.currentTheme;if(typeof themeObj==='string'){themeObj=saferJSONParse(theme);}if(!themeObj||(typeof themeObj==='undefined'?'undefined':_typeof(themeObj))!=='object'){wideAlert('The theme object is either not a valid object '+'or is a string that cannot be parsed into a valid '+'object. Cannot save theme.');return;}State.saveTheme(name,themeObj);}},'global');Macro.global['save-theme']=Macro.global.savetheme;Macro.add('savethemeoverride',{handler:function handler(name,theme){if(!name){wideAlert('The name argument passed to Macro.savetheme '+'is not valid or was not provided. Cannot save '+'theme.');return;}var themeObj=theme||State.currentTheme;if(typeof themeObj==='string'){themeObj=saferJSONParse(theme);}if(!themeObj||(typeof themeObj==='undefined'?'undefined':_typeof(themeObj))!=='object'){wideAlert('The theme object is either not a valid object '+'or is a string that cannot be parsed into a valid '+'object. Cannot save theme.');return;}State.setTheme(name,themeObj);}},'global');Macro.global['save-theme-override']=Macro.global.savethemeoverride;Macro.add('loadtheme',{handler:function handler(name){if(!name){wideAlert('The name argument provided to Macro.loadtheme '+'is not valid or was not provided. Cannot load '+'theme.');return;}else if(!(name in State.themeStore)){wideAlert('The name argument provided to Macro.loadtheme '+'does not match any currently saved theme. Cannot '+'load theme.');return;}State.loadTheme(name);}},'global');Macro.global['load-theme']=Macro.global.loadtheme;Macro.add('configrendertype',{handler:function handler(value){Config.editRenderType(value);}},'global');Macro.global['config-render-type']=Macro.global.configrendertype;Macro.add('confignewlinetype',{handler:function handler(value){Config.editNewlineType(value);}},'global');Macro.global['config-newline-type']=Macro.global.confignewlinetype;Macro.add('configrewind',{handler:function handler(value){Config.editRewind(value);}},'global');Macro.global['config-rewind']=Macro.global.configrewind;Macro.add('configfastforward',{handler:function handler(value){Config.editFastForward(value);}},'global');Macro['config-fast-forward']=Macro.global.configfastforward;Macro.add('configerrorlevel',{handler:function handler(value){Config.editErrorLevel(value);}},'global');Macro.global['config-error-level']=Macro.global.configerrorlevel;Macro.add('configstyle',{isDoubleTag:true,defer:true,handler:function handler(value){Config.editStyle(value);}},'global');Macro.global['config-style']=Macro.global.configstyle;Macro.add('configprerender',{isDoubleTag:true,defer:true,handler:function handler(value){Config.editPrerender(value);}},'global');Macro.global['config-prerender']=Macro.global.configprerender;Macro.add('configpostrender',{isDoubleTag:true,defer:true,handler:function handler(value){Config.editPostrender(value);}},'global');Macro.global['config-postrender']=Macro.global.configpostrender;Macro.add('storyvolume',{handler:function handler(volume){var val=Math.floor(Number(volume));if(volume==='quieter'){val=Math.max(0,Mixer.getStoryVolume()-0.1);Mixer.setStoryVolume(val);}else if(volume==='louder'){val=Math.min(1,Mixer.getStoryVolume()+0.1);}else if(val<=0){wideAlert('The volume argument passed to '+'Macro.soundvolume is not a valid, positive '+'number.');return;}Mixer.setStoryVolume(val);}},'global');Macro.global['story-volume']=Macro.global.storyvolume;Macro.add('newsound',{handler:function handler(name,channel,src,autoplay,loop,volume,fade){new Sound(name,channel,src,autoplay,loop,volume,fade);}},'global');Macro.global['new-sound']=Macro.global.newsound;Macro.add('soundduration',{handler:function handler(soundName,duration){var sound=Mixer.sounds[soundName];if(!sound){wideAlert('There is no sound in Mixer.sounds with the '+'name '+soundName+'. Cannot alter duration.');return;}var val=Math.floor(Number(duration));if(val<=0){wideAlert('The duration argument passed to '+'Macro.soundduration is not a valid, positive '+'number.');return;}sound.duration=val;}},'global');Macro.global['sound-duration']=Macro.global.soundduration;Macro.add('soundchannel',{handler:function handler(soundName,channelName){var sound=Mixer.sounds[soundName];if(!sound){wideAlert('There is no sound in Mixer.sounds with the '+'name '+soundName+'. Cannot assign to channel.');return;}var channel=Mixer.channels[channelName];if(!channel){wideAlert('There is no channel in Mixer.channels with '+'the name '+channelName+'. Cannot assign to '+'channel.');return;}sound.channel=channel;}},'global');Macro.global['sound-channel']=Macro.global.soundchannel;Macro.add('soundsrc',{handler:function handler(soundName,src){var sound=Mixer.sounds[soundName];if(!sound){wideAlert('There is no sound in Mixer.sounds with the '+'name '+soundName+'. Cannot assign to channel.');return;}if(!src){wideAlert('The src argument passed to Macro.soundsrc '+'is not a valid, non-empty string.');return;}sound.audioElement.src=src;}},'global');Macro.global['sound-src']=Macro.global.soundsrc;Macro.add('soundloop',{handler:function handler(soundName,loop){var sound=Mixer.sounds[soundName];if(!sound){wideAlert('There is no sound in Mixer.sounds with the '+'name '+soundName+'. Cannot assign to channel.');return;}if(loop||typeof loop==='undefined'){sound.loop();}else{sound.unloop();}}},'global');Macro.global['sound-loop']=Macro.global.soundloop;Macro.add('soundvolume',{handler:function handler(soundName,volume){var sound=Mixer.sounds[soundName];if(!sound){wideAlert('There is no sound in Mixer.sounds with the '+'name '+soundName+'. Cannot adjust volume.');return;}var val=Math.floor(Number(volume));if(val==='quieter'){sound.quieter();}else if(val==='louder'){sound.louder();}else if(val<=0){wideAlert('The volume argument passed to '+'Macro.soundvolume is not a valid, positive '+'number.');return;}else{sound.setVolume(val);}}},'global');Macro.global['sound-volume']=Macro.global.soundvolume;Macro.add('soundfade',{handler:function handler(soundName,fade){var sound=Mixer.sounds[soundName];if(!sound){wideAlert('There is no sound in Mixer.sounds with the '+'name '+soundName+'. Cannot assign to channel.');return;}if(!fade){wideAlert('The fade argument passed to Macro.soundfade '+'is not valid.');return;}sound.setFade(fade);}},'global');Macro.global['sound-fade']=Macro.global.soundfade;Macro.add('crossfade',{handler:function handler(outSoundName,inSoundName,which){var outSound=Mixer.sounds[outSoundName];if(!outSound){wideAlert('There is no sound in Mixer.sounds with '+'the name '+outSoundName+'. Cannot crossfade.');return;}var inSound=Mixer.sounds[inSoundName];if(!inSound){wideAlert('There is no sound in Mixer.sounds with the '+'name '+inSoundName+'. Cannot crossfade.');return;}outSound.crossfade(inSound,which);}},'global');Macro.global['cross-fade']=Macro.global.crossfade;Macro.add('newchannel',{handler:function handler(name,defaultVolume,sounds){if(!name){wideAlert('The name argument passed to '+'Macro.newchannel is not valid. Cannot create new '+'channel.');return;}var soundObjs=[];for(var ii=0;ii<sounds.length;ii++){var _sound=sounds[ii];if(_sound in Mixer.sounds){soundObjs.push(Mixer.sounds[_sound]);}else{gatelyLog('Could not find sound: '+_sound+'. '+'Cannot add to new channel: '+name+'.');}}new Channel(name,defaultVolume,soundObjs);}},'global');Macro.global['new-channel']=Macro.global.newchannel;Macro.add('channelvolume',{handler:function handler(channelName,volume){var channel=Mixer.channels[channelName];if(!sound){wideAlert('There is no channel in Mixer.channels with '+'the name '+channelName+'. Cannot adjust '+'volume.');return;}var val=Math.floor(Number(volume));if(val==='quieter'){channel.quieter();}else if(val==='louder'){channel.louder();}else if(val<=0){wideAlert('The volume argument passed to '+'Macro.soundvolume is not a valid, positive '+'number.');return;}else{channel.setVolume(val);}}},'global');Macro.global['channel-volume']=Macro.global.channelvolume;Macro.add('makefade',{handler:function handler(isFading,easing,timing,steps){var fade=new Fade(isFading,easing,timing,steps);return JSON.stringify(fade);}},'global');Macro.global['make-fade']=Macro.global.makefade;Macro.add('compileroff',{handler:function handler(){State.compilerStatus.running=false;}},'global');Macro.global['compiler-off']=Macro.global.compileroff;Macro.global.nocompile=Macro.global.compileroff;Macro.global['no-compile']=Macro.global.compileroff;Macro.global.nocompiler=Macro.global.compileroff;Macro.global['no-compiler']=Macro.global.compileroff;Macro.global.compilerstop=Macro.global.compileroff;Macro.global['compiler-stop']=Macro.global.compileroff;Macro.add('compileron',{handler:function handler(){State.compilerStatus.running=true;}},'global');Macro.global['compiler-on']=Macro.global.compileron;Macro.global.yescompile=Macro.global.compileron;Macro.global['yes-compile']=Macro.global.compileron;Macro.global.yescompiler=Macro.global.compileron;Macro.global['yes-compiler']=Macro.global.compileron;Macro.global.compilerstart=Macro.global.compileron;Macro.global['compiler-start']=Macro.global.compileron;Macro.add('asis',{defer:true,isDoubleTag:true,handler:function handler(){return from(arguments).join('');}},'global');Macro.global['as-is']=Macro.global.asis;Macro.add('failsoft',{defer:true,isDoubleTag:true,handler:function handler(callback){if(typeof callback==='undefined'){State.currentTheme.debug.failHard=false;}else{var original=State.currentTheme.debug.failHard;State.currentTheme.debug.failHard=false;var payload=document.createElement('div');payload.innerHTML=callback;Compiler.compile(payload);State.currentTheme.debug.failHard=original;}}},'global');Macro.global['fail-soft']=Macro.global.failsoft;Macro.add('failhard',{defer:true,isDoubleTag:true,handler:function handler(callback){if(typeof callback==='undefined'){State.currentTheme.debug.failHard=true;}else{var original=State.currentTheme.debug.failHard;State.currentTheme.debug.failHard=true;var payload=document.createElement('div');payload.innerHTML=callback;try{Compiler.compile(payload);}catch(e){// do nothing
}State.currentTheme.debug.failHard=original;}}},'global');Macro.global['fail-hard']=Macro.global.failhard;Macro.add('throw',{handler:function handler(message){var msg=message;if(!msg){msg='';}wideAlert(msg);}},'global');})();

},{}],6:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

(function () {
    'use strict';

    var unusedMatchId = 0;

    window.Matches = {
        currentMatch: null,

        createMatchObject: function createMatchObject(dataType, parent, dialect, macroType) {
            return {
                dataType: dataType,
                macroType: macroType,
                parent: parent,
                children: [],
                id: Matches.getNewMatchId(),
                finishedStartTag: false,
                dialect: dialect
            };
        },
        getCurrentMatchId: function getCurrentMatchId() {
            if (Matches.currentMatch) {
                return Matches.currentMatch.id;
            } else {
                return null;
            }
        },
        getNewMatchId: function getNewMatchId() {
            return unusedMatchId++;
        },
        getDataType: function getDataType(match) {
            if (match && match.getAttribute && match.getAttribute('data-type')) {
                return match.getAttribute('data-type').replace(/&quot;|["']/g, '');
            } else if (match && match.dataType && match.dataType.replace) {
                return match.dataType.replace(/&quot;|["']/g, '');
            } else {
                return null;
            }
        },
        getMacroType: function getMacroType(match) {
            if (match && match.getAttribute) {
                return match.getAttribute('data-macro-type');
            } else if (match && match.macroType) {
                return match.macroType;
            } else {
                return null;
            }
        },
        getMacroObject: function getMacroObject(type) {
            if (!type) {
                console.log('Invalid type received by ' + 'Matches.getMacroObject.');
                return null;
            }

            var namespace = void 0;
            var macroObj = void 0;
            var typeSplit = type.split('.');
            if (typeSplit.length === 1) {
                namespace = Macro.global;
                macroObj = Macro.global[type];
            } else {
                namespace = Macro[typeSplit[0]];
                macroObj = namespace[typeSplit.slice(1).join('.')];
            }

            return macroObj;
        },
        getCurrentParent: function getCurrentParent(match) {
            if (match && match.parent) {
                return match.parent;
            } else if (match && match.parentNode) {
                return match.parentNode;
            } else {
                return null;
            }
        },
        isDoubleTagMacroOpener: function isDoubleTagMacroOpener(match) {
            if (!match || !match.dataType || match.dataType !== 'macro' || match.finishedStartTag) {
                return false;
            }

            var macro = Matches.getMacroObject(match.macroType);
            return macro && macro.isDoubleTag;
        },
        isFinishedStartTag: function isFinishedStartTag(match) {
            if (match) {
                return match.finishedStartTag;
            } else {
                return false;
            }
        },


        reservedWordLookup: {
            /* 'eq': '==',
            'neq': '!=', */
            'is': '===',
            'isnot': '!==',
            'gt': '>',
            'gte': '>=',
            'lt': '<',
            'lte': '<=',
            'and': '&&',
            'or': '||',
            'not': '!',
            'to': '=',
            'it': 'it',
            '+': '+'
        },

        harloweParentheses: 0,

        functionsReturning: [],

        macro: function macro(match) {
            var parents = $(match).parents('.functionContainer');
            for (var ii = 0; ii < Matches.functionsReturning.length; ii++) {
                var ret = Matches.functionsReturning[ii];
                if (parents.index(ret) !== -1) {
                    match.parentNode.removeChild(match);
                    return;
                }
            }

            if (!match) {
                wideAlert('Something went wrong! The match passed to ' + 'Matches.macro is undefined.');
                return;
            }

            var type = Matches.getMacroType(match);
            var macroObj = Matches.getMacroObject(type);

            if (!macroObj) {
                macroObj = State.macroAliasStore[type];
            }

            if (!macroObj) {
                macroObj = State.functionStore[type];
            }

            if (!macroObj) {
                wideAlert('There is no macro object, alias, or ' + 'function/widget for a token of type: ' + type + '.');
                //match.innerHTML = '';
                return;
            }

            var macroHandler = macroObj.handler;
            if (!macroHandler) {
                wideAlert('There is no macro handler for a token of type: ' + type + '.');
                return;
            }

            if (type === 'if') {
                Matches.if(match);
                return;
            }

            var tokenHTML = '';
            var tokens = match.childNodes;
            var args = [];
            var allNumbers = null;
            var seenNonPlusOperator = null;
            var untransformed = '';
            for (var _ii = 0; _ii < tokens.length; _ii++) {
                var varToSet = void 0;
                while (_ii < tokens.length) {
                    var dataType = Matches.getDataType(tokens[_ii]);
                    if (dataType === 'comma' || dataType === 'openTagTerminator') {
                        break;
                    } else if (!tokens[_ii].textContent.trim() && tokens[_ii].nodeType === 3) {
                        _ii++;
                        continue;
                    } else if (dataType === 'variable' && /^(set|let|put)$/.test(type) && tokenHTML.indexOf('=') === -1) {
                        tokens[_ii].innerHTML = tokens[_ii].dataset.variableName;
                    } else if (dataType === 'reservedWord' && tokens[_ii].textContent === 'it' && varToSet) {
                        var val = varToSet.trim();
                        if (val[0] === '$') {
                            val = val.slice(1);
                        }

                        val = State.getVariable(val, match);
                        var valType = typeof val === 'undefined' ? 'undefined' : _typeof(val);
                        if (val && valType === 'object' && val.type !== 'gatelyPointer') {
                            val = State.getPointer(val, match);
                        }

                        if (valType !== 'undefined') {
                            tokens[_ii].innerHTML = val;
                            tokens[_ii].dataset.javascriptType = valType;
                        } else {
                            tokens[_ii].innerHTML = 'undefined';
                            tokens[_ii].dataset.javascriptType = 'undefined';
                        }

                        /* what is this?
                        if (typeof(variable) === 'string') {
                            tokens[ii].innerHTML = 
                                '"' + variable.replace(/"/g, '&quot;') + '"';
                        } else {
                            tokens[ii].innerHTML = variable;
                        } */
                    }

                    var token = void 0;
                    if (dataType === 'variable' && tokens[_ii].dataset.javascriptType === 'object') {
                        token = tokens[_ii].firstChild.innerHTML;
                    } else if (dataType || tokens[_ii].tagName === 'TW-ARGUMENT') {
                        token = tokens[_ii].innerHTML;
                    } else if (tokens[_ii].nodeType === 1) {
                        if (tokens[_ii].hasAttribute('gately')) {
                            token = tokens[_ii];
                        } else {
                            token = tokens[_ii].outerHTML;
                        }
                    } else if (tokens[_ii].nodeType === 8) {
                        _ii++;
                        continue;
                        // token = '<!-- ' + tokens[ii].textContent + '-->';
                    } else {
                        token = tokens[_ii].textContent;
                    }

                    if (typeof token === 'undefined') {
                        token = tokens[_ii].textContent || '';
                    }

                    if (dataType === 'singleQuote' && token.startsWith("'") && token.endsWith("'")) {
                        token = token.slice(1, -1);
                    } else if (dataType === 'doubleQuote' && token.startsWith('"') && token.endsWith('"')) {
                        token = token.slice(1, -1);
                    }

                    var trim = token.trim();
                    if (trim.length !== 1 || !/[+\-*\/%]/.test(trim[0]) || /^(set|let|put)$/.test(type)) {
                        if (/^[()\d+\-*\/%].$/.test(trim) && allNumbers === null) {
                            allNumbers = true;
                        }

                        tokenHTML += token;
                    } else if (trim.length === 1 && /[\-*\/%()]/.test(trim[0])) {
                        seenNonPlusOperator = true;
                    }

                    untransformed += token;

                    _ii++;
                }

                // skip empty arguments
                if (!tokenHTML.trim()) {
                    continue;
                }

                // use eval if and only if arithmetic is being performed
                if (allNumbers) {
                    tokenHTML = saferEval(untransformed);
                } else if (seenNonPlusOperator) {
                    tokenHTML = 'NaN';
                }

                args.push(tokenHTML);
                tokenHTML = '';
                untransformed = '';
                allNumbers = null;
                seenNonPlusOperator = null;
            }

            for (var _ii2 = 0; _ii2 < args.length; _ii2++) {
                var pointer = saferJSONParse(args[_ii2]);
                if (State.isPointer(pointer) && !macroObj.pointerPassthrough) {
                    args[_ii2] = State.getVariable(pointer.path, match);
                }
            }

            var retVal = void 0;
            var typeSplit = type.split('.');
            var actionType = typeSplit.slice(-1)[0];
            var namespace = void 0;
            if (typeSplit.length === 1) {
                namespace = Macro.global;
            } else {
                namespace = Macro;

                var ns = typeSplit.slice(0, typeSplit.length - 1);

                for (var _ii3 = 0; _ii3 < ns.length; _ii3++) {
                    namespace = namespace[ns[_ii3]];
                }

                if (namespace === Macro) {
                    namespace = {};
                }
            }

            if (isFunction(namespace.handler)) {
                retVal = namespace.handler.apply(match, [actionType].concat(args));
            } else {
                retVal = macroHandler.apply(match, args);
            }

            if (typeof retVal === 'undefined') {
                retVal = '';
            }

            match.innerHTML = '';
            if (isNode(retVal) || isElement(retVal)) {
                match.appendChild(retVal);
            } else {
                match.innerHTML = retVal;
            }

            if (window.DEBUG || State.recordingTranscript && Options.recordingLevels.render) {
                var html = document.querySelector('tw-passage.current');
                var htmltxt = void 0;
                if (html) {
                    htmltxt = html.outerHTML;
                } else {
                    var elem = match;
                    while (elem && elem.parentElement) {
                        elem = elem.parentElement;
                    }

                    htmltxt = elem.innerHTML;
                }

                var newState = {};
                for (var name in State) {
                    var lowName = name.toLowerCase();
                    var prop = State[name];
                    if (lowName.indexOf('binding') === -1 && lowName.indexOf('transcript') === -1 && lowName.startsWith('current') && !isFunction(prop)) {
                        newState[name] = State[name];
                    }
                }

                State.currentTranscriptEntry.macros.push({
                    passageName: State.currentPassageName,
                    html: htmltxt,
                    time: new Date().getTime().toString(),
                    state: JSON.stringify(newState),
                    type: 'macro',
                    errors: from(State.compilerStatus.errors)
                });

                State.compilerStatus.errors = [];
            }

            if (Matches.functionsReturning.indexOf(match) !== -1) {
                Matches.functionsReturning.splice(Matches.functionsReturning.indexOf(match), 1);
            }
        },


        if: function _if(match) {
            Matches.processIfBoolean(match, 'nest');

            var before = match.childNodes[0].textContent;
            var after = void 0;
            try {
                after = saferEval(before);
            } catch (e) {/* do nothing */}

            if (after) {
                var nodes = from(match.childNodes);
                var terminatorIndex = nodes.map(function (node) {
                    return Matches.getDataType(node) === 'openTagTerminator';
                }).indexOf(true);

                var hook = match.childNodes[terminatorIndex + 1];

                // get the next non-text node
                if (hook.nodeType === 3) {
                    hook = hook.nextElementSibling;
                }

                Matches.handle(hook);

                while (hook.nextSibling) {
                    hook.parentNode.removeChild(hook.nextSibling);
                }
            } else {
                // must be ahead of if: boolean argument and tag terminator
                for (var ii = 2; ii < match.children.length; ii++) {
                    var child = match.children[ii];
                    var childMT = Matches.getMacroType(child);

                    if (childMT === 'elseif' || childMT === 'else-if' || childMT === 'else') {
                        var _before = child.childNodes[0].textContent;
                        var _after = void 0;

                        try {
                            _after = saferEval(_before);
                        } catch (e) {/* do nothing */}

                        if (_after || childMT === 'else') {
                            // skip the tag terminator
                            var subMatch = document.createElement('tw-match');
                            subMatch.innerHTML = child.children[1].outerHTML;

                            var blockScope = State.getBlockScope(match);
                            if (blockScope) {
                                subMatch.dataset.blockDefinitions = JSON.stringify(blockScope);
                            }

                            Matches.handle(subMatch);

                            $(match.children[ii]).nextAll().remove();
                            $(match.children[ii]).replaceWith($(subMatch).contents());
                        } else {
                            $(child).remove();
                            ii--;
                        }
                    }
                }
            }

            var args = [match.childNodes[0]].concat(from(match.children).slice(1));
            var value = Macro.global.if.handler.apply(this, args);
            $(match).replaceWith(value);
        },

        processIfBoolean: function processIfBoolean(match, nest) {
            var pastOpenTag = false;
            var point = 'elseif';

            $(match).addClass('processedIf');

            var handleStr = '';
            for (var ii = 0; ii < match.childNodes.length; ii++) {
                var child = match.childNodes[ii];
                var childDT = Matches.getDataType(child);
                var childMT = Matches.getMacroType(child);

                if (handleStr !== null) {
                    if (childDT !== 'openTagTerminator') {
                        if (child.outerHTML) {
                            handleStr += match.childNodes[ii].outerHTML;
                        } else {
                            handleStr += match.childNodes[ii].textContent;
                        }
                    } else {
                        // remove all prior nodes
                        $(match.childNodes[ii]).prevAll().remove();

                        var subMatch = document.createElement('tw-match');
                        subMatch.innerHTML = handleStr;

                        var blockScope = State.getBlockScope(match);
                        if (blockScope) {
                            subMatch.dataset.blockDefinitions = JSON.stringify(blockScope);
                        }

                        Matches.handle(subMatch);

                        var text = document.createTextNode(subMatch.textContent);
                        $(match.childNodes[0]).before(text);

                        // prevent looking for else-ifs within else-ifs
                        if (nest !== true && nest !== 'nest') {
                            return;
                        }

                        handleStr = null;
                        ii = 0;
                    }
                } else {
                    if (childMT === 'elseif' || childMT === 'else-if') {
                        if (point === 'else') {
                            wideAlert('An else-if macro cannot follow an ' + 'else macro! Ignoring else-if.');
                            child.outerHTML = '';
                        } else {
                            Matches.processIfBoolean(child);
                        }
                    } else if (childMT === 'else') {
                        point = 'else';
                    }
                }
            }
        },
        variable: function variable(match) {
            match.dataset.variableName = match.textContent;

            var varName = match.textContent.trim();
            var varType = varName[0];
            varName = varName.slice(1);

            var currentVarState = State.currentVariableState;
            var variable = void 0;
            var jsType = void 0;

            if (State.variableInBlockScope(varName, match.parentNode)) {
                variable = State.getBlockScope(match.parentNode)[varName];
            } else {
                variable = State.getVariable(varName, match.parentNode);
            }

            jsType = typeof variable === 'undefined' ? 'undefined' : _typeof(variable);
            if (typeof variable === 'undefined') {
                variable = 'undefined';
                jsType = 'undefined';
            } else if (State.isPointer(variable)) {
                jsType = 'pointer';
            } else if ((typeof variable === 'undefined' ? 'undefined' : _typeof(variable)) === 'object') {
                variable = State.getPointer(varName, match.parentNode);
                jsType = 'pointer';
                match.dataset.pointer = true;
            }

            if (isElement(variable)) {
                match.innerHTML = variable.outerHTML;
            } else if (isNode(variable)) {
                match.innerHTML = variable.textContent;
            } else if (jsType === 'pointer') {
                // if it is bare, print it
                if (match.parentNode === State.parserStatus.element) {
                    var result = State.getVariable(variable);
                    if ((typeof result === 'undefined' ? 'undefined' : _typeof(result)) === 'object') {
                        match.innerHTML = JSON.stringify(result);
                    } else {
                        match.innerHTML = result;
                    }
                } else {
                    match.innerHTML = JSON.stringify(variable);
                }
            } else {
                match.innerHTML = variable;
            }

            match.dataset.javascriptType = jsType;
        },
        reservedWord: function reservedWord(match) {
            if (match.textContent in Matches.reservedWordLookup) {
                match.textContent = Matches.reservedWordLookup[match.textContent];
            } else {
                gatelyLog('There is no entry in the reserved word lookup ' + 'table for the match: ' + match.textContent + '.');
            }
        },
        html: function html(match) {
            if (match.tagName === 'SCRIPT') {
                try {
                    eval(match.innerText);
                } catch (e) {
                    wideAlert(e);
                }
            } else {
                from(match.children).forEach(function (child) {
                    for (var ii = 0; ii < child.attributes.length; ii++) {
                        var attr = child.attributes[ii];

                        // skip all data-attributes
                        if (attr.name in child.dataset) {
                            continue;
                        }

                        var text = attr.textContent;
                        var regex = /(?:^|[\s"';:])(\$[^\s;:"'%)]+)(?=[\s"';;:%)]|$)/;
                        while (regex.test(text)) {
                            var varName = text.match(regex)[1];
                            var val = State.getVariable(varName.slice(1), child);
                            text = text.replace(varName, (val || '').toString().replace(/\$/g, ''));
                        }

                        attr.textContent = text;
                    }

                    if (child.tagName === 'SCRIPT') {
                        try {
                            eval(child.innerText);
                        } catch (e) {
                            wideAlert(e);
                        }
                    } else if (child.tagName !== 'STYLE') {
                        Compiler.compile(child);
                    }
                });
            }
        },
        handle: function handle(match) {
            if (!State.compilerStatus.running) {
                return;
            }

            var ifs = ['if', 'elseif', 'else-if', 'else'];
            var unfinishedIf = ifs.indexOf(Matches.getMacroType(match)) !== -1 && !$(match).hasClass('processedIf');
            var defer = $(match).hasClass('defer');

            var seenTerminator = false;

            if (!unfinishedIf || defer && seenTerminator) {
                from(match.children).forEach(function (childMatch) {
                    if (!State.compilerStatus.running && !/compiler-?on/.test(childMatch.dataset.macroType)) {
                        return;
                    } else if ('children' in childMatch) {
                        Matches.handle(childMatch);
                    }

                    var type = Matches.getDataType(childMatch);
                    // skip all plain, non-parsed nodes
                    if (!type) {
                        return;
                    } else if (type === 'openTagTerminator') {
                        seenTerminator = true;
                    }

                    var handler = Matches[type];

                    if (!handler) {
                        wideAlert('There is no match handler for a token of ' + 'type: ' + type + '.');
                    } else {
                        handler(childMatch);
                    }
                });
            }
        }
    };
    Matches.singleQuote = noop;
    Matches.doubleQuote = noop;
    Matches.comma = noop;
    Matches.number = noop;
    Matches.openTagTerminator = noop;
    Matches.hook = noop;
    Matches.accessor = noop;
})();

},{}],7:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

(function () {
    'use strict';

    var getOwnPropertyNames = Object.getOwnPropertyNames;

    var easings = {
        /** Move at a linear rate from start to finish. Note: timing does not
        * affect linear fading. volume = x. */
        LINEAR: 'linear',
        /** Move at a quadratic rate from start to finish. volume = x^2. */
        QUADRATIC: 'quadratic',
        /** Move at a cubic rate from start to finish. volume = x^3. */
        CUBIC: 'cubic',
        /** Move at a quartic rate from start to finish. volume = x^4. */
        QUARTIC: 'quartic',
        /** Move at a quintic rate from start to finish. volume = x^5. */
        QUINTIC: 'quintic',
        /** Move at a exponential rate from start to finish. volume = x^10. */
        EXPONENTIAL: 'exponential'
    };
    easings = Object.freeze(Object.seal(easings));
    if (isFunction(window.Proxy)) {
        easings = new window.Proxy(easings, {
            set: function set() {
                gatelyLog('Mixer.easings is frozen and ' + 'sealed, and cannot be altered.');
            }
        });
    }
    var FADING_EASING_TYPE = easings.LINEAR;

    /** 
     * An immutable enum-like object containing the possible values for 
     * timings used to fade sounds. It is impossible to change anything
     * within this object or add to it. In ES6, attempting to do so will
     * produce a log message; changes made in earlier versions of ES will
     * fail silently.
     * @global
     * @enum {string}
     * @const
     */
    var timings = {
        /** Perform easing during the first half of the fade. */
        EASEIN: 'easeIn',
        /** Perform easing during the second half of the fade. */
        EASEOUT: 'easeOut',
        /** Perform easing at for the whole of the fade. */
        EASEINOUT: 'easeInOut'
    };
    timings = Object.freeze(Object.seal(timings));
    if (isFunction(window.Proxy)) {
        timings = new window.Proxy(timings, {
            set: function set() {
                gatelyLog('Mixer.timings is frozen and sealed, ' + 'and cannot be altered.');
            }
        });
    }
    var FADING_TIMING_TYPE = timings.EASEINOUT;

    var userVolume = 1;
    var storyVolume = 1;
    window.Mixer = {
        easings: easings,
        timings: timings,
        channels: {},
        sounds: {},
        getUserVolume: function getUserVolume() {
            return userVolume;
        },
        getStoryVolume: function getStoryVolume() {
            return storyVolume;
        },
        setStoryVolume: function setStoryVolume(value) {
            storyVolume = Number(value);
            Mixer.updateVolumes();
        },
        updateVolume: function updateVolume(sound) {
            var totalVolume = userVolume * storyVolume * Mixer.channels[sound.channel].getVolume() * sound.getVolume();
            sound.audioElement.volume = totalVolume;
        },
        updateVolumes: function updateVolumes() {
            getOwnPropertyNames(Mixer.channels).forEach(function (name) {
                var channel = Mixer.channels[name];

                getOwnPropertyNames(channel.sounds).forEach(function (name) {
                    Mixer.updateVolume(Mixer.sounds[name]);
                });
            });
        }
    };

    function updateAudioDisplay() {
        // add audio channels
        var $audioDisplay = $('#defaultAudioDisplay');
        $audioDisplay.children().remove();

        var selector = '<tw-audio-channel></tw-audio-channel>';

        var $global = $(selector);
        $('<span>Master Volume</span>').appendTo($global);
        $('<br>').appendTo($global);

        var $input = $('<input></input>');
        $input.attr({
            type: 'range',
            value: userVolume,
            min: '0',
            max: '1',
            step: '0.01'
        });

        $input.on('change mousemove', function (e) {
            userVolume = e.currentTarget.value;
            Mixer.updateVolumes();
        });

        $input.appendTo($global);
        $('<span class="rangeReadout">1</span>').appendTo($global);
        $global.appendTo($audioDisplay);

        getOwnPropertyNames(Mixer.channels).forEach(function (name) {
            // don't display none channel
            if (name === 'none') {
                return;
            }

            var channelData = Mixer.channels[name];

            var selector = '<tw-audio-channel></tw-audio-channel>';
            var $channel = $(selector);

            var $title = $('<span></span>');
            $title.text(channelData.getName());
            $title.appendTo($channel);

            var $range = $('<input></input>');
            $range.attr({
                type: 'range',
                step: '0.01',
                min: '0',
                max: '1',
                value: channelData.getVolume().toString()
            });

            $range.appendTo($channel);

            $range.on('change mousemove', function (e) {
                channelData.setVolume(e.currentTarget.value, 'noupdate');
            });

            var $readout = $('<span class="rangeReadout"></span>');
            $readout.text(channelData.getVolume());
            $readout.appendTo($channel);

            $channel.appendTo($audioDisplay);
        });
    }
    window.updateAudioDisplay = updateAudioDisplay;

    var Channel = function Channel(name, defaultVolume, sounds) {
        _classCallCheck(this, Channel);

        if (!name || typeof name !== 'string') {
            throw new Error('The name argument passed to the Channel ' + 'constructor is not valid. Cannot add.');
        } else if (name in Mixer.channels) {
            throw new Error('A channel by that name already exists. ' + 'Cannot add.');
        }

        var storyName = name;
        this.getName = function getName() {
            return storyName;
        };

        var channelVolume = Number(defaultVolume);
        if (channelVolume > 1) {
            throw new Error('The default volume of a Channel cannot be ' + 'greater than 1. Cannot create Channel.');
        } else if (channelVolume < 0) {
            throw new Error('The default volume of a Channel cannot be ' + 'less than 0. Cannot create Channel.');
        } else if (Number.isNaN(channelVolume)) {
            if (typeof defaultVolume === 'undefined') {
                channelVolume = 1;
            } else {
                throw new Error('The defaultVolume argument passed to ' + 'the Channel constructor is not valid. Cannot ' + 'create Channel.');
            }
        }

        this.getVolume = function getVolume() {
            return channelVolume;
        };

        this.setVolume = function setVolume(value, noupdate) {
            var val = Number(value);

            if (!validateVolume(val, 'setVolume method')) {
                return;
            }

            channelVolume = Math.min(1, Math.max(0, val));

            var soundVals = getOwnPropertyNames(this.sounds).map(function (name) {
                return Mixer.sounds[name];
            });
            soundVals.forEach(function (sound) {
                Mixer.updateVolume(sound);
            });

            if (noupdate !== true && noupdate !== 'noupdate') {
                updateAudioDisplay();
            }
        };

        this.quieter = function quieter() {
            channelVolume = Math.max(0, channelVolume - 0.1);
        };

        this.louder = function louder() {
            channelVolume = Math.min(1, channelVolume + 0.1);
        };

        Mixer.channels[name] = this;

        this.sounds = {};
        var soundObjs = [];
        if (typeof sounds === 'undefined' || sounds === null) {
            soundObjs = [];
        } else {
            soundObjs = from(sounds);
        }

        for (var ii = 0; ii < soundObjs.length; ii++) {
            var sound = soundObjs[ii];
            if (!('name' in sound)) {
                gatelyLog('There is no name property in the Sound ' + 'object ' + sound + '. Cannot add Sound to Channel.');
                continue;
            } else if (!sound.getName()) {
                gatelyLog('The name property in the Sound object ' + sound + ' is not valid. Cannot add Sound to ' + 'Channel.');
                continue;
            }

            var channel = Mixer.channels[sound.channel];
            var soundName = sound.getName();
            delete channel.sounds[soundName];

            sound.channel = this.getName();
            this.sounds[soundName] = sound;
        }

        Mixer.updateVolumes();

        updateAudioDisplay();
    };

    Mixer.channels.none = new Channel('none');
    window.Channel = Channel;

    /* ====================================================================
     * Adapted from Robert Penner's Easing Equations v2.01                *
     * (c) 2003 Robert Penner, all rights reserved.                       *
     * These equations are subject to the terms in                        *
     * http://www.robertpenner.com/easing_terms_of_use.html.              *
     * ==================================================================== */
    function linearEasing(time, initial, change, duration) {
        return change * time / duration + initial;
    }

    function quadEasing(time, initial, change, duration, timing) {
        if (timing === Mixer.timings.EASE_IN) {
            return change * (time /= duration) * time + initial;
        } else if (timing === Mixer.timings.EASE_OUT) {
            return -change * (time /= duration) * (time - 2) + initial;
        } else if (timing === Mixer.timings.EASE_IN_OUT) {
            if ((time /= duration / 2) < 1) {
                return change / 2 * time * time + initial;
            }
            return -change / 2 * (--time * (time - 2) - 1) + initial;
        }
    }

    function cubeEasing(time, initial, change, duration, timing) {
        if (timing === Mixer.timings.EASE_IN) {
            return change * (time /= duration) * time * time + initial;
        } else if (timing === Mixer.timings.EASE_OUT) {
            return change * ((time = time / duration - 1) * time * time + 1) + initial;
        } else if (timing === Mixer.timings.EASE_IN_OUT) {
            if ((time /= duration / 2) < 1) {
                return change / 2 * time * time * time + initial;
            }
            return change / 2 * ((time -= 2) * time * time + 2) + initial;
        }
    }

    function quartEasing(time, initial, change, duration, timing) {
        if (timing === Mixer.timings.EASE_IN) {
            return change * (time /= duration) * time * time * time + initial;
        } else if (timing === Mixer.timings.EASE_OUT) {
            return -change * ((time = time / duration - 1) * time * time * time - 1) + initial;
        } else if (timing === Mixer.timings.EASE_IN_OUT) {
            if ((time /= duration / 2) < 1) {
                return change / 2 * time * time * time * time + initial;
            }
            return -change / 2 * ((time -= 2) * time * time * time - 2) + initial;
        }
    }

    function quintEasing(time, initial, change, duration, timing) {
        if (timing === Mixer.timings.EASE_IN) {
            return change * (time /= duration) * time * time * time * time + initial;
        } else if (timing === Mixer.timings.EASE_OUT) {
            return change * ((time = time / duration - 1) * time * time * time * time + 1) + initial;
        } else if (timing === Mixer.timings.EASE_IN_OUT) {
            if ((time /= duration / 2) < 1) {
                return change / 2 * time * time * time * time * time + initial;
            }
            return change / 2 * ((time -= 2) * time * time * time * time + 2) + initial;
        }
    }

    function expEasing(time, initial, change, duration, timing) {
        if (timing === Mixer.timings.EASE_IN) {
            return time === 0 ? initial : change * Math.pow(2, 10 * (time / duration - 1)) + initial;
        } else if (timing === Mixer.timings.EASE_OUT) {
            return time === duration ? initial + change : change * (-Math.pow(2, -10 * time / duration) + 1) + initial;
        } else if (timing === Mixer.timings.EASE_IN_OUT) {
            if (time === 0) {
                return initial;
            } else if (time === duration) {
                return initial + change;
            } else if ((time /= duration / 2) < 1) {
                return change / 2 * Math.pow(2, 10 * (time - 1)) + initial;
            }
            return change / 2 * (-Math.pow(2, -10 * --time) + 2) + initial;
        }
    }

    var easingFunctions = {};
    easingFunctions[Mixer.easings.LINEAR] = linearEasing;
    easingFunctions[Mixer.easings.QUADRATIC] = quadEasing;
    easingFunctions[Mixer.easings.CUBIC] = cubeEasing;
    easingFunctions[Mixer.easings.QUARTIC] = quartEasing;
    easingFunctions[Mixer.easings.QUINTIC] = quintEasing;
    easingFunctions[Mixer.easings.EXPONENTIAL] = expEasing;
    function doFade(soundObj, action, value) {
        if (action === 'volume' && !validateVolume(value)) {
            return;
        } else if (Number(value) === soundObj.getVolume()) {
            gatelyLog('Can\'t fade to volume (' + value + ') – ' + 'the currently set volume is the same.');
            return;
        }

        var fade = soundObj.fade;
        if (!fade) {
            wideAlert('the fuckin fade isn\'t valid');
        }

        if (fade && typeof fade.timing !== 'string' && fade.easing !== Mixer.easings.LINEAR) {
            gatelyLog('The sound object\'s fade.easing property is set ' + 'to ' + fade.easing + ', which requires the sound ' + 'object\'s fade.timing property to be set to a valid ' + 'timing property. However, the current value of ' + 'fade.timing is ' + fade.timing);
            // return here? idk lol
        }

        var time = 0;
        var initial = void 0;
        var volume = soundObj.getVolume();
        var change = void 0;
        if (action === 'play') {
            initial = 0;
            change = volume;
        } else if (action === 'pause' || action === 'stop') {
            initial = volume;
            change = -volume;
        } else if (action === 'volume') {
            initial = volume;
            change = value - volume;
        }

        var duration = fade.duration;
        var step = duration / fade.steps;
        var timing = fade.timing;
        var func = easingFunctions[fade.easing.toLowerCase()];
        if (!func) {
            wideAlert('The func for the easing don\'t work!!!!!!!!!');
            return;
        }

        var soundObjDup = soundObj;

        var fadeInterval = window.setInterval(function () {
            var stepVolume = func(time, initial, change, duration, timing);
            if (typeof stepVolume === 'undefined' || Number.isNaN(Number(stepVolume))) {
                window.clearInterval(fadeInterval);
                return;
            }

            soundObjDup.setVolume(stepVolume);
            //gatelyLog(soundObjDup.audioElement.volume);

            time += step;
            if (time >= duration) {
                soundObjDup.setVolume(initial + change);
                window.clearInterval(fadeInterval);
                return;
            }
        }, step);
    }

    function createAudioWithErrorHandling() {
        var audio = new Audio();

        audio.addEventListener('error', function (e) {
            var err = e.target.error;
            switch (err.code) {
                case err.MEDIA_ERR_ABORTED:
                    gatelyLog('You aborted the video playback.');
                    break;
                case err.MEDIA_ERR_NETWORK:
                    gatelyLog('A network error caused the audio download ' + 'to fail.');
                    break;
                case err.MEDIA_ERR_DECODE:
                    gatelyLog('The audio playback was aborted due to a ' + 'corruption problem or because the video used ' + 'features your browser did not support.');
                    break;
                case err.MEDIA_ERR_SRC_NOT_SUPPORTED:
                    gatelyLog('The video audio not be loaded, either ' + 'because the server or network failed or because ' + 'the format is not supported.');
                    break;
                default:
                    gatelyLog('An unknown error occurred.');
                    break;
            }
        });

        return audio;
    }

    function validateVolume(value, source, suppressLogs) {
        if (!source) {
            source = '(source not provided)';
        }

        if (!value && value !== 0 && value !== '1') {
            if (!suppressLogs) {
                gatelyLog('The volume value parameter (' + value + '), ' + 'in the ' + source + ', is not valid. The parameter ' + 'must be a Number or a string representation of a ' + 'valid Number.');
            }

            return false;
        } else if (Number.isNaN(Number(value))) {
            if (!suppressLogs) {
                gatelyLog('The volume value parameter (' + value + '), ' + 'in the ' + source + ', is not a number.');
            }

            return false;
        } else if (Number(value) < 0) {
            if (!suppressLogs) {
                gatelyLog('The volume value parameter (' + value + '), ' + 'in the ' + source + ', is less than 0.');
            }

            return false;
        } else if (Number(value) > 1) {
            if (!suppressLogs) {
                gatelyLog('The volume value parameter (' + value + '), ' + 'in the ' + source + ', is greater than 1.');
            }

            return false;
        }

        return true;
    }

    // default Sound constants
    var MASTER_VOLUME_LEVEL = 1;
    var MASTER_VOLUME_STEP = 0.01;
    var ELEMENT_VOLUME = 1;
    var FADING_STATUS = false;
    var FADING_DURATION = 1000;
    var FADING_STEPS = 100;

    var Sound = function () {
        function Sound(name, channel, src, autoplay, loop, volume, fade) {
            _classCallCheck(this, Sound);

            if (typeof name !== 'string' || !name) {
                wideAlert('The name property (' + name + '), in the Sound ' + 'constructor, is not a valid string.');
                return;
            } else if (typeof src !== 'string' || !src) {
                wideAlert('The src property (' + src + '), in the Sound ' + 'constructor, is not a valid string.');
                return;
            }

            /**
             * @type {string}
             */
            var storyName = name;
            this.getName = function getName() {
                return storyName;
            };

            Mixer.sounds[name] = this;

            if (autoplay === true) {
                this.audioElement.autoplay = true;
            }

            if (loop === true) {
                this.audioElement.loop = true;
            }

            /**
             * @type {HTMLAudioElement}
             */
            this.audioElement = createAudioWithErrorHandling();
            this.audioElement.src = src;

            if (channel) {
                this.channel = channel;
                Mixer.channels[channel].sounds[storyName] = storyName;
            } else {
                this.channel = 'none';
                Mixer.channels.none.sounds[storyName] = storyName;
            }

            /**
             * @type {number}
             */
            var soundVolume = void 0;

            this.getVolume = function getVolume() {
                return soundVolume;
            };

            /**
             * Sets the volume of the Sound and updates its real volume.
             * @global
             * @param {string|number} value
             * @param {...string|Sound} [variadic]
             * @returns {undefined}
             */
            this.setVolume = function setVolume(value) {
                var val = Number(value);

                if (!validateVolume(val, 'setVolume method')) {
                    return;
                }

                soundVolume = Math.min(1, Math.max(0, val));

                Mixer.updateVolume(this);
            };

            if (typeof volume === 'number') {
                this.setVolume(volume);
            } else {
                this.setVolume(1);
            }

            /** Contains the
             * @type {object}
             * @property {string} [fade.easing='linear']
             * @property {string} [fade.timing='easeInOut']
             * @property {number} [fade.duration=1000]
             * @property {number} [fade.steps=100]
             */
            var source = Object.freeze(Object.seal(new Fade(FADING_EASING_TYPE, FADING_TIMING_TYPE, FADING_DURATION, FADING_STEPS)));

            /**
             * Sets the fade options for the Sound. Details on the forms the
             * fade argument can take can be found {@link fuMakeSound here}.
             * @global
             * @param {boolean|string|object} fade {@link fuMakeSound link}
             * @param {...string|FuSound} [variadic]
             * @returns {undefined}
             */
            this.setFade = function setFade(fade) {
                if (!fade) {
                    /* gatelyLog('The fade argument (' + fade + ') passed to ' +
                        'the Sound constructor is not valid.'); */
                    return;
                }

                if (!this.fade) {
                    this.fade = JSON.parse(JSON.stringify(source));
                }

                if (typeof fade === 'string') {
                    var fadeVal = saferJSONParse(fade);
                    if (validateFade(fade)) {
                        for (var _name in fadeVal) {
                            this.fade[_name] = fadeVal[_name];
                        }
                    } else {
                        var easeNames = getOwnPropertyNames(Mixer.easings);
                        var timeNames = getOwnPropertyNames(Mixer.timings);
                        var fadeStr = fade.toUpperCase();
                        if (fadeStr in Mixer.easings) {
                            this.fade.easing = Mixer.easings[fadeStr];
                        } else if (fadeStr in Mixer.timings) {
                            this.fade.timing = Mixer.timings[fadeStr];
                        } else {
                            gatelyLog('The string passed to the arg ' + 'parameter (' + fade + ') is not a valid ' + 'easing or timing.');
                            return;
                        }
                    }
                } else if ((typeof fade === 'undefined' ? 'undefined' : _typeof(fade)) === 'object') {
                    if (typeof fade.easing === 'string') {
                        var easing = fade.easing.toUpperCase();
                        if (easing in Mixer.easings) {
                            this.fade.easing = Mixer.easings[easing];
                        }
                    } else if (_typeof(fade.easing) === 'object') {
                        // custom easing support here
                    }

                    if (typeof fade.timing === 'string') {
                        var timing = fade.timing.toUpperCase();
                        if (timing in Mixer.timings) {
                            this.fade.timing = Mixer.timings[timing];
                        }
                    }

                    if (fade.duration > 0) {
                        this.fade.duration = fade.duration;
                    } else {
                        gatelyLog('The duration argument passed to ' + 'Sound.setFade must be a number greater than 0.');
                    }

                    if (fade.steps > 0) {
                        this.fade.steps = fade.steps;
                    } else {
                        gatelyLog('The steps argument passed to ' + 'Sound.setFade must be a number greater than 0.');
                    }
                }

                /* const easings = getOwnPropertyNames(Mixer.easings)
                    .map(function(name) {
                        return Mixer.easings[name];
                    });
                 const timings = getOwnPropertyNames(Mixer.timings)
                    .map(function(name) {
                        return Mixer.timings[name];
                    });
                 if (this.fade.isFading !== false &&
                    typeof(this.fade.isFading) === 'boolean' &&
                    easings.indexOf(this.fade.easing.name) !== -1 &&
                    timings.indexOf(this.fade.timing) !== -1 &&
                    this.fade.duration > 0 &&
                    this.fade.steps > 0)
                {
                    this.fade.isFading = true;
                } */
            };

            this.setFade(fade);

            updateAudioDisplay();
        }

        /**
         * Plays the audio element. Will fade if the Sound's fade object is
         * valid.
         * and the 
         * @global
         * @param {...string|FuSound} [variadic]
         * @returns {undefined}
         */


        _createClass(Sound, [{
            key: 'play',
            value: function play(toFade, newFade) {
                if (!this.audioElement.paused) {
                    wideAlert('You cannot play a Sound that is already playing.');
                    return;
                }

                if (typeof newFade !== 'undefined') {
                    this.setFade(newFade);
                }

                this.audioElement.play();
                if (toFade === true || toFade === 'toFade') {
                    doFade(this, 'play');
                }
            }

            /**
             * Pauses the audio element.
             * @global
             * @param {...string|FuSound} [variadic]
             * @returns {undefined}
             */

        }, {
            key: 'pause',
            value: function pause(toFade, newFade) {
                if (this.audioElement.paused) {
                    wideAlert('You cannot pause a Sound that is already paused.');
                    return;
                }

                if (typeof newFade !== 'undefined') {
                    this.setFade(newFade);
                }

                this.audioElement.pause();

                if (toFade === true || toFade === 'toFade') {
                    doFade(this, 'pause');
                }
            }

            /**
             * Stops the audio element. In effect, this is pausing the element
             * and setting the position to 0.
             * @global
             * @param {...string|FuSound} [variadic]
             * @returns {undefined}
             */

        }, {
            key: 'stop',
            value: function stop(toFade, newFade) {
                if (this.audioElement.paused && this.audioElement.currentTime === 0) {
                    wideAlert('You cannot stop a Sound that is already stopped.');
                    return;
                }

                if (typeof newFade !== 'undefined') {
                    this.setFade(fade);
                }

                this.pause();
                this.setPosition(0);

                if (toFade === true || toFade === 'toFade') {
                    doFade(this, 'play', 'fromaction');
                }
            }

            /**
             * Rewinds the audio element to the beginning, without pausing it.
             * @global
             * @param {...string|FuSound} [variadic]
             * @returns {undefined}
             */

        }, {
            key: 'restart',
            value: function restart() {
                this.setPosition(0);
            }

            /**
             * Sets the currentTime position of the audio element.
             * @global
             * @param {...string|FuSound} [variadic]
             * @returns {undefined}
             */

        }, {
            key: 'setPosition',
            value: function setPosition(position) {
                var posi = Number(position);
                if (Number.isNaN(posi)) {
                    wideAlert('The position argument passed to ' + 'Sound.rewindSound is not a valid number. Cannot ' + 'set position.');
                    return;
                } else {
                    this.audioElement.currentTime = posi;
                }
            }

            /**
             * Lowers the volume of the Sound by 0.1. The lowest possible value is
             * 0; lowering it beyond this will have no effect or warning.
             * @global
             * @param {...string|FuSound} [variadic]
             * @returns {undefined}
             */

        }, {
            key: 'quieter',
            value: function quieter() {
                this.setVolume(this.getVolume() - 0.1);
            }

            /**
             * Raises the volume of the Sound by 0.1. The highest possible value
             * is 1; lowering it beyond this will have no effect or warning.
             * @global
             * @param {...string|FuSound} [variadic]
             * @returns {undefined}
             */

        }, {
            key: 'louder',
            value: function louder() {
                this.setVolume(this.getVolume() + 0.1);
            }

            /**
             * Sets the audio element's loop property to true.
             * @global
             * @param {...string|FuSound} [variadic]
             * @returns {undefined}
             */

        }, {
            key: 'loop',
            value: function loop() {
                this.audioElement.loop = true;
            }
        }, {
            key: 'unloop',


            /**
             * Sets the audio element's loop property to false.
             * @global
             * @param {...string|FuSound} [variadic]
             * @returns {undefined}
             */
            value: function unloop() {
                this.audioElement.unloop = false;
            }

            /**
             * Deletes all references to the Sound in the Mixer and Channels.
             * @global
             * @param {...string|FuSound} [variadic]
             * @returns {undefined}
             */

        }, {
            key: 'delete',
            value: function _delete() {
                if (!this.getName()) {
                    wideAlert('This Sound does not have a valid name property. ' + 'Cannot delete.');
                    return;
                } else if (!this.channel) {
                    wideAlert('This Sound does not have a valid channel ' + 'property. Cannot delete.');
                    return;
                } else if (!this.channel.sounds) {
                    wideAlert('This Sound does not have a valid channel.sounds ' + 'property. Cannot delete.');
                    return;
                }

                delete Mixer.sounds[this.getName()];
                delete Mixer.channels[this.channel].sounds[this.getName()];
            }

            /**
             * Stops a playing Sound and plays a stopped or paused Sound, fading
             * the two in/out in an identical fashion. The FuSound being faded out
             * must be playing, and the FuSound being faded in must be paused,
             * otherwise the crossfade will not be performed. By default, the
             * specific manner in which the fades are performed on both Sounds
             * are taken from the sound being faded out and applied to both.
             * However, if the which argument is either "in" or equal to the Sound
             * being faded in, the fade information will be taken from the Sound
             * being faded in.
             * @global
             * @param {string|FuSound} [which] If the value of which is "in," or
             * the value of which is equal to the inSoundObj argument,
             * inSoundObj.fade will be used to determine how the fade is
             * performed, rather than outSoundObj.fade.
             * @returns {undefined}
             */

        }, {
            key: 'crossFade',
            value: function crossFade(inSoundObj, which) {
                if (!inSoundObj || typeof inSoundObj !== 'string' && (typeof inSoundObj === 'undefined' ? 'undefined' : _typeof(inSoundObj)) !== 'object') {
                    gatelyLog('The inSoundObj argument (' + inSoundObj + ') is invalid.');
                    return;
                }

                if (typeof inSoundObj === 'string') {
                    inSoundObj = Mixer.sounds[inSoundObj];
                }

                if (this.audioElement.paused) {
                    gatelyLog('Cannot fade – the outSoundObj is not playing.');
                    return;
                } else if (!inSoundObj.audioElement.paused) {
                    gatelyLog('Cannot fade – the inSoundObj is already ' + 'playing.');
                    return;
                }

                var fade = this.fade;

                if (which === 'in' || which === inSoundObj) {
                    fade = inSoundObj.fade;
                }

                if (typeof fade.easing !== 'string' || !(fade.easing.toUpperCase() in Mixer.easings) || typeof fade.timing !== 'string' || !(fade.timing.toUpperCase() in Mixer.timings) || typeof fade.duration !== 'number' || fade.duration <= 0 || typeof fade.steps !== 'number' || fade.steps <= 0) {
                    gatelyLog('One or more of the values in the ' + 'outSoundObj\'s fade property is invalid. Cannot ' + 'crossfade.');
                    return;
                }

                var duration = fade.duration;
                var step = duration / fade.steps;
                var timing = fade.timing;

                var easer = easingFunctions[fade.easing.toLowerCase()];
                if (!isFunction(easer)) {
                    gatelyLog('The easer function\'s all fucked up!!!!');
                    return;
                }

                var outSoundObj = this;
                var outTime = outSoundObj.audioElement.currentTime * 1000;
                var outInitial = this.getVolume();
                var outChange = -this.getVolume();

                var outFadeInterval = window.setInterval(function () {
                    var stepVolume = easer(outTime, outInitial, outChange, duration, timing);

                    if (typeof stepVolume === 'undefined' || Number.isNaN(Number(stepVolume))) {
                        window.clearInterval(outFadeInterval);
                        return;
                    }

                    outSoundObj.setVolume(stepVolume);

                    if (outSoundObj.audioElement.paused || outTime + duration >= outSoundObj.audioElement.currentTime) {
                        outSoundObj.setVolume(outInitial + outChange);
                        Mixer.updateVolume(outSoundObj);

                        if (outSoundObj.audioElement.paused) {
                            outSoundObj.setPosition(0);
                        } else {
                            outSoundObj.stop();
                        }

                        window.clearInterval(outFadeInterval);
                        return;
                    }
                }, step);

                var inTime = inSoundObj.audioElement.currentTime * 1000;
                var inInitial = 0;
                var inChange = outInitial;

                var inFadeInterval = window.setInterval(function () {
                    var stepVolume = easer(inTime, inInitial, inChange, duration, timing);

                    if (typeof stepVolume === 'undefined' || Number.isNaN(Number(stepVolume))) {
                        window.clearInterval(inFadeInterval);
                        return;
                    }

                    inSoundObj.setVolume(stepVolume);

                    if (inSoundObj.audioElement.paused || inTime + duration >= outSoundObj.audioElement.currentTime) {
                        inSoundObj.setVolume(inInitial + inChange);
                        Mixer.updateVolume(inSoundObj);
                        window.clearInterval(inFadeInterval);
                        return;
                    }
                }, step);

                inSoundObj.play();
            }
        }]);

        return Sound;
    }();

    window.Sound = Sound;

    var Fade = function Fade(easing, timing, duration, steps) {
        _classCallCheck(this, Fade);

        this.easing = easing;
        this.timing = timing;
        this.duration = duration;
        this.steps = steps;
    };

    window.Fade = Fade;

    function validateFade(fade) {
        return fade && (typeof fade === 'undefined' ? 'undefined' : _typeof(fade)) === 'object' && fade.duration > 0;
    }

    var Playlist = function () {
        function Playlist(sounds, autoplay, repeat, fade, queryInterval) {
            _classCallCheck(this, Playlist);

            this.sounds = sounds;
            this.autoplay = autoplay;
            this.repeat = repeat;
            this.fade = fade;
            this.index = 0;
            this.intervalID = null;
            this.currentlyPlaying = null;

            this.queryInterval = 250;
            if (!Number.isNaN(Number(queryInterval))) {
                this.queryInterval = Math.floor(Number(queryInterval));
            }

            if (this.autoplay === true || this.autoplay === 'autoplay') {
                this.play();
            }
        }

        _createClass(Playlist, [{
            key: 'getQueryInterval',
            value: function getQueryInterval() {
                return this.queryInterval;
            }
        }, {
            key: 'play',
            value: function play() {
                var currentSound = this.sounds[this.index];

                var validatePSR = validatePlaylistSoundReadiness;
                if (!validatePSR(currentSound)) {
                    return;
                }

                currentSound.play(Boolean(this.fade), this.fade);

                this.currentlyPlaying = currentSound;

                var playlist = this;
                this.intervalID = window.setInterval(function () {
                    // retain 'this' reference
                    playlist.poll.call(playlist);
                }, this.getQueryInterval());
            }
        }, {
            key: 'poll',
            value: function poll() {
                var currentSound = this.currentlyPlaying;

                var duration = currentSound.audioElement.duration * 1000;
                var currentTime = currentSound.audioElement.currentTime * 1000;
                var playbackRate = currentSound.audioElement.playbackRate;

                var outTooShort = void 0;
                var inTooShort = void 0;
                if (this.fade) {
                    outTooShort = duration / 2 <= this.fade.duration;
                    if (outTooShort && currentTime <= this.getQueryInterval()) {
                        gatelyLog('Out sound too short for specified fade. Any ' + 'sound being crossfaded in a Playlist must be more ' + 'than twice the length of the playlist\'s fade ' + 'duration. Not fading.');
                    }

                    var inSound = this.sounds[this.index + 1] || this.sounds[0];
                    inTooShort = inSound.audioElement.duration * 1000 / 2 <= this.fade.duration;
                    if (inTooShort && currentTime <= this.getQueryInterval()) {
                        gatelyLog('In sound too short for specified fade. Any ' + 'sound being crossfaded in a Playlist must be more ' + 'than twice the length of the playlist\'s fade ' + 'duration. Not fading.');
                    }
                }

                if (this.fade && this.fade.duration && !inTooShort && !outTooShort) {
                    playlistPlayWithFade(this);
                } else if (duration - currentTime < this.getQueryInterval()) {
                    playlistPlayWithoutFade(this);
                }
            }
        }, {
            key: 'stop',
            value: function stop() {
                if (this.currentlyPlaying && isFunction(this.currentlyPlaying.stop)) {
                    this.currentlyPlaying.stop();
                }

                resetPlaylist(this);
            }
        }]);

        return Playlist;
    }();

    window.Playlist = Playlist;

    function playlistPlayWithFade(playlist) {
        var validatePSR = validatePlaylistSoundReadiness;

        var currentSound = playlist.currentlyPlaying;

        var duration = currentSound.audioElement.duration * 1000;
        var currentTime = currentSound.audioElement.currentTime * 1000;
        var totalTime = duration - playlist.fade.duration;

        if (currentTime + playlist.getQueryInterval() >= totalTime) {
            currentSound.fade = playlist.fade;

            playlist.index++;
            currentSound = playlist.sounds[playlist.index];

            if (currentSound) {
                if (validatePSR(currentSound)) {
                    playlist.currentlyPlaying.crossFade(currentSound);
                } else {
                    resetPlaylist(playlist);
                }
            } else {
                if (playlist.repeat === true || playlist.repeat === 'repeat') {
                    playlist.index = 0;
                    currentSound = playlist.sounds[playlist.index];

                    if (playlist.sounds.length > 1) {
                        if (validatePSR(currentSound)) {
                            playlist.currentlyPlaying.crossFade(currentSound);
                        } else {
                            resetPlaylist(playlist);
                        }
                    } else {
                        if (validatePSR(currentSound)) {
                            currentSound.play('fade');
                        } else {
                            resetPlaylist(playlist);
                        }
                    }
                } else {
                    resetPlaylist(playlist);
                }
            }

            playlist.currentlyPlaying = currentSound;
        }
    }

    function playlistPlayWithoutFade(playlist) {
        var validatePSR = validatePlaylistSoundReadiness;

        var currentSound = playlist.currentlyPlaying;

        currentSound.stop();

        playlist.index++;
        currentSound = playlist.sounds[playlist.index];

        if (currentSound) {
            if (validatePSR(currentSound)) {
                currentSound.play(Boolean(playlist.fade), playlist.fade);
                playlist.currentlyPlaying = currentSound;
            } else {
                resetPlaylist(playlist);
            }
        } else {
            playlist.index = 0;

            if (playlist.repeat === true || playlist.repeat === 'repeat') {
                currentSound = playlist.sounds[playlist.index];

                if (validatePSR(currentSound)) {
                    currentSound.play(Boolean(playlist.fade), playlist.fade);
                    playlist.currentlyPlaying = currentSound;
                } else {
                    resetPlaylist(playlist);
                }
            } else {
                resetPlaylist(playlist);
            }
        }
    }

    function validatePlaylistSoundReadiness(sound) {
        if (!sound) {
            gatelyLog('The current index of this Playlist does not ' + 'correspond to a valid Sound in the this.sounds ' + 'property. Cannot execute.');
            return false;
        } else if (!sound.audioElement.paused) {
            gatelyLog('The current Sound object in this Playlist is ' + 'already playing. A Playlist can only play if every ' + 'Sound object is paused when it is reached.');
            return false;
        } /* else if (sound.audioElement.currentTime !== 0) {
            gatelyLog('The current Sound object in this Playlist is ' +
                'not at time 0. A Playlist can only play if every ' +
                'Sound object is paused and at position 0 when it is ' +
                'reached.');
            return false;
          } */

        return true;
    }

    function resetPlaylist(playlist) {
        if (!playlist) {
            gatelyLog('Invalid playlist argument provided to resetPlaylist.');
            return;
        }

        playlist.index = 0;
        playlist.currentlyPlaying = null;
        window.clearInterval(playlist.intervalID);
        playlist.intervalID = null;
    }
})();

},{}],8:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

(function () {
    'use strict';

    if ($('tw-passagedata[name="load"]').length) {
        wideAlert('It\'s inadvisable to name a passage "load" – the ' + 'compiler uses this name for the initial, non-passage frame, ' + 'and naming a passage this will most likely cause unfixable ' + 'bugs.');
    }

    // The global debug flag for the story.
    window.DEBUG = false;

    // Gately is now loading.
    window.isLoading = true;

    // The time at which gately began loading.
    window.gatelyLoadTime = new Date().getTime();

    // Push a new load frame to the state stack.
    State.newState('load');

    // Set the current transcript entry to the load frame.
    State.currentTranscriptEntry = State.transcriptHistory[0];

    var selector = void 0;

    // Process flags within the story <tw-storydata>.
    var flags = $storydata.attr('flags');
    var processed = [];
    if (flags) {
        var splitFlags = flags.split(' ');
        splitFlags.forEach(function (aa) {
            if (processed.indexOf(aa) === -1) {
                processed.push(aa);
            }
        });
    }

    // Check for DEBUG signs.
    if (processed.indexOf('debug') !== -1 || $storydata.find('[name="debug"]').length) {
        window.DEBUG = true;
    }

    function proxyRecordState(name, target, property, value) {
        var debug = window.DEBUG;
        var recording = State.recordingTranscript;
        var stateChanges = Options.recordingLevels.stateChanges;
        var load = Options.recordingLevels.load;
        var isLoading = window.isLoading;
        var render = Options.recordingLevels.render;
        var isRendering = Renderer.isRendering;

        if (debug || recording && (isLoading && load && stateChanges || isRendering && render && stateChanges || !isLoading && !isRendering && stateChanges)) {
            Options.captureStateChange(name, target, property, value);
        }
    }

    /* If the Proxy constructor is available, attach a Proxy to the State
     * object and each of the objects therein. This allows state changes
     * to be captured by the debugger. */
    if (isFunction(window.Proxy)) {
        var _loop = function _loop(_name) {
            if (_typeof(State[_name]) === 'object' && State[_name]) {
                State[_name] = new window.Proxy(State[_name], {
                    set: function set(target, property, value) {
                        proxyRecordState(_name, target, property, value);
                        target[property] = value;
                        return true;
                    }
                });
            }
        };

        for (var _name in State) {
            _loop(_name);
        }

        State = new window.Proxy(State, {
            set: function set(target, property, value) {
                proxyRecordState(name, target, property, value);
                target[property] = value;
                return true;
            }
        });
    }

    // Add the history buttons to the <tw-story> element.
    var str = '<tw-history-button class="back hidden">' + '\<' + '</tw-history-button>';
    $('tw-story#passage').append(str);

    str = '<tw-history-button class="forward hidden">' + '\>' + '</tw-history-button>';
    $('tw-story#passage').append(str);

    /* Define important iframe contents and add all non-onstart scripts and
     * styles. */
    var frame = $('#defaultTranscriptFrame')[0];
    if (!frame || frame.contentWindow) {
        return;
    }

    var frameHTML = frame.contentDocument.body.parentElement;
    var frameHead = frameHTML.querySelector('head');
    var frameBody = frameHTML.querySelector('body');

    var passagePane = $('<div id="passagePane"></div>')[0];
    frameBody.appendChild(passagePane);

    var $displayPane = $('<div id="displayPane"></div>');
    frameBody.appendChild($displayPane[0]);

    selector = '<tw-tabcontrol id="transcriptTabControl"></tw-tabcontrol>';
    var tabControl = $(selector)[0];
    $displayPane.append(tabControl);

    // detail tab
    selector = '<tw-tab id="detailsTab" ' + 'class="active"' + 'data-selector="#transcriptDetailsDiv">Details</tw-tab>';
    var detailsTab = $(selector)[0];
    tabControl.appendChild(detailsTab);

    // detail tab container
    selector = '<div id="transcriptDetailsDiv" class="active"></div>';
    var $transcriptDetailsDiv = $(selector);
    $displayPane.append($transcriptDetailsDiv);

    // frames tab
    selector = '<tw-tab id="framesTab" ' + 'data-selector="#transcriptFramesDiv">Frames</tw-tab>';
    var framesTab = $(selector)[0];
    tabControl.appendChild(framesTab);

    // frames tab container
    var $transcriptFramesDiv = $('<div id="transcriptFramesDiv"></div>');
    $displayPane.append($transcriptFramesDiv);

    // flat tab
    selector = '<tw-tab id="flatTab" ' + 'data-selector="#transcriptFlatDiv">Flat</tw-tab>';
    var animatedTab = $(selector)[0];
    tabControl.appendChild(animatedTab);

    // flat tab container
    selector = '<div id="transcriptFlatDiv"></div>';
    var $transcriptFlatDiv = $(selector);
    $displayPane.append($transcriptFlatDiv);

    // settings tab
    selector = '<tw-tab id="settingsTab" ' + 'data-selector="#transcriptSettingsDiv">Settings</tw-tab>';
    var settingsTab = $(selector)[0];
    tabControl.appendChild(settingsTab);

    // settings tab container
    selector = '<div id="transcriptSettingsDiv"></div>';
    var transcriptSettingsDiv = $(selector)[0];
    $displayPane.append(transcriptSettingsDiv);

    // transcript display settings
    var displaySettingsSpan = $('<span>Display Settings</span>')[0];
    transcriptSettingsDiv.appendChild(displaySettingsSpan);

    var dispTextChangesSpan = $('<span></span>')[0];
    transcriptSettingsDiv.appendChild(dispTextChangesSpan);

    selector = '<input id="dispTextChangesCheckbox" type="checkbox"></input>';
    var dispTextChangesCheckbox = $(selector)[0];
    dispTextChangesSpan.appendChild(dispTextChangesCheckbox);

    selector = '<label for="dispTextChangesCheckbox">' + 'Display Text Changes</label>';
    var dispTextChangesLabel = $(selector)[0];
    dispTextChangesSpan.appendChild(dispTextChangesLabel);

    var dispPageEventsSpan = $('<span></span>')[0];
    transcriptSettingsDiv.appendChild(dispPageEventsSpan);

    selector = '<input id="dispPageEventsCheckbox" type="checkbox"></input>';
    var dispPageEventsCheckbox = $(selector)[0];
    dispPageEventsSpan.appendChild(dispPageEventsCheckbox);

    selector = '<label for="dispPageEventsCheckbox">' + 'Display Page Events</label>';
    var dispPageEventsLabel = $(selector)[0];
    dispPageEventsSpan.appendChild(dispPageEventsLabel);

    var dispStateChangesSpan = $('<span></span>')[0];
    transcriptSettingsDiv.appendChild(dispStateChangesSpan);

    selector = '<input id="dispStateChangesCheckbox" type="checkbox"></input>';
    var dispStateChangesCheckbox = $(selector)[0];
    dispStateChangesSpan.appendChild(dispStateChangesCheckbox);

    selector = '<label for="dispStateChangesCheckbox">' + 'Display State Changes</label>';
    var dispStateChangesLabel = $(selector)[0];
    dispStateChangesSpan.appendChild(dispStateChangesLabel);

    var dispLoadSpan = $('<span></span>')[0];
    transcriptSettingsDiv.appendChild(dispLoadSpan);

    selector = '<input id="dispLoadCheckbox" type="checkbox"></input>';
    var dispLoadCheckbox = $(selector)[0];
    dispLoadSpan.appendChild(dispLoadCheckbox);

    selector = '<label for="dispLoadCheckbox">' + 'Display Load</label>';
    var dispLoadLabel = $(selector)[0];
    dispLoadSpan.appendChild(dispLoadLabel);

    var dispParseSpan = $('<span></span>')[0];
    transcriptSettingsDiv.appendChild(dispParseSpan);

    selector = '<input id="dispParseCheckbox" type="checkbox"></input>';
    var dispParseCheckbox = $(selector)[0];
    dispParseSpan.appendChild(dispParseCheckbox);

    selector = '<label for="dispLoadCheckbox">' + 'Display Parse</label>';
    var dispParseLabel = $(selector)[0];
    dispParseSpan.appendChild(dispParseLabel);

    var dispRenderSpan = $('<span></span>')[0];
    transcriptSettingsDiv.appendChild(dispParseSpan);

    selector = '<input id="dispRenderCheckbox" type="checkbox"></input>';
    var dispRenderCheckbox = $(selector)[0];
    dispRenderSpan.appendChild(dispRenderCheckbox);

    selector = '<label for="dispRenderCheckbox">' + 'Display Render</label>';
    var dispRenderLabel = $(selector)[0];
    dispRenderSpan.appendChild(dispRenderLabel);

    transcriptSettingsDiv.appendChild(document.createElement('br'));

    // transcript recording settings
    selector = '<span class="title">Recording Settings</span>';
    var recordingSettingsTitle = $(selector)[0];
    transcriptSettingsDiv.appendChild(recordingSettingsTitle);

    var recTextChangesSpan = $('<span></span>')[0];
    transcriptSettingsDiv.appendChild(recTextChangesSpan);

    selector = '<input id="recTextChangesCheckbox" type="checkbox"' + 'data-selector="#transcriptSettingsDiv"></input>';
    var recTextChangesCheckbox = $(selector)[0];
    recTextChangesSpan.appendChild(recTextChangesCheckbox);

    selector = '<label for="recTextChangesCheckbox">' + 'Record Text Changes</label>';
    var recTextChangesLabel = $(selector)[0];
    recTextChangesSpan.appendChild(recTextChangesLabel);

    var recPageEventsSpan = $('<span></span>')[0];
    transcriptSettingsDiv.appendChild(recPageEventsSpan);

    selector = '<input id="recPageEventsCheckbox" type="checkbox"></input>';
    var recPageEventsCheckbox = $(selector)[0];
    recPageEventsSpan.appendChild(recPageEventsCheckbox);

    selector = '<label for="recPageEventsCheckbox">' + 'Record Page Events</label>';
    var recPageEventsLabel = $(selector)[0];
    recPageEventsSpan.appendChild(recPageEventsLabel);

    var recStateChangesSpan = $('<span></span>')[0];
    transcriptSettingsDiv.appendChild(recStateChangesSpan);

    selector = '<input id="recStateChangesCheckbox" type="checkbox"></input>';
    var recStateChangesCheckbox = $(selector)[0];
    recStateChangesSpan.appendChild(recStateChangesCheckbox);

    selector = '<label for="recStateChangesCheckbox">' + 'Record State Changes</label>';
    var recStateChangesLabel = $(selector)[0];
    recStateChangesSpan.appendChild(recStateChangesLabel);

    var recLoadSpan = $('<span></span>')[0];
    transcriptSettingsDiv.appendChild(recLoadSpan);

    selector = '<input id="recLoadCheckbox" type="checkbox"></input>';
    var recLoadCheckbox = $(selector)[0];
    recLoadSpan.appendChild(recLoadCheckbox);

    selector = '<label for="recLoadCheckbox">' + 'Record Load</label>';
    var recLoadLabel = $(selector)[0];
    recLoadSpan.appendChild(recLoadLabel);

    var recParseSpan = $('<span></span>')[0];
    transcriptSettingsDiv.appendChild(recParseSpan);

    selector = '<input id="recParseCheckbox" type="checkbox"></input>';
    var recParseCheckbox = $(selector)[0];
    recParseSpan.appendChild(recParseCheckbox);

    selector = '<label for="recLoadCheckbox">' + 'Record Parse</label>';
    var recParseLabel = $(selector)[0];
    recParseSpan.appendChild(recParseLabel);

    var recRenderSpan = $('<span></span>')[0];
    transcriptSettingsDiv.appendChild(recParseSpan);

    selector = '<input id="recRenderCheckbox" type="checkbox"></input>';
    var recRenderCheckbox = $(selector)[0];
    recRenderSpan.appendChild(recRenderCheckbox);

    selector = '<label for="recRenderCheckbox">' + 'Record Render</label>';
    var recRenderLabel = $(selector)[0];
    recRenderSpan.appendChild(recRenderLabel);

    frameBody.style.overflowY = 'hidden';

    selector = 'style';
    $(selector).each(function (_, style) {
        var styleClone = style.cloneNode(true);
        // style does not work on append with type
        styleClone.removeAttribute('type');
        frameHead.appendChild(styleClone);
    });

    var script = document.createElement('script');
    function resizeIframeHeight() {
        var lastHeight = 0;
        window.sizeID = window.setInterval(function () {
            var compatibility = void 0;
            var highest = 0;
            for (var ii = 0; ii < document.body.childNodes.length; ii++) {
                var child = document.body.childNodes[ii];
                compatibility = Math.max(child.clientHeight, child.scrollHeight);
                //, child.offsetHeight);
                if (highest < compatibility) {
                    highest = compatibility;
                }
            }
            if (!highest) {
                return;
            }

            var frameDisplay = top.document.querySelector('#defaultTranscriptDisplay');
            frameDisplay.style.height = highest + 'px';
            var maxHeight = top.document.body.clientHeight * 0.85 + 'px';
            frameDisplay.style.maxHeight = maxHeight;

            compatibility = Math.max(top.document.body.clientHeight, top.document.body.scrollHeight,
            //body.offsetHeight, 
            top.document.body.parentElement.clientHeight, top.document.body.parentElement.scrollHeight); //, html.offsetHeight );


            var passagePane = document.querySelector('#passagePane');
            if (passagePane) {
                passagePane.style.maxHeight = maxHeight;
            }

            var displayPane = document.querySelector('#displayPane');
            if (displayPane) {
                displayPane.style.maxHeight = maxHeight;
            }

            lastHeight = compatibility;
        }, 1000);
    };
    script.innerHTML = resizeIframeHeight.toString() + '\nresizeIframeHeight()';
    frameBody.appendChild(script);

    $displayPane.on('click', 'tw-tab', function (e) {
        var $tabControl = $(e.currentTarget).parent();
        $tabControl.find('tw-tab').removeClass('active');

        var $tgt = $(e.currentTarget);
        $tgt.addClass('active');

        var selector = $tgt.attr('data-selector');
        $displayPane.children('div').removeClass('active');
        $displayPane.children(selector).addClass('active');
    });

    if (!State.currentTheme.debug.allowTranscripts && !DEBUG) {
        $('#printTranscriptToConsole').addClass('hidden');
    }

    var $displayPassage = $('#passage');

    // an enumeration of all known jquery handlers
    var jqueryEvents = ['click', 'blur', 'contextmenu', 'dblclick', 'error', 'focusin', 'focusout', 'hover', 'keydown', 'keypress', 'keyup', 'load', 'mousedown', 'mouseup', 'mouseenter', 'mouseleave', 'mousemove', 'mouseout', 'mouseover', 'mouseon', 'ready', 'scroll', 'select', 'submit', 'toggle', 'unload'];

    // checks for link clicks leading to a new passage and a new state head
    // (as in the top of the stack)
    $displayPassage.on('click', 'tw-link.passage', function (e) {
        // clear intervals
        $(e.target).parents('tw-passage').nextAll().each(function (_, node) {
            var intervalEls = $(node).find('[data-interval-id]');
            intervalEls.each(function (_, intervalEl) {
                if (!intervalEl.getAttribute) {
                    return;
                }
                intervalEl = intervalEl.getAttribute('data-interval-id');
                window.clearInterval(intervalEl);
            });
        });

        // clear timeouts
        $(e.target).parents('tw-passage').nextAll().each(function (_, node) {
            var timeoutEls = $(node).find('[data-timeout-id]');
            timeoutEls.each(function (_, timeoutEl) {
                if (!timeoutEl.getAttribute) {
                    return;
                }
                timeoutEl = timeoutEl.getAttribute('data-timeout-id');
                window.clearTimeout(timeoutEl);
            });
        });

        // render binding selectors temporarily unusable
        $('tw-binding').each(function (_, binding) {
            var $binding = $(binding);
            var selector = 'data-binding-name';
            var name = $binding.attr(selector);
            if (!name.startsWith('***')) {
                $binding.attr(selector, '***' + name);
            }

            name = $binding.attr(selector);
            if (!name.endsWith('***')) {
                $binding.attr(selector, name + '***');
            }
        });

        // delete all auto-disposable macro aliases
        while (State.macroAliasDisposals.length) {
            var _name2 = State.macroAliasDisposals.pop();
            delete State.macroAliasStore[_name2];
        }

        // render the new passage
        Renderer.render($(e.currentTarget).attr('passage-name'));

        // fix
        /* $('html, body').animate({
            scrollTop: 10000
        }, 1250); */
    });

    // checks for jonah-style rewind actions
    var pastSelector = 'tw-passage:not(.current):not(.future)';
    $displayPassage.on('click', pastSelector, function (e) {
        // render binding selectors temporarily unusable
        $('tw-binding').each(function (_, binding) {
            var $binding = $(binding);
            var selector = 'data-binding-selector';
            var attr = $binding.attr(selector);
            if (!attr.startsWith('***')) {
                $binding.attr(selector, '***' + attr);
            }
            attr = $binding.attr(selector);
            if (!attr.endsWith('***')) {
                $binding.attr(selector, attr + '***');
            }
        });
        // remove ***  ***, reactivating bindings on the current passage
        $(e.target).find('tw-binding').each(function (_, binding) {
            var $binding = $(binding);
            var selector = 'data-binding-selector';
            var attr = $binding.attr(selector);
            $binding.attr(selector, attr.slice(3, -3));
        });

        var id = $(e.currentTarget).attr('data-id');
        Renderer.render(id, 'rewind', Config.renderTypes.jonah);
    });

    // checks for jonah-style fast-forward actions
    $displayPassage.on('click', 'tw-passage.future', function (e) {
        // render binding selectors temporarily unusable
        $('tw-binding').each(function (_, binding) {
            var $binding = $(binding);
            var selector = 'data-binding-selector';
            var attr = $binding.attr(selector);
            if (!attr.startsWith('***')) {
                $binding.attr(selector, '***' + attr);
            }
            attr = $binding.attr(selector);
            if (!attr.endsWith('***')) {
                $binding.attr(selector, attr + '***');
            }
        });
        // remove ***  ***, reactivating bindings on the current passage
        $(e.target).find('tw-binding').each(function (_, binding) {
            var $binding = $(binding);
            var selector = 'data-binding-selector';
            var attr = $binding.attr(selector);
            $binding.attr(selector, attr.slice(3, -3));
        });

        var id = $(e.target).attr('data-id');
        Renderer.render(id, 'fastforward', Config.renderTypes.jonah);
    });

    // checks for sugarcube-style rewind actions
    $displayPassage.on('click', 'tw-history-button.back', function (e) {
        var passageName = State.history[State.history.length - 2];

        Renderer.render(passageName, 'rewind', Config.renderTypes.sugarcube);
    });

    // checks for sugarcube-style fast-forward actions
    $displayPassage.on('click', 'tw-history-button.forward', function (e) {
        var passageName = State.historyFuture[0];

        Renderer.render(passageName, 'fastforward', Config.renderTypes.sugarcube);
    });

    // checks for collapser clicks
    var containers = $('#defaultMenu').add($displayPane).add(passagePane);

    containers.on('click', '.collapser', function (e) {
        var $target = $(e.currentTarget);
        var on = $target.attr('data-on');
        var off = $target.attr('data-off');
        var $parent = $target.parent();
        if ($parent.hasClass('collapsed')) {
            $target.text(on);
            $parent.removeClass('collapsed');
        } else {
            $target.text(off);
            $parent.addClass('collapsed');
        }
    });

    $(containers).on('click', '.destructor', function (e) {
        var $defaultMenu = $('#defaultMenu');
        $defaultMenu.attr('data-choice', 'options');
        $defaultMenu.find(':not(tw-element-resizer):not(.collapser)').removeClass('active');
        $defaultMenu.find('#defaultOptions').addClass('active');
        $defaultMenu.find('tw-element-resizer').attr('data-selector', '#defaultOptions');
        $(e.currentTarget).remove();
    });

    containers.on('change mousemove', 'input[type="range"]', function (e) {
        var $target = $(e.currentTarget);
        $(e.currentTarget).next('.rangeReadout').text($target.val());
    });

    var $defaultMenu = $('#defaultMenu');

    $('#gotoAudio').click(function (e) {
        $defaultMenu.attr('data-choice', 'audio');
        $defaultMenu.find(':not(tw-element-resizer):not(.collapser)').removeClass('active');
        $defaultMenu.find('#defaultAudioDisplay').addClass('active');
        $defaultMenu.find('tw-element-resizer').attr('data-selector', 'tw-audio-display');
        if (!$(defaultMenu).find('.destructor').length) {
            $defaultMenu.append('<button class="destructor">X</button>');
        }
    });

    $('#gotoAccessibility').click(function (e) {
        $defaultMenu.attr('data-choice', 'accessibility');
        $defaultMenu.find(':not(tw-element-resizer):not(.collapser)').removeClass('active');
        $defaultMenu.find('#defaultAccessibilityDisplay').addClass('active');
        $defaultMenu.find('tw-element-resizer').attr('data-selector', '#defaultAccessibilityDisplay');
        if (!$(defaultMenu).find('.destructor').length) {
            $defaultMenu.append('<button class="destructor">X</button>');
        }
    });

    $('.accessibilityInput').on('change mousemove', function (e) {
        var parentIDs = from($(e.currentTarget).parents()).map(function (parent) {
            return parent.id;
        });

        if (parentIDs.indexOf('optionsFontSize') !== -1) {
            setFontSize(e.currentTarget.value);
        } else if (parentIDs.indexOf('optionsBackgroundColor') !== -1) {
            (function () {
                var colors = [];
                $('#optionsBackgroundColor').find('.accessibilityInput').each(function (_, input) {
                    colors.push(input.value);
                });

                if (colors.length < 3) {
                    throw new Error('One of the accessibility color ' + 'sliders no longer exists. Cannot change color.');
                }

                setBackgroundColor(colors[0], colors[1], colors[2]);
            })();
        } else if (parentIDs.indexOf('optionsBrightness') !== -1 || parentIDs.indexOf('optionsContrast') !== -1 || parentIDs.indexOf('optionsSaturation') !== -1) {
            var valueObj = {
                brightness: $('#optionsBrightness').find('.accessibilityInput').val(),
                contrast: $('#optionsContrast').find('.accessibilityInput').val(),
                saturation: $('#optionsSaturation').find('.accessibilityInput').val()
            };

            setFilter(valueObj);
        }
    });

    var $htmls = $(document.body.parentElement).add(frameHTML);
    window.setFontSize = function (value) {
        $htmls.css('font-size', value + '%');
    };

    window.setBackgroundColor = function (red, green, blue) {
        var colorString = 'rgb(' + red + ', ' + green + ', ' + blue + ')';
        $htmls.css('background-color', colorString);
    };

    window.setFilter = function (valueObject) {
        var filterString = 'brightness(' + valueObject.brightness + ') ' + 'contrast(' + valueObject.contrast + ') ' + 'saturate(' + valueObject.saturation + ')';
        $htmls.css({
            '-webkit-filter': filterString,
            'filter': filterString
        });
    };

    $('#gotoAddNodes').click(function (e) {
        $defaultMenu.attr('data-choice', 'addnodes');
        $defaultMenu.find(':not(tw-element-resizer):not(.collapser)').removeClass('active');
        $defaultMenu.find('#defaultNodeadderDisplay').addClass('active');
        $defaultMenu.find('tw-element-resizer').attr('data-selector', '#defaultNodeadderDisplay');
        if (!$(defaultMenu).find('.destructor').length) {
            $defaultMenu.append('<button class="destructor">X</button>');
        }
    });

    $('#addNodesAndSave').click(function (e) {
        var PIDs = [];
        var maxPID = 0;
        var $storydata = $('tw-storydata');
        var $storyPassages = $storydata.find('tw-passagedata');
        var names = [];
        for (var ii = 0; ii < $storyPassages.length; ii++) {
            var child = $storyPassages[ii];
            var pid = child.getAttribute('pid');
            if (!pid) {
                new wideAlert('One of the tw-passagedata nodes in the loaded story ' + 'lacks a pid attribute. Cannot add nodes.');
                return;
            }

            pid = Number.parseInt(pid);
            if (Number.isNaN(pid)) {
                new wideAlert('One of the tw-passagedata nodes in the loaded ' + 'story has a pid attribute whose value is not a string ' + 'representation of an integer (1, 2, 3, etc.). Cannot ' + 'add nodes.');
                return;
            } else if (PIDs.indexOf(pid) !== -1) {
                new wideAlert('At least two of the tw-passagedata nodes in the ' + 'loaded story have an identical pid attribute. Cannot ' + 'add nodes.');
                return;
            }

            PIDs.push(pid);
            maxPID = Math.max(maxPID, pid);

            var _name3 = child.getAttribute('name');
            if (!_name3) {
                wideAlert('One of the tw-passagedata nodes in the loaded story ' + 'lacks a name attribute. Cannot add nodes.');
                return;
            }

            if (names.indexOf(_name3) !== -1) {
                new wideAlert('At least two of the tw-passagedata nodes in the ' + 'loaded story have an identical name attribute. Cannot ' + 'add nodes.');
                return;
            }

            names.push(_name3);
        }

        // go to the next unused value
        maxPID++;

        var $textarea = $(e.target).parent().find('#nodeAdderTextarea');
        var content = $textarea.val();
        var splitContent = content.split('::').filter(function (a) {
            return a.trim() !== '';
        });

        var newPassages = [];
        for (var _ii = 0; _ii < splitContent.length; _ii++) {
            var _content = splitContent[_ii];
            var passageName = _content.split(/\s/)[0];
            var passageText = _content.slice(_content.search(/\n/) + 1);

            if (passageName && names.indexOf(passageName) !== -1) {
                new wideAlert('The name, ' + passageName + ', already exists ' + 'in a tw-passagedata within the currently loaded ' + 'story. Cannot add nodes.');
                return;
            }

            newPassages.push({
                text: passageText,
                name: passageName,
                pid: null
            });
        }

        var $html = $(document.body.parentElement.cloneNode(true));
        var selector = 'body > :not(tw-storydata), head';
        $html.find(selector).remove();
        $storydata = $html.find('tw-storydata');
        $storydata.attr('flags', 'nodeexpanded');
        var index = 0;
        newPassages.forEach(function (passage) {
            var pid = maxPID++;
            if (!passage.name) {
                passage.name = 'nodeMungerTemp' + pid;
            }

            var $newPassage = $('<tw-passagedata></tw-passagedata>');
            $newPassage.attr({
                pid: pid,
                name: passage.name,
                position: '1000, ' + 80 * index++,
                tags: ''
            });

            $newPassage.text(passage.text);

            $storydata.append($newPassage);
        });

        saveFile($html.find('tw-storydata').attr('name') + 'Expanded', 'html', $html[0].outerHTML);
    });

    $('#toggleTranscript').click(function (e) {
        Options.toggleTranscriptRecording();
        if (State.recordingTranscript) {
            e.currentTarget.innerHTML = 'Off';
            $('#printTranscriptToConsole').removeClass('hidden');
        } else {
            e.currentTarget.innerHTML = 'On';
            $('#printTranscriptToConsole').addClass('hidden');
        }
    });

    $('#gotoTranscript').click(function () {
        $defaultMenu.attr('data-choice', 'transcript');
        $defaultMenu.find(':not(tw-element-resizer):not(.collapser)').removeClass('active');
        $defaultMenu.find('#defaultTranscriptDisplay').addClass('active');
        Options.updateTranscriptVisuals();
        $defaultMenu.find('tw-element-resizer').attr('data-selector', 'tw-transcript-display');

        if (!$(defaultMenu).find('.destructor').length) {
            $defaultMenu.append('<button class="destructor">X</button>');
        }
    });

    $('#printTranscript').click(function (e) {
        gatelyLog(State.printTranscript('text'));
    });

    $(frameBody).on('click', '[data-transcript-identifier]', function (e) {
        Options.setTranscriptDisplay(e.target);
    });

    $(frameBody).on('click', '.spanner', function (e) {
        var tgt = e.target;
        if (tgt && tgt.parentNode && tgt.parentNode.nextSibling) {
            var toClick = tgt.parentNode.nextSibling.querySelector('.collapser');
            if (toClick) {
                toClick.click();
            }
        }
    });

    var elementResizing = null;
    $('tw-element-resizer').mousedown(function (e) {
        elementResizing = e.target;
        $(this).addClass('active');
    });

    window.mouseEvents = {
        isDown: false
    };

    $('html').mousedown(function (e) {
        window.mouseEvents.isDown = true;
        window.mouseEvents[e.which] = {
            event: e,
            isDown: true
        };
    });

    $('html').mousemove(function (e) {
        if (!e.which) {
            window.mouseEvents = {
                isDown: false
            };
        }

        if (e.which in window.mouseEvents) {
            window.mouseEvents[e.which].event = e;
        } else {
            window.mouseEvents[e.which] = {
                event: e,
                isDown: false
            };
        }
    });

    $('html').mouseup(function (e) {
        window.mouseEvents[e.which] = {
            event: e,
            isDown: false
        };

        $('tw-element-resizer').removeClass('active');
        elementResizing = null;
    });

    $('html').add(frameHTML).mousemove(function (e) {
        if (e.which in window.mouseEvents && window.mouseEvents[e.which].isDown && elementResizing) {
            widthElementToPercentage(elementResizing, e);
        }
    });

    window.keyEvents = {};
    $('html').keydown(function (e) {
        window.keyEvents[e.which] = {
            event: e,
            isDown: false
        };

        window.keyEvents.isDown = true;
    });

    $('html').keyup(function (e) {
        window.keyEvents[e.which] = {
            event: e,
            isDown: false
        };

        var foundTrue = false;
        for (var key in window.keyEvents) {
            if (_typeof(window.keyEvents[key]) === 'object' && window.keyEvents[key] && 'keyDown' in window.keyEvents[key] && window.keyEvents[key].keyDown === true) {
                foundTrue = true;
                break;
            }
        }
        if (!foundTrue) {
            window.keyEvents.isDown = false;
        }
    });

    function widthElementToPercentage(element, e) {
        if (!element) {
            gatelyLog('The element argument passed to ' + 'window.widthMenuElementToPercentage is not valid. Cannot ' + 'change element parent width.');
            return;
        }

        var width = $('html').width() - e.screenX;
        $($(element).attr('data-selector')).css(_defineProperty({
            'width': width + 'px'
        }, 'width', 'calc(' + width + 'px - 4.67em)'));
    };
    window.widthElementToPercentage = widthElementToPercentage;

    $('#saveGame').click(function (e) {
        saveFile($('#saveFilename').val(), 'html');
        $('#saveFilename').val('');
    });

    if (processed.indexOf('save') !== -1) {
        var saveElem = document.querySelector('tw-save#defaultSave');

        if (saveElem && saveElem.childCount !== 0) {
            var stateObj = saferJSONParse(saveElem.innerText);

            if ((typeof stateObj === 'undefined' ? 'undefined' : _typeof(stateObj)) === 'object' && stateObj) {
                for (var prop in stateObj) {
                    State[prop] = stateObj[prop];
                }
            }

            if (State.currentTheme.prerenderString) {
                State.currentTheme.prerender = new Function(State.currentTheme.prerenderString);
            }

            if (State.currentTheme.postrenderString) {
                State.currentTheme.postrender = new Function(State.currentTheme.postrenderString);
            }

            Macro.world.restoreModelProtoFuncs.handler();

            $('tw-save#defaultSave').remove();

            return;
        } else {
            throw new Error('There is a save flag on this HTML file but no ' + 'tw-save#defaultSave element that contains a state.');
        }
    }

    /* everything that follows must be non-event logic unneeded for
     * non-save launches */
    var startNode = $storydata.attr('startNode');
    var $startPassage = $('tw-passagedata[pid="' + startNode + '"]');

    // evals all story scripts
    selector = 'script, tw-passagedata[tags~="script"]';
    $storydata.find(selector).each(function (_, aa) {
        $(aa).attr('data-src', 'user-added script');
        eval(aa.innerText);
    });

    // appends all story styles
    selector = 'style, tw-passagedata[tags~="style"]';
    $storydata.find(selector).each(function (_, aa) {
        $('body').append('<style data-src="user-added style">' + aa.innerText + '</style>');
    });

    // fire all passages tagged load
    selector = 'tw-passagedata[tags~=load]';
    $storydata.find(selector).each(function (_, aa) {
        var clone = aa.cloneNode(true);
        Compiler.compile(clone);
    });

    // wire up all passages tagged unload to the beforeunload event
    selector = 'tw-passagedata[tags~=unload]';
    $storydata.find(selector).each(function (_, aa) {
        $(window).on('beforeunload', function (e) {
            return Parser.parseText(aa.innerHTML);
        });
    });
    window.updateAudioDisplay();

    // add tracery grammars in special html elements
    selector = 'tw-passagedata[tags~="_tracerystore"], ' + 'tw-passagedata[tags~="_tracery-store"]';
    $storydata.find(selector).each(function (_, trace) {
        var name = trace.getAttribute('name');
        if (!name) {
            wideAlert('A passage tagged tracery-store lacks a name attribute. ' + 'Cannot add to tracery store.');
        }

        State.addTraceryGrammar(name, trace.innerHTML);
    });

    // initialize the default story style
    Renderer.initializeTheme();

    // renders the start passage
    Renderer.render($startPassage.attr('name'));

    // prevent FOUC; make window visible now that loading is complete
    $('html').removeClass('unloaded');

    // gately is no longer loading
    window.isLoading = false;
})();

},{}],9:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

(function () {
    'use strict';

    var getOwnPropertyNames = Object.getOwnPropertyNames;

    var frame = $('#defaultTranscriptFrame')[0];

    var frameHTML = void 0;
    var frameHead = void 0;
    var frameBody = void 0;
    if (frame && frame.contentDocument) {
        frameHTML = frame.contentDocument.body.parentElement;
        frameHead = frameHTML.querySelector('head');
        frameBody = frameHTML.querySelector('body');
    }

    var $defaultMenu = $('#defaultMenu');

    window.Options = {
        recordingLevels: {
            textChanges: true,
            pageEvents: true,
            stateChanges: true,
            load: false,
            parse: false,
            render: false
        },

        transcriptMutationObserver: null,

        toggleTranscriptRecording: function toggleTranscriptRecording() {
            State.recordingTranscript = !State.recordingTranscript;
        },
        startTranscriptEntry: function startTranscriptEntry() {
            var newState = {};
            for (var name in State) {
                var lowName = name.toLowerCase();
                var prop = State[name];
                if (lowName.indexOf('binding') === -1 && lowName.indexOf('transcript') === -1 && lowName.startsWith('current') && !isFunction(prop)) {
                    newState[name] = State[name];
                }
            }

            State.currentTranscriptEntry = {
                passageName: State.currentPassageName,
                textChanges: [],
                pageEvents: [],
                stateChanges: [],
                parses: [],
                macros: []
            };

            State.transcriptHistory.push(State.currentTranscriptEntry);
        },
        endTranscriptEntry: function endTranscriptEntry() {
            // remove mutation observer
            if (Options.transcriptMutationObserver && Options.transcriptMutationObserver.disconnect) {
                Options.transcriptMutationObserver.disconnect();
            }

            // remove current transcript entry property
            State.currentTranscriptEntry = null;

            // remove event checker
            $('tw-passage.current').off('click keydown');
        },
        printTranscript: function printTranscript(type) {
            var printed = void 0;
            var lowerTrimType = void 0;
            if (typeof type === 'string') {
                lowerTrimType = type.trim().toLowerCase();
            }

            if (lowerTrimType === 'html') {
                printed = Options.printTranscriptToHTML();
            } else {
                wideAlert('The type argument passed to ' + 'Options.printTranscript is not recognized. Cannot print.');
            }

            return printed;
        },
        printTranscriptToHTML: function printTranscriptToHTML() {
            // generate primary container
            var $node = $('<div id="container"></div>');

            for (var ii = 0; ii < State.transcriptHistory.length; ii++) {
                var item = State.transcriptHistory[ii];
                var $entry = $('<div class="entry"></div>');
                var id = ii.toString();
                // show the last relevant change – macros if there was one, 
                // parses otherwise, nothing if not parses
                if (item.macros.length) {
                    id += '_macros_-1';
                } else if (item.parses.length) {
                    id += '_parses_-1';
                } else {
                    continue;
                }

                var $title = $('<p data-transcript-identifier="' + id + '" class="title">' + State.history[ii] + '</p>');
                $title.css('cursor', 'pointer');
                $entry.append($title);

                var $collapser = $('<button>-</button>');
                $collapser.attr({
                    class: 'collapser',
                    'data-on': '-',
                    'data-off': '+'
                });
                $entry.append($collapser);

                var transcriptEntry = State.transcriptHistory[ii];
                if (!transcriptEntry) {
                    $entry.append('<p>Empty!</p>');
                    $node.append($entry);
                    continue;
                }

                var changes = transcriptEntry.textChanges;

                for (var jj = 0; jj < changes.length; jj++) {
                    var subID = id + '_' + jj;
                    var $state = $('<div class="state" id="' + subID + '"></div>');

                    $state.html(changes[jj].html);

                    $state.find('tw-transcript-event').each(function (_, evt) {
                        evt.removeAttribute('unprocessed');
                        evt.innerHTML = evt.getAttribute('data-transcript-index');
                    });

                    var $subtitle = $('<span class="subtitle">textchange</span>');
                    $subtitle.attr({
                        'data-transcript-time': transcriptEntry.time,
                        'data-transcript-identifier': ii.toString() + '_textChanges_0'
                    });

                    $state.prepend($subtitle);

                    $entry.append($state);
                }

                //$contents.append($content);
                $node.append($entry);
            }

            return $node.html();
        },
        setTranscriptDisplay: function setTranscriptDisplay(clicked) {
            if (!clicked) {
                wideAlert('The clicked argument passed to ' + 'Options.setTranscriptDisplay is not valid. Cannot set ' + 'transcript display.');
                return;
            }

            var $currentTarget = $(clicked);
            var identifier = $currentTarget.attr('data-transcript-identifier');
            if (!identifier) {
                wideAlert('A valid data-transcript-identifier does not exist ' + 'in the $currentTarget variable derived from the ' + 'clicked argument.');
                return;
            }

            var dataSrc = State.transcriptHistory;
            identifier.split('_').filter(function (aa) {
                return aa !== '';
            }).forEach(function (id) {
                if (id === '-1' && dataSrc.length) {
                    dataSrc = dataSrc[dataSrc.length - 1];
                } else if (id in dataSrc) {
                    dataSrc = dataSrc[id];
                } else {
                    wideAlert('invalid data-transcript-identifier!');
                    return;
                }
            });

            function doNothing(str) {
                return str;
            }

            var funcs = {
                jqueryevt: saferJSONParse,
                state: saferJSONParse,
                time: Number.parseFloat,
                name: doNothing,
                passageName: doNothing,
                type: doNothing,
                errors: doNothing
            };

            var aliases = {
                name: 'Passage Name',
                passageName: 'Passage Name',
                jqueryevt: 'jQuery Event',
                state: 'Current State',
                time: 'Time Recorded',
                type: 'Record Type',
                errors: 'Errors'
            };

            var detailsElem = document.createElement('div');
            getOwnPropertyNames(dataSrc).forEach(function (name) {
                var div = document.createElement('div');
                var func = funcs[name];
                if (!func) {
                    return;
                }

                var alias = aliases[name.toLowerCase()];
                var processed = func(dataSrc[name]);
                if (alias) {
                    Options.varToHTML(div, processed, alias);
                } else {
                    Options.varToHTML(div, processed, name);
                }

                detailsElem.appendChild(div);
            });

            var frame = $('#defaultTranscriptFrame')[0];
            var frameBody = frame.contentDocument.body;

            var $displayPane = $(frameBody.querySelector('#displayPane'));

            var $details = $displayPane.find('#transcriptDetailsDiv');
            $details.html(detailsElem.innerHTML);

            var framesElem = document.createElement('div');
            var flatElem = document.createElement('div');
            dataSrc = State.transcriptHistory[identifier.split('_')[0]];
            getOwnPropertyNames(dataSrc).forEach(function (collection) {
                if (_typeof(dataSrc[collection]) !== 'object' || !('forEach' in dataSrc[collection]) || !dataSrc[collection].length || collection === 'textChanges' || collection === 'stateChanges' || collection === 'pageEvents') {
                    return;
                }

                dataSrc[collection].forEach(function (record) {
                    var flatDiv = document.createElement('div');
                    flatDiv.className = 'frame';

                    var framesDiv = document.createElement('div');
                    framesDiv.className = 'frame';

                    getOwnPropertyNames(record).forEach(function (prop) {
                        if (prop === 'name' || prop === 'passageName') {
                            return;
                        }

                        var func = funcs[prop];

                        if (!func) {
                            func = noop;
                        }

                        if (prop === 'html' || prop === 'text') {
                            flatDiv.innerHTML = record[prop].replace(/\n/g, '<br>').replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;');

                            var content = document.createElement('div');
                            content.className = 'content';
                            content.dataset.rawData = record[prop];
                            content.textContent = record[prop];
                            content.innerHTML = content.innerHTML.replace(/\n/g, '<br>').replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;');
                            framesDiv.appendChild(content);
                        } else {
                            var alias = aliases[prop.toLowerCase()];
                            var processed = func(record[prop]) || record[prop];
                            if (alias) {
                                Options.varToHTML(flatDiv, processed, alias);
                                Options.varToHTML(framesDiv, processed, alias);
                            } else {
                                Options.varToHTML(flatDiv, processed, prop);
                                Options.varToHTML(framesDiv, processed, prop);
                            }
                        }
                    });

                    flatElem.appendChild(flatDiv);
                    framesElem.appendChild(framesDiv);
                });
            });

            var combined = [].concat(dataSrc.textChanges).concat(dataSrc.stateChanges).concat(dataSrc.pageEvents).sort(function (aa, bb) {
                if (aa.time < bb.time) {
                    return -1;
                } else if (aa.time === bb.time) {
                    return 0;
                } else {
                    return 1;
                }
            });

            combined.forEach(function (record) {
                var div = document.createElement('div');
                div.className = 'frame';

                getOwnPropertyNames(record).forEach(function (prop) {
                    if (prop === 'name' || prop === 'passageName') {
                        return;
                    }

                    var func = funcs[prop];
                    if (!func) {
                        func = noop;
                    }

                    if (prop === 'html' || prop === 'text') {
                        div.innerHTML = record[prop];
                    } else {
                        var alias = aliases[prop.toLowerCase()];
                        var processed = func(record[prop]) || record[prop];
                        if (alias) {
                            Options.varToHTML(div, processed, alias);
                        } else {
                            Options.varToHTML(div, processed, prop);
                        }
                    }
                });

                flatElem.appendChild(div);
                framesElem.appendChild(div.cloneNode(true));
            });

            var $frames = $displayPane.find('#transcriptFramesDiv');
            $frames.html('');

            var upButton = document.createElement('button');
            upButton.className = 'disabled';
            upButton.textContent = '↑';
            $frames.append(upButton);

            var downButton = document.createElement('button');
            downButton.textContent = '↓';
            $frames.append(downButton);

            $(upButton).click(function (e) {
                var $prev = $frames.find('.frame.active').prev('.frame').first();
                if ($prev.length) {
                    $frames.find('.frame').removeClass('active');
                    $prev.addClass('active');
                }

                $(downButton).removeClass('disabled');
                if (!$prev.prev('.frame').first().length) {
                    $(upButton).addClass('disabled');
                }
            });

            $(downButton).click(function (e) {
                var $next = $frames.find('.frame.active').next('.frame').first();
                if ($next.length) {
                    $frames.find('.frame').removeClass('active');
                    $next.addClass('active');
                }

                $(upButton).removeClass('disabled');
                if (!$next.next('.frame').first().length) {
                    $(downButton).addClass('disabled');
                }
            });

            var toggleRaw = document.createElement('button');
            toggleRaw.dataset.isRaw = 'true';
            toggleRaw.innerHTML = '<span style="color: red;">x</span> raw';
            $frames.append(toggleRaw);

            $(toggleRaw).click(function () {
                var $contents = $frames.find('.content');

                if (toggleRaw.dataset.isRaw === 'true') {
                    toggleRaw.innerHTML = '&nbsp;&nbsp;&nbsp;raw';
                    toggleRaw.dataset.isRaw = 'false';

                    $contents.each(function (_, content) {
                        content.innerHTML = content.dataset.rawData.replace(/\n/g, '<br>').replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;');
                    });
                } else {
                    toggleRaw.innerHTML = '<span style="color: red;">x</span> ' + 'raw';
                    toggleRaw.dataset.isRaw = 'true';

                    $contents.each(function (_, content) {
                        content.textContent = content.dataset.rawData;
                        content.innerHTML = content.innerHTML.replace(/\n/g, '<br>').replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;');
                    });
                }
            });

            $frames.append(framesElem);
            $frames.find('.frame').first().addClass('active');

            var $flat = $displayPane.find('#transcriptFlatDiv');
            $flat.html('');
            $flat.append(flatElem);

            // open all Errors by default
            var selector = '.container[data-property-name="Errors"] > ' + '.collapsed > ' + '.collapser';
            $displayPane.find(selector).click();
        },
        varToHTML: function varToHTML(node, prop, propName) {
            var container = document.createElement('div');
            container.className = 'container';
            container.dataset.propertyName = propName;
            node.appendChild(container);

            var textField = document.createElement('div');
            container.appendChild(textField);

            if (propName) {
                var title = document.createElement('b');
                var formattedName = propName;
                title.className = 'title';
                if (prop && (typeof prop === 'undefined' ? 'undefined' : _typeof(prop)) === 'object' && prop.constructor && prop.constructor.name) {
                    formattedName += ' (' + prop.constructor.name + ')';
                }

                formattedName += ': ';
                title.innerHTML = '<span class="titleText">' + formattedName + '</span>';
                textField.appendChild(title);
            }

            if ((typeof prop === 'undefined' ? 'undefined' : _typeof(prop)) === 'object' && prop !== null) {
                (function () {
                    var spanner = document.createElement('div');
                    spanner.className = 'spanner';
                    textField.appendChild(spanner);

                    var subEl = document.createElement('div');
                    container.appendChild(subEl);
                    subEl.className = 'collapsed';

                    var collapser = document.createElement('button');
                    collapser.className = 'collapser';
                    collapser.innerText = '+';
                    collapser.setAttribute('data-on', '-');
                    collapser.setAttribute('data-off', '+');
                    subEl.appendChild(collapser);

                    var subProps = Object.getOwnPropertyNames(prop);
                    if (!subProps.length) {
                        var empty = document.createElement('div');
                        empty.innerText = 'Empty!';
                        subEl.appendChild(empty);
                    }

                    subProps.forEach(function (subProp) {
                        if (subProp === 'length' && prop instanceof Array) {
                            if (!prop.length) {
                                var _empty = document.createElement('div');
                                _empty.innerText = 'Empty!';
                                subEl.appendChild(_empty);
                            } else {
                                return;
                            }
                        } else {
                            Options.varToHTML(subEl, prop[subProp], subProp);
                        }
                    });
                })();
            } else {
                var valText = void 0;

                if (prop === null) {
                    valText = 'null';
                } else if (typeof prop === 'undefined') {
                    valText = 'undefined';
                } else if (prop.toString) {
                    valText = prop.toString();
                }

                if (typeof prop === 'string') {
                    valText = '"' + valText + '"';
                }
                var valNode = document.createTextNode(valText);
                textField.appendChild(valNode);

                var spacer = document.createElement('p');
                spacer.className = 'spacer';
                container.appendChild(spacer);
            }
        },
        updateTranscriptVisuals: function updateTranscriptVisuals() {
            var passagePane = frameBody.querySelector('#passagePane');
            passagePane.innerHTML = Options.printTranscript('html');

            var choice = $defaultMenu.attr('data-choice');
            if (choice === 'transcript') {
                $defaultMenu.attr('data-choice', 'transcript');
                if (!$(defaultMenu).find('.destructor').length) {
                    $defaultMenu.append('<button ' + 'class="destructor">X</button>');
                }

                $defaultMenu.find('tw-element-resizer').attr('data-selector', '#defaultTranscriptDisplay');

                Options.setTranscriptDisplay(passagePane.querySelector('.title'));
            }
        },
        captureTextChanges: function captureTextChanges() {
            var $current = $('tw-passage.current');
            if (!$current.length) {
                return;
            }

            var lastText = $current.text();
            var lastHTML = $current.html();

            Options.eventIndex = 1;

            // create an observer instance
            Options.transcriptMutationObserver = new MutationObserver(function (mutations) {
                if (!Options.recordingLevels.textChanges || !State.recordingTranscript && !window.DEBUG) {
                    return;
                }

                from(mutations).forEach(function (mutation) {
                    var entry = State.currentTranscriptEntry;

                    var text = $current.text();
                    var html = $current.html();

                    // if the text has changed, add a new entry
                    if (text !== lastText) {
                        var _$current = $('tw-passage.current');

                        // do not allow the events to persist
                        _$current.find('tw-transcript-event').remove();

                        var newState = {};
                        for (var name in State) {
                            var lowName = name.toLowerCase();
                            var prop = State[name];
                            if (lowName.indexOf('binding') === -1 && lowName.indexOf('transcript') === -1 && lowName.startsWith('current') && !isFunction(prop)) {
                                newState[name] = State[name];
                            }
                        }

                        entry.textChanges.push({
                            name: State.currentPassageName,
                            html: _$current[0].outerHTML,
                            time: new Date().getTime().toString(),
                            state: JSON.stringify(newState),
                            type: 'textchange',
                            errors: from(State.compilerStatus.errors)
                        });

                        State.compilerStatus.errors = [];

                        Options.updateTranscriptVisuals();

                        lastText = _$current.text();
                        lastHTML = _$current.html();

                        Options.eventIndex = 1;
                    }
                });
            });

            // configuration of the observer:
            var observerConfig = {
                childList: true,
                characterData: true,
                subtree: true
            };

            // pass in the target node, as well as the observer options
            Options.transcriptMutationObserver.observe(document.body, observerConfig);
        },
        haltCaptureTextChanges: function haltCaptureTextChanges() {
            Options.transcriptMutationObserver.disconnect();
        },
        capturePageEvents: function capturePageEvents() {
            var $current = $('tw-passage.current');
            $current.on('click keydown', function (e) {
                var valid = window.DEBUG || Options.recordingLevels.textChanges && State.recordingTranscript;
                // don't register clicks on the passage element, and don't
                // record unless the user state calls for it
                if (e.target === $current[0] || !valid) {
                    return;
                }

                var time = new Date().getTime().toString();
                var $html = $(e.target);

                var $evt = $('<tw-transcript-event unprocessed>' + '</tw-transcript-event>');

                var decircled = e;
                delete decircled.originalEvent;
                delete decircled.view;
                delete decircled.target;
                delete decircled.currentTarget;
                delete decircled.handleObj;
                delete decircled.delegateTarget;
                delete decircled.relatedTarget;
                delete decircled.toElement;
                var decircTxt = JSON.stringify(decircled);

                var currentEntry = State.currentTranscriptEntry;
                var newState = {};
                for (var name in State) {
                    var lowName = name.toLowerCase();
                    var prop = State[name];
                    if (lowName.indexOf('binding') === -1 && lowName.indexOf('transcript') === -1 && lowName.startsWith('current') && !isFunction(prop)) {
                        newState[name] = State[name];
                    }
                }

                var identifier = State.transcriptHistory.indexOf(currentEntry).toString() + '_pageEvents_' + String(Options.eventIndex - 1);
                $evt.attr({
                    'data-transcript-index': Options.eventIndex,
                    'data-transcript-identifier': identifier,
                    'data-transcript-time': time
                });

                $html.append($evt);

                if (currentEntry.textChanges.length) {
                    currentEntry.textChanges.slice(-1)[0].html = $current[0].outerHTML;
                }

                currentEntry.pageEvents.push({
                    time: time,
                    html: $current[0].outerHTML,
                    state: JSON.stringify(newState),
                    jqueryevt: decircTxt,
                    type: 'pageEvent',
                    errors: from(State.compilerStatus.errors)
                });

                State.compilerStatus.errors = [];

                Options.updateTranscriptVisuals();

                Options.eventIndex++;
            });
        },
        captureStateChange: function captureStateChange(name, target, property, value) {
            var regex = /transcript|binding|compiler/;
            if (State.currentTranscriptEntry && !regex.test(property.toLowerCase()) && property.toLowerCase().startsWith('current') && target[property] !== value) {
                State.currentTranscriptEntry.stateChanges.push({
                    passageName: State.currentPassageName,
                    name: name,
                    property: property,
                    value: value,
                    type: 'stateChange',
                    errors: from(State.compilerStatus.errors)
                });

                State.compilerStatus.errors = [];
            }
        }
    };
})();

},{}],10:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

(function () {
    'use strict';

    window.Parser = {
        isEndingTag: function isEndingTag(tag) {
            return tag[0] === '/' || tag.slice && tag.slice(0, 3) === 'end';
        },
        isDeferred: function isDeferred(type) {
            if (!type) {
                return false;
            }

            var macroObj = Matches.getMacroObject(type);

            return macroObj && macroObj.defer === true;
        },
        getMacroType: function getMacroType(text, id) {
            var fragment = text.slice(text.indexOf('<tw-match data-gately-id="' + id + '"'));
            fragment = fragment.slice(fragment.indexOf('data-macro-type="') + 17);
            var macroType = fragment.slice(0, fragment.indexOf('"')).trim().toLowerCase();
            return macroType;
        },
        createOpenTag: function createOpenTag(id, dataType, dialect, macroType) {
            var text = '<tw-match data-gately-id="' + id + '" ';
            if (Parser.isDeferred(macroType)) {
                text += 'class="defer" ';
            }

            if (dialect) {
                text += 'data-dialect="' + dialect + '" ';
            }

            if (macroType) {
                text += 'data-type="macro" data-macro-type="' + macroType + '">';
            } else {
                text += 'data-type="' + dataType + '">';
            }

            return text;
        },
        addStringAtIndex: function addStringAtIndex(string, substring, index) {
            return string.slice(0, index) + substring + string.slice(index);
        },
        removeCharactersAtIndex: function removeCharactersAtIndex(string, index, numToRemove) {
            return string.slice(0, index) + string.slice(index + numToRemove);
        },
        parseElement: function parseElement(element) {
            if (!isElement(element)) {
                wideAlert('The element argument provided to ' + 'Parser.parseElement is not a valid HTML element. ' + 'Cannot parse.');
            }

            State.parserStatus.running = true;

            State.parserStatus.element = element;
            State.parserStatus.text = element.innerHTML;
            State.parserStatus.index = 0;
            State.parserStatus.origIndex = 0;

            var text = State.parserStatus.text;
            var index = State.parserStatus.index;
            var origIndex = State.parserStatus.origIndex;

            if (window.DEBUG || State.recordingTranscript && Options.recordingLevels.parse) {

                var newState = {};
                for (var name in State) {
                    var lowName = name.toLowerCase();
                    var prop = State[name];
                    if (lowName.indexOf('binding') === -1 && lowName.indexOf('transcript') === -1 && lowName.startsWith('current') && !isFunction(prop)) {
                        newState[name] = State[name];
                    }
                }

                State.currentTranscriptEntry.parses.push({
                    text: text,
                    time: new Date().getTime().toString(),
                    passageName: State.currentPassageName,
                    state: JSON.stringify(newState),
                    type: 'startparse',
                    errors: from(State.parserStatus.errors)
                });

                State.parserStatus.errors = [];
            }

            // supposed to be an invalid element error. test later.
            if (State.parserStatus.errors.length) {
                return;
            }

            var ii = 0;
            var elements = [];
            for (var jj = 0; jj < element.children.length; jj++) {
                var child = element.children[jj];
                // handle exact duplicates
                ii += text.slice(ii).indexOf(child.outerHTML);

                var start = ii;

                if (child.tagName === 'TW-ARGUMENT') {
                    elements.push(text.slice(start, start + child.outerHTML.length));
                } else {
                    var newText = Parser.createOpenTag(Matches.getNewMatchId(), 'html');
                    // add new text
                    text = Parser.addStringAtIndex(text, newText, ii);
                    // add the length of the new text
                    ii += newText.length;

                    ii += child.outerHTML.length;

                    newText = '</tw-match>';

                    text = Parser.addStringAtIndex(text, newText, ii);
                    // add the length of the new text
                    ii += newText.length;

                    elements.push(text.slice(start, ii));
                }
            }

            Matches.currentMatch = null;

            var origText = text;
            var matchOrigIndexes = [];

            var simpleMode = false;
            while (index < text.length) {
                var frameText = text;
                if (/["']/.test(text[index])) {
                    Parser.handle(text, 'quote', index, origIndex, elements);
                } else if (text[index] === '<') {
                    Parser.handle(text, 'lesserThanNonEntity', index, origIndex, elements);
                } else if (/^&lt;&lt;/.test(text.slice(index, index + 8))) {
                    Parser.handle(text, 'sugarcubeMacroOpener', index, origIndex);
                } else if (/\(/.test(text[index])) {
                    Parser.handle(text, 'harloweMacroOpener', index, origIndex);
                } else if (/^&gt;&gt;/.test(text.slice(index, index + 8))) {
                    Parser.handle(text, 'sugarcubeMacroCloser', index, origIndex);
                } else if (text[index] === ')') {
                    Parser.handle(text, 'harloweMacroCloser', index, origIndex);
                } else if (/\[/.test(text[index])) {
                    Parser.handle(text, 'harloweHookOpener', index, origIndex);
                } else if (/]/.test(text[index])) {
                    Parser.handle(text, 'harloweHookCloser', index, origIndex);
                } else if (/\$/.test(text[index])) {
                    Parser.handle(text, 'variable', index, origIndex);
                } else if (/\d/.test(text[index])) {
                    Parser.handle(text, 'number', index, origIndex);
                } else if (/\n/.test(text[index])) {
                    Parser.handle(text, 'newline', index, origIndex);
                } else if (/[^\s<>]/.test(text[index])) {
                    Parser.handle(text, 'reservedWord', index, origIndex);
                }

                State.parserStatus.index++;
                State.parserStatus.origIndex++;

                text = State.parserStatus.text;
                index = State.parserStatus.index;
                origIndex = State.parserStatus.origIndex;

                if (frameText !== text && (window.DEBUG || State.recordingTranscript && Options.recordingLevels.parse)) {

                    var _newState = {};
                    for (var _name in State) {
                        var _lowName = _name.toLowerCase();
                        var _prop = State[_name];
                        if (_lowName.indexOf('binding') === -1 && _lowName.indexOf('transcript') === -1 && _lowName.startsWith('current') && !isFunction(_prop)) {
                            _newState[_name] = State[_name];
                        }
                    }

                    State.currentTranscriptEntry.parses.push({
                        text: text,
                        time: new Date().getTime().toString(),
                        passageName: State.currentPassageName,
                        state: JSON.stringify(_newState),
                        type: 'parse',
                        errors: from(State.parserStatus.errors)
                    });

                    State.parserStatus.errors = [];
                }
            }

            element.innerHTML = text;

            if (Matches.currentMatch) {
                console.log('failed match:', Matches.currentMatch);
                var remainder = origText.slice(0, matchOrigIndexes[0]) + '\n\nERROR FOLLOWS BELOW:\n' + origText.slice(matchOrigIndexes[0]);
                wideAlert('A match was never successfully ended. Incomplete ' + (Matches.getMacroType(Matches.currentMatch) || Matches.getDataType(Matches.currentMatch)) + '.\n\n' + remainder);
                Matches.currentMatch = null;
            }

            if (window.DEBUG || State.recordingTranscript && Options.recordingLevels.parse) {

                var _newState2 = {};
                for (var _name2 in State) {
                    var _lowName2 = _name2.toLowerCase();
                    var _prop2 = State[_name2];
                    if (_lowName2.indexOf('binding') === -1 && _lowName2.indexOf('transcript') === -1 && _lowName2.startsWith('current') && !isFunction(_prop2)) {
                        _newState2[_name2] = State[_name2];
                    }
                }

                State.currentTranscriptEntry.parses.push({
                    text: text,
                    time: new Date().getTime().toString(),
                    passageName: State.currentPassageName,
                    state: JSON.stringify(_newState2),
                    type: 'endparse',
                    errors: from(State.parserStatus.errors)
                });

                State.parserStatus.errors = [];
            }
        },
        handle: function handle(text, type, index, origIndex) {
            if (State.parserStatus.running) {
                Parser.parseRules[type](text, index, origIndex, arguments[4]);
            }
        },


        parseRules: {
            quote: function quote(text, index, origIndex) {
                var _arguments = arguments;

                var quoteChar = text[index];
                var quoteType = 'doubleQuote';
                var otherType = 'singleQuote';

                if (text[index] === "'") {
                    quoteType = 'singleQuote';
                    otherType = 'doubleQuote';
                }

                // top-level quotes, single quotes inside valid double 
                // quote blocks, and escaped quotes aren't treated as 
                // semantic. there is probably a bug with successive
                // backslashes
                var current = Matches.currentMatch;
                if (!current || Matches.getDataType(current) === 'html' || Matches.getDataType(current) === 'hook' || Matches.getDataType(current) === otherType || text[index - 1] === '\\' || Matches.isFinishedStartTag(current)) {
                    return;
                }

                var newText = Parser.createOpenTag(Matches.getNewMatchId(), quoteType);

                // add the new text
                text = Parser.addStringAtIndex(text, newText, index);

                // skip ahead the length of the added string
                index += newText.length + 1;

                //matchOrigIndexes.unshift(origIndex);
                origIndex++;
                // skip to the index after the next (unescaped)
                // double quote
                var backslashes = 0;
                while (index < text.length) {
                    if (text[index] === '\\') {
                        backslashes++;
                    } else if (text[index] === quoteChar && backslashes % 2 === 0) {
                        break;
                    } else if (text[index] === '<' && backslashes % 2 === 0) {
                        (function () {
                            // handle valid html elements in strings
                            var after = text.slice(index);
                            var nodeMatches = _arguments[3].map(function (aa) {
                                return after.slice(0, aa.length) === aa;
                            });

                            for (var jj = 0; jj < nodeMatches.length; jj++) {
                                if (nodeMatches[jj]) {
                                    index += _arguments[3][jj].length - 1;
                                    origIndex += _arguments[3][jj].length - 1;
                                    break;
                                }
                            }
                        })();
                    } else {
                        backslashes = 0;
                    }

                    index++;
                    origIndex++;
                }

                // handle unclosed quotes
                if (index !== text.length) {
                    newText = '</tw-match>';
                    text = Parser.addStringAtIndex(text, newText, index + 1);
                    index += newText.length;
                    //matchOrigIndexes.shift();
                }

                State.parserStatus.text = text;
                State.parserStatus.index = index;
                State.parserStatus.origIndex = origIndex;
            },
            lesserThanNonEntity: function lesserThanNonEntity(text, index, origIndex) {
                var after = text.slice(index);
                var nodeMatches = arguments[3].map(function (aa) {
                    return after.slice(0, aa.length) === aa;
                });

                for (var jj = 0; jj < nodeMatches.length; jj++) {
                    if (nodeMatches[jj]) {
                        index += arguments[3][jj].length - 1;
                        origIndex += arguments[3][jj].length - 1;
                        break;
                    }
                }

                State.parserStatus.text = text;
                State.parserStatus.index = index;
                State.parserStatus.origIndex = origIndex;
            },
            sugarcubeMacroOpener: function sugarcubeMacroOpener(text, index, origIndex) {
                // macros names are terminated by a space or &gt;&gt;
                var macroType = text.slice(index + 8).split(/ |&gt;&gt;/)[0];
                if (!macroType) {
                    return;
                }

                var newText = '</tw-match>';

                // remove opening << brackets
                text = Parser.removeCharactersAtIndex(text, index, 8 + macroType.length);

                //matchOrigIndexes.unshift(origIndex);

                origIndex += 8 + macroType.length;

                // don't start a new macro if it's an ending tag
                if (Matches.currentMatch) {
                    var currentMatchType = Matches.getMacroType(Matches.currentMatch);
                    if (currentMatchType === 'elseif' || currentMatchType === 'else-if' || currentMatchType === 'else') {
                        if (currentMatchType !== 'else') {
                            if (macroType === 'elseif' || macroType === 'else-if' || macroType === 'else') {
                                text = Parser.addStringAtIndex(text, newText, index);
                                index += newText.length;

                                var parent = Matches.getCurrentParent(Matches.currentMatch);
                                Matches.currentMatch = parent;
                            }
                        } else {
                            if (macroType === '/if' || macroType === 'endif') {
                                text = Parser.addStringAtIndex(text, newText, index);
                                index += newText.length;

                                var _parent = Matches.getCurrentParent(Matches.currentMatch);
                                Matches.currentMatch = _parent;
                            }
                        }
                    }

                    if (Parser.isEndingTag(macroType)) {
                        // remove closing &gt;&gt; brackets
                        text = Parser.removeCharactersAtIndex(text, index, 8);
                        origIndex += 8;
                        text = Parser.addStringAtIndex(text, newText, index);
                        index += newText.length;

                        var _parent2 = Matches.getCurrentParent(Matches.currentMatch);
                        Matches.currentMatch = _parent2;
                        //matchOrigIndexes.shift();

                        State.parserStatus.index = index;
                        State.parserStatus.origIndex = origIndex;
                        return;
                    }

                    var newMatch = Matches.createMatchObject('macro', Matches.currentMatch, 'sugarcube', macroType);
                    Matches.currentMatch.children.push(newMatch);
                    Matches.currentMatch = newMatch;
                } else {
                    Matches.currentMatch = Matches.createMatchObject('macro', null, 'sugarcube', macroType);
                }

                newText = Parser.createOpenTag(Matches.getCurrentMatchId(), 'macro', 'sugarcube', macroType);
                // add new text
                text = Parser.addStringAtIndex(text, newText, index);
                // add the length of the new text
                index += newText.length - 1;

                State.parserStatus.text = text;
                State.parserStatus.index = index;
                State.parserStatus.origIndex = origIndex;
            },
            harloweMacroOpener: function harloweMacroOpener(text, index, origIndex) {
                // harlowe macro names are terminated by a colon
                var nextColon = text.slice(index + 1).search(':');
                var nextNonEnder = text.slice(index + 1).search(/[\s()>;'"]/);

                if (nextColon === -1 || nextNonEnder === -1 || nextNonEnder < nextColon) {
                    if (Matches.currentMatch && Matches.currentMatch.dialect === 'harlowe') {
                        Matches.harloweParentheses++;
                    }

                    return;
                }

                var macroType = text.slice(index + 1).split(':')[0];

                // skip over the opening (, the macro name, and the
                // terminal colon
                text = Parser.removeCharactersAtIndex(text, index, 2 + macroType.length);

                //matchOrigIndexes.unshift(origIndex);
                origIndex += 1 + macroType.length;

                if (Matches.currentMatch) {
                    var newMatch = Matches.createMatchObject('macro', Matches.currentMatch, 'harlowe', macroType);
                    Matches.currentMatch.children.push(newMatch);
                    Matches.currentMatch = newMatch;
                } else {
                    Matches.currentMatch = Matches.createMatchObject('macro', null, 'harlowe', macroType);
                }

                var newText = Parser.createOpenTag(Matches.getCurrentMatchId(), 'macro', 'harlowe', macroType);

                text = Parser.addStringAtIndex(text, newText, index);
                // add the length of the new text
                index += newText.length - 1;

                State.parserStatus.text = text;
                State.parserStatus.index = index;
                State.parserStatus.origIndex = origIndex;
            },
            sugarcubeMacroCloser: function sugarcubeMacroCloser(text, index, origIndex) {
                if (!Matches.currentMatch) {
                    return;
                }

                var newText = void 0;

                var currentMatch = Matches.currentMatch;
                if (Matches.isDoubleTagMacroOpener(currentMatch)) {
                    Matches.currentMatch.finishedStartTag = true;
                }

                newText = Parser.createOpenTag(Matches.getNewMatchId(), 'openTagTerminator', 'sugarcube');
                text = Parser.addStringAtIndex(text, newText, index);
                index += newText.length;

                // remove closing >> brackets
                text = Parser.removeCharactersAtIndex(text, index, 8);

                newText = '</tw-match>';
                text = Parser.addStringAtIndex(text, newText, index);
                index += newText.length - 1;

                if (!Matches.currentMatch.finishedStartTag) {
                    var parent = Matches.getCurrentParent(Matches.currentMatch);
                    Matches.currentMatch = parent;
                    //matchOrigIndexes.shift();
                }

                State.parserStatus.text = text;
                State.parserStatus.index = index;
                State.parserStatus.origIndex = origIndex;
            },
            harloweMacroCloser: function harloweMacroCloser(text, index, origIndex) {
                if (Matches.harloweParentheses > 0) {
                    Matches.harloweParentheses--;
                    return;
                } else if (!Matches.currentMatch || Matches.currentMatch.dialect === 'sugarcube') {
                    return;
                }

                text = Parser.removeCharactersAtIndex(text, index, 1);

                var currentMatch = Matches.currentMatch;
                var type = Matches.getMacroType(currentMatch) || '';
                var macroObj = Matches.getMacroObject(type);

                if (!macroObj) {
                    macroObj = State.macroAliasStore[type];
                }

                if (!macroObj) {
                    macroObj = State.functionStore[type];
                }

                if (!macroObj) {
                    /*wideAlert('There is no macro definition for the ' +
                        'macro type ' + type + '.'); */
                    macroObj = {};
                }

                var newText = void 0;
                var nextHook = text.slice(index).match(/\s*\[/);
                if (nextHook && text.slice(index).indexOf(nextHook[0]) === 0 &&
                // breaks if replaced in any way???
                macroObj.isDoubleTag) {
                    Matches.currentMatch.finishedStartTag = true;
                    newText = Parser.createOpenTag(Matches.getNewMatchId(), 'openTagTerminator', 'harlowe') + '</tw-match>';
                    text = Parser.addStringAtIndex(text, newText, index);
                    index += newText.length - 1;
                } else {
                    Matches.currentMatch = Matches.currentMatch.parent;
                    newText = Parser.createOpenTag(Matches.getNewMatchId(), 'openTagTerminator', 'harlowe') + '</tw-match>';
                    text = Parser.addStringAtIndex(text, newText, index);
                    index += newText.length;

                    newText = '</tw-match>';
                    text = Parser.addStringAtIndex(text, newText, index);
                    index += newText.length - 1;

                    //matchOrigIndexes.shift();
                }

                State.parserStatus.text = text;
                State.parserStatus.index = index;
                State.parserStatus.origIndex = origIndex;
            },
            harloweHookOpener: function harloweHookOpener(text, index, origIndex) {
                if (Matches.currentMatch) {
                    var newMatch = Matches.createMatchObject('hook', Matches.currentMatch, 'harlowe');
                    Matches.currentMatch.children.push(newMatch);
                    Matches.currentMatch = newMatch;
                } else {
                    Matches.currentMatch = Matches.createMatchObject('hook', null, 'harlowe');
                }

                text = Parser.removeCharactersAtIndex(text, index, 1);

                //matchOrigIndexes.unshift(origIndex);

                var newText = Parser.createOpenTag(Matches.getCurrentMatchId(), 'hook', 'harlowe');
                // add new text
                text = Parser.addStringAtIndex(text, newText, index);
                // add the length of the new text
                index += newText.length - 1;

                State.parserStatus.text = text;
                State.parserStatus.index = index;
                State.parserStatus.origIndex = origIndex;
            },
            harloweHookCloser: function harloweHookCloser(text, index, origIndex) {
                if (!Matches.currentMatch) {
                    return;
                }

                var hookID = Matches.getCurrentMatchId();
                text = Parser.removeCharactersAtIndex(text, index, 1);

                var newText = '</tw-match>';
                text = Parser.addStringAtIndex(text, newText, index);
                index += newText.length - 1;
                Matches.currentMatch = Matches.getCurrentParent(Matches.currentMatch);

                var type = Matches.getMacroType(Matches.currentMatch);
                if (type && Matches.isFinishedStartTag(Matches.currentMatch)) {
                    newText = '</tw-match>';
                    text = Parser.addStringAtIndex(text, newText, index + 1);
                    index += newText.length;
                    Matches.currentMatch = Matches.getCurrentParent(Matches.currentMatch);

                    //matchOrigIndexes.shift();
                }

                State.parserStatus.text = text;
                State.parserStatus.index = index;
                State.parserStatus.origIndex = origIndex;
            },
            variable: function variable(text, index, origIndex) {
                if (/\s/.test(text[index + 1])) {
                    return;
                }

                var enderRE = /[\s<>,()\[\]'"]|&lt;|&gt;|$/;
                var varLength = text.slice(index).split(enderRE)[0].length;

                var accessorsLength = void 0;
                if (text[index + varLength] === '[') {
                    var match = text.slice(index + varLength).match(/\[\S+\]/) || [''];
                    var nextChar = text[index + varLength + match[0].length];
                    if (!match[0].length || !enderRE.test(nextChar)) {
                        index += varLength;
                        origIndex += varLength;
                        State.parserStatus.index = index;
                        State.parserStatus.origIndex = origIndex;
                        return;
                    }

                    accessorsLength = match[0].length;
                }

                var newText = Parser.createOpenTag(Matches.getNewMatchId(), 'variable');
                text = Parser.addStringAtIndex(text, newText, index);
                index += newText.length;

                index += varLength;
                origIndex += varLength;

                if (accessorsLength) {
                    var split = text.slice(index, index + accessorsLength).split(/[\[\]]/).filter(function (aa) {
                        return aa !== '';
                    });
                    split.forEach(function (accessor) {
                        newText = Parser.createOpenTag(Matches.getNewMatchId(), 'accessor');
                        text = Parser.addStringAtIndex(text, newText, index);
                        index += newText.length;

                        var accessorVal = accessor;

                        // remove "" or ''
                        var removingQuotes = false;
                        if (accessor[0] === accessor[accessor.length - 1] && (accessor[0] === '"' || accessor[0] === "'")) {
                            removingQuotes = true;
                            accessorVal = accessor.slice(1, -1);
                            text = Parser.removeCharactersAtIndex(text, index + 1, 1);
                        }

                        // [ + accessor
                        index += 1 + accessorVal.length;

                        if (removingQuotes) {
                            text = Parser.removeCharactersAtIndex(text, index, 1);
                        }

                        // + ]
                        index++;

                        newText = '</tw-match>';
                        text = Parser.addStringAtIndex(text, newText, index);
                        index += newText.length;
                    });
                }

                newText = '</tw-match>';
                text = Parser.addStringAtIndex(text, newText, index);

                // figure out why you need a - 1 here lol
                index += newText.length - 1;

                State.parserStatus.text = text;
                State.parserStatus.index = index;
                State.parserStatus.origIndex = origIndex;
            },
            number: function number(text, index, origIndex) {
                // skip anything outside of matches
                if (!Matches.currentMatch || Matches.isFinishedStartTag(Matches.currentMatch) || Matches.getDataType(Matches.currentMatch) === 'hook') {
                    return;
                }

                /* get the next non-number character
                 * match all whitespace and mathematical operators and
                 * macro closures and commas, and ensure that the next
                 * non-number character is one */
                var temp = text.slice(index).search(/\D/);
                var firstPeriod = text.slice(index).search(/\./);

                if (temp === -1) {
                    temp = text.slice(index).length;
                } else if (firstPeriod !== -1 && firstPeriod <= temp) {
                    temp += text.slice(index).match(/\.\d*/)[0].length;
                }

                /* skip anything outside of matches, or invalid matches. */
                if (!text[index + temp] || /[^\d.,]/.test(text.slice(index, index + temp)) || !/^([\s+\-*\/%(),>]|&gt;)/.test(text.slice(index + temp))) {
                    return;
                }

                var newText = Parser.createOpenTag(Matches.getNewMatchId(), 'number');
                text = Parser.addStringAtIndex(text, newText, index);
                index += temp + newText.length;
                origIndex += temp;

                newText = '</tw-match>';
                text = Parser.addStringAtIndex(text, newText, index);
                index += newText.length - 1;

                State.parserStatus.text = text;
                State.parserStatus.index = index;
                State.parserStatus.origIndex = origIndex;
            },
            newline: function newline(text, index, origIndex) {
                State.parserStatus.lineNumber++;

                State.parserStatus.text = text;
                State.parserStatus.index = index;
                State.parserStatus.origIndex = origIndex;
            },
            reservedWord: function reservedWord(text, index, origIndex) {
                // skip anything outside of matches
                if (!Matches.currentMatch || Matches.isFinishedStartTag(Matches.currentMatch) || Matches.getDataType(Matches.currentMatch) === 'hook') {
                    return;
                }

                // handle commas for argument lists
                if (text[index] === ',' && Matches.currentMatch.dataType === 'macro') {
                    var newText = Parser.createOpenTag(Matches.getNewMatchId(), 'comma');
                    text = Parser.addStringAtIndex(text, newText, index);
                    // skip ahead the length of the added string
                    index += newText.length;

                    newText = '</tw-match>';
                    text = Parser.addStringAtIndex(text, newText, index + 1);
                    index += newText.length;

                    // TODO: test and fix for left-padded strings
                    // remove all spaces between comma-separated arguments
                    var regex = / /;
                    while (regex.test(text[index + 1])) {
                        text = Parser.removeCharactersAtIndex(text, index + 1, 1);
                    }
                }

                var word = text.slice(index).split(/[\s<>)]|&lt;|&gt;/)[0];
                if (text[index - 1].match(/\s/) && Matches.reservedWordLookup[word]) {
                    var _newText = Parser.createOpenTag(Matches.getNewMatchId(), 'reservedWord');
                    text = Parser.addStringAtIndex(text, _newText, index);
                    // skip ahead the length of the added string
                    index += _newText.length;
                    // skip to the index after the reserved word completes
                    index += word.length;
                    origIndex += word.length;

                    _newText = '</tw-match>';
                    text = Parser.addStringAtIndex(text, _newText, index);
                    index += _newText.length - 1;
                }

                State.parserStatus.text = text;
                State.parserStatus.index = index;
                State.parserStatus.origIndex = origIndex;
            }
        },

        parseText: function parseText(text) {
            var container = document.createElement('tw-match');
            container.className = 'parseContainer';
            container.innerHTML = text;

            Parser.parseElement(container);
            return container;
        },
        unparseElement: function unparseElement(element) {
            var dataType = Matches.getDataType(element);
            var macroType = Matches.getMacroType(element);

            if (dataType === 'singleQuote' || dataType === 'doubleQuote' || dataType === 'reservedWord' || dataType === 'comma' || dataType === 'html' || dataType === 'number' || dataType === 'accessor') {
                element.outerHTML = element.innerHTML;
            } else if (dataType === 'hook') {
                element.outerHTML = '[' + element.innerHTML + ']';
            } else if (dataType === 'variable') {
                element.outerHTML = element.innerHTML;
            } else if (dataType === 'macro') {
                var dialect = element.getAttribute('data-dialect');
                if (dialect === 'harlowe') {
                    element.outerHTML = '(' + Matches.getMacroType(element) + ': ' + element.innerHTML;
                } else if (dialect === 'sugarcube') {
                    if (Macro[macroType].isDoubleTag) {
                        element.outerText = '&lt;&lt;' + Matches.getMacroType(element) + ' ' + element.innerHTML + '&lt;&lt;end' + macroType + '&gt;&gt;';
                    } else {
                        element.outerText = '&lt;&lt;' + Matches.getMacroType(element) + ' ' + element.innerHTML;
                    }
                } else {
                    // wut?
                    wideAlert('The data-dialect value was not recognized. ' + 'The only currently-supported dialects are ' + 'Sugarcube and Harlowe.');
                }
            } else if (dataType === 'openTagTerminator') {
                var _dialect = element.getAttribute('data-dialect');
                if (_dialect === 'harlowe') {
                    element.outerHTML = ')';
                } else if (_dialect === 'sugarcube') {
                    element.outerHTML = '&gt;&gt;';
                } else {
                    // wut?
                    wideAlert('The data-dialect value was not recognized. The ' + 'only currently-supported dialects are Sugarcube ' + 'and Harlowe.');
                }
            }
        },
        unparseText: function unparseText(text) {
            var div = document.createElement('div');
            div.innerHTML = text;
            Parser.unparseNode(div);
            return div.innerHTML;
        },
        parseSimple: function parseSimple(text, vars) {
            State.parserStatus.running = true;

            State.parserStatus.text = text;
            State.parserStatus.index = 0;
            State.parserStatus.origIndex = 0;

            var index = State.parserStatus.index;
            var origIndex = State.parserStatus.origIndex;

            var simpleVariables = null;
            if (vars && (typeof vars === 'undefined' ? 'undefined' : _typeof(vars)) === 'object') {
                simpleVariables = vars;
            }

            if (window.DEBUG || State.recordingTranscript && Options.recordingLevels.parse) {

                var newState = {};
                for (var name in State) {
                    var lowName = name.toLowerCase();
                    var prop = State[name];
                    if (lowName.indexOf('binding') === -1 && lowName.indexOf('transcript') === -1 && lowName.startsWith('current') && !isFunction(prop)) {
                        newState[name] = State[name];
                    }
                }

                State.currentTranscriptEntry.parses.push({
                    text: text,
                    time: new Date().getTime().toString(),
                    passageName: State.currentPassageName,
                    state: JSON.stringify(newState),
                    type: 'startsimpleparse',
                    errors: from(State.parserStatus.errors)
                });

                State.parserStatus.errors = [];
            }

            while (index < text.length) {
                var frameText = text;

                if (/^&lt;\?\s/.test(text.slice(index)) && /\s\?&gt;/.test(text.slice(index))) {
                    var simpleFrag = text.slice(index, index + text.slice(index).search(/\s\?&gt;/) + 6).slice(6, -6);

                    text = Parser.removeCharactersAtIndex(text, index, simpleFrag.length + 12);

                    simpleFrag.split(';').forEach(function (line) {
                        if (!line) {
                            return;
                        }

                        var obj = {
                            directive: '',
                            target: '',
                            modifier: '',
                            argument: '',
                            inArgument: false
                        };

                        function stripQuotesAndPeriod(text) {
                            var strippedText = text;
                            // remove period
                            if (strippedText.endsWith('.')) {
                                text = text.slice(0, -1);
                            }

                            if (strippedText.startsWith('"') && strippedText.endsWith('"')) {
                                return text.slice(1, -1);
                            } else {
                                return text;
                            }
                        }

                        var parts = line.split(' ').map(function (part) {
                            return part.trim();
                        }).filter(function (part) {
                            return part;
                        });

                        obj.directive = stripQuotesAndPeriod((parts[0] || '').trim().toLowerCase());
                        obj.target = stripQuotesAndPeriod((parts[1] || '').trim().toLowerCase());
                        obj.modifier = stripQuotesAndPeriod((parts[2] || '').trim().toLowerCase());

                        var argText = (parts.slice(3) || '').join(' ').trim();

                        function isValidQuoteAtIndex(text, ii) {
                            if (text[ii] === '"') {
                                var match = text.slice(0, ii + 1).match(/\\+(?=")^/);
                                if (text[ii - 1] !== '\\' || match && match[0].length % 2 === 0) {
                                    return true;
                                }
                            }

                            return false;
                        }

                        var args = [];
                        var quoteOpen = false;
                        var quoteOpenIndex = null;
                        var ii = 0;
                        while (ii < argText.length) {
                            if (argText[ii] === '"' && isValidQuoteAtIndex(argText, ii)) {
                                if (quoteOpen) {
                                    args.push(argText.slice(quoteOpenIndex + 1, ii));
                                } else {
                                    quoteOpenIndex = ii;
                                }

                                quoteOpen = !quoteOpen;
                            }

                            ii++;
                        }

                        if (/the|set/.test(obj.directive) && /is|to|are/.test(obj.modifier)) {
                            if (simpleVariables) {
                                if (args && (typeof args === 'undefined' ? 'undefined' : _typeof(args)) === 'object' && args.length <= 1) {
                                    simpleVariables[obj.target] = args[0] || '';
                                } else {
                                    simpleVariables[obj.target] = args;
                                }
                            }
                        } else if (/do/.test(obj.directive) && /to|with/.test(obj.modifier)) {
                            var str = '(' + obj.target + ': ';

                            for (var _ii = 0; _ii < args.length - 1; _ii++) {
                                str += '"' + args[_ii] + '", ';
                            }

                            str += '"' + args[args.length - 1] + '")';

                            text = Parser.addStringAtIndex(text, str, index);
                        }
                    });

                    State.parserStatus.text = text;
                    State.parserStatus.index = index;
                    State.parserStatus.origIndex = origIndex;
                }

                State.parserStatus.index++;
                State.parserStatus.origIndex++;

                text = State.parserStatus.text;
                index = State.parserStatus.index;
                origIndex = State.parserStatus.origIndex;

                if (frameText !== text && (window.DEBUG || State.recordingTranscript && Options.recordingLevels.parse)) {

                    var _newState3 = {};
                    for (var _name3 in State) {
                        var _lowName3 = _name3.toLowerCase();
                        var _prop3 = State[_name3];
                        if (_lowName3.indexOf('binding') === -1 && _lowName3.indexOf('transcript') === -1 && _lowName3.startsWith('current') && !isFunction(_prop3)) {
                            _newState3[_name3] = State[_name3];
                        }
                    }

                    State.currentTranscriptEntry.parses.push({
                        text: text,
                        time: new Date().getTime().toString(),
                        passageName: State.currentPassageName,
                        state: JSON.stringify(_newState3),
                        type: 'simpleparse',
                        errors: from(State.parserStatus.errors)
                    });

                    State.parserStatus.errors = [];
                }
            }

            if (window.DEBUG || State.recordingTranscript && Options.recordingLevels.parse) {

                var _newState4 = {};
                for (var _name4 in State) {
                    var _lowName4 = _name4.toLowerCase();
                    var _prop4 = State[_name4];
                    if (_lowName4.indexOf('binding') === -1 && _lowName4.indexOf('transcript') === -1 && _lowName4.startsWith('current') && !isFunction(_prop4)) {
                        _newState4[_name4] = State[_name4];
                    }
                }

                State.currentTranscriptEntry.parses.push({
                    text: text,
                    time: new Date().getTime().toString(),
                    passageName: State.currentPassageName,
                    state: JSON.stringify(_newState4),
                    type: 'endsimpleparse',
                    errors: from(State.parserStatus.errors)
                });

                State.parserStatus.errors = [];
            }

            return text;
        }
    };
})();

},{}],11:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

(function () {
    'use strict';

    var getOwnPropertyNames = Object.getOwnPropertyNames;

    var $displayPassage = $('tw-story#passage');

    window.Renderer = {
        isRendering: false,

        conversions: ['convertComplexLinks', 'convertPlainLinks', 'convertItalics', 'convertBolds', 'convertStrongs', 'convertEmphases', 'convertSupers', 'convertSubs', 'convertUnderlines', 'convertStrikethroughs'],

        passagesSeenThisRender: [],

        PASSAGE_RECURSION_LIMIT: 500,

        initializeTheme: function initializeTheme() {
            $('#themeStyle').replaceWith($('<style id="themeStyle"></style>').html(State.currentTheme.style));
        },
        render: function render(passageName, rewindFastForward, type) {
            this.isRendering = true;

            this.passagesSeenThisRender = [];

            if (!passageName || typeof passageName !== 'string') {
                wideAlert('The passageName argument passed to ' + 'Renderer.render is not valid.');
                return;
            }

            var $passage = $('tw-passagedata[name="' + passageName + '"]');
            if (!$passage.length) {
                wideAlert('The passage referred to by the passageName ' + 'argument passed to Renderer.render is not valid.');
                return;
            }

            this.passagesSeenThisRender = [passageName];

            $('tw-history-button').appendTo($('tw-story#passage'));

            Macro.world.restoreModelProtoFuncs.handler();

            var changedRenderType = false;
            var tags = $passage.attr('tags');
            if (tags) {
                tags = tags.split(' ');
                tags.forEach(function (tag) {
                    tag = tag.trim();
                    if (tag.startsWith(tag.match(/world-|world/)) && !tag.endsWith(tag.match(/world-|world/))) {
                        var trimmedTag = tag.split(/world-|world/)[1];
                        var player = State.currentWorldModelState.all.player;
                        player.current[trimmedTag] = '#' + passageName;
                    } else if (tag.startsWith(tag.match('config:')) && !tag.endsWith(tag.match('config:'))) {
                        var payload = tag.trim().split('config:')[1].split('=').map(function (part) {
                            return part.trim();
                        });

                        if (payload[0] === 'renderType') {
                            if (payload[1] in Config.renderTypes) {
                                type = payload[1];
                                changedRenderType = true;
                            }
                        }
                    }
                });
            }

            var renderTypes = Config.renderTypes;
            var theme = State.currentTheme;

            /* In certain cases, most notably if no node exists, or if the 
             * renderType is sugarcube, a new <tw-passage> node must be
             * created. */
            var makingNode = false;
            if (rewindFastForward === 'rewind') {
                if (type === renderTypes.jonah) {
                    var $rewindTo = $('tw-passage[data-id="' + passageName + '"]');
                    State.rewindTo(passageName);

                    $('tw-passage').removeClass('current');

                    $rewindTo.addClass('current');
                    $rewindTo.nextAll().addClass('future');
                } else if (type === renderTypes.sugarcube) {
                    State.rewindTo(passageName);
                    makingNode = true;
                } else {
                    wideAlert('The type argument passed to Renderer.render ' + 'is not one of the recognized ' + 'Config.renderTypes. Cannot rewind.');
                    return;
                }
            } else if (rewindFastForward === 'fastforward') {
                if (type === renderTypes.jonah) {
                    var $fastForwardTo = $('tw-passage[data-id="' + passageName + '"]');
                    State.unrewindTo(passageName);

                    $('tw-passage').removeClass('current');

                    $fastForwardTo.addClass('current');
                    $fastForwardTo.removeClass('future');
                    $fastForwardTo.prevAll('tw-passage').removeClass('future');
                } else if (type === renderTypes.sugarcube) {
                    State.unrewindTo(passageName);
                    makingNode = true;
                } else {
                    wideAlert('The type argument passed to Renderer.render ' + 'is not one of the recognized ' + 'Config.renderTypes. Cannot rewind.');
                    return;
                }
            } else {
                /* Clicking a link removes all future state, both in terms of
                 * visible jonah passages, and objects in State.future*
                 * arrays */
                $('tw-passage.future').remove();
                State.newState(passageName);

                makingNode = true;
            }

            if (makingNode) {
                Renderer.makeNode(passageName);
            }

            var $current = $('tw-passage.current');

            if (tags) {
                /* Add all tags to the passage and body so they can be used by 
                 * author CSS and JS. */
                $current.add('body').attr('data-tags', tags.join(' '));

                tags.forEach(function (tag) {
                    tag = tag.trim();
                    if (tag.startsWith(tag.match('config:')) && !tag.endsWith(tag.match('config:'))) {
                        var payload = tag.split('config:')[1].trim().split('=').map(function (part) {
                            return part.trim();
                        });

                        if (payload[0].toLowerCase() === 'newlinehandlingtype' && payload[1] in Config.newlineHandlingTypes) {
                            Config.editTheme({
                                newlineHandling: payload[1]
                            });
                        } else if (payload[0].toLowerCase() === 'rewind') {
                            Config.editTheme({
                                rewind: payload[1]
                            });
                        } else if (payload[0].toLowerCase() === 'fastforward') {
                            Config.editTheme({
                                fastforward: payload[1]
                            });
                        }
                    }
                });
            }

            if (changedRenderType) {
                Config.editTheme({
                    renderType: type
                });
            }

            this.handleBackAndForwardButtons();

            if (State.currentTheme.newlineHandlingType === Config.newlineHandlingTypes.newlineToBr) {
                this.newlineToBr($current[0]);
            }

            $('body').scrollTop($current.offset().top - 5);

            this.isRendering = false;

            State.validateStateIntegrity();

            if (State.recordingTranscript) {
                Options.updateTranscriptVisuals();
            }
        },
        makeNode: function makeNode(passageName) {
            var $passage = $('tw-passagedata[name="' + passageName + '"]');
            var renderTypes = Config.renderTypes;
            var theme = State.currentTheme;

            var headerPassages = $storydata.find('tw-passagedata[tags~="header"], ' + 'tw-passagedata[tags~="prerender"], ' + 'tw-passagedata[tags~="pre-render"]').toArray();
            var footerPassages = $storydata.find('tw-passagedata[tags~="footer"], ' + 'tw-passagedata[tags~="postrender"], ' + 'tw-passagedata[tags~="post-render"]').toArray();

            // add a valid passage for rendering if one does not already exist
            if (theme.renderType === renderTypes.jonah || !$('tw-passage.current').length) {
                this.addPassage(passageName, $passage.html());
            }

            var $currentNode = $('tw-passage.current');

            if (theme.renderType === renderTypes.sugarcube) {
                $currentNode[0].innerHTML = $passage.html();
            }

            Options.endTranscriptEntry();
            Options.startTranscriptEntry();

            var text = void 0;
            var headerID = 1;
            headerPassages.reverse().forEach(function (header) {
                text = Compiler.compileSimple(header.innerHTML);
                $(header).attr('tags').split(' ').forEach(function (tag) {
                    var object = void 0;

                    if (tag === '') {
                        return;
                    } else if (tag in State.themeStore.passage) {
                        var _theme = State.themeStore.passage[tag];
                        var renderStr = _theme.render(text, header);
                        text += '<style class="' + tag + '-style">' + (_theme.style || '') + '</style>' + renderStr;
                    }
                });

                var headerStr = '<tw-header id="header' + headerID + '">' + text + '</tw-header>';
                $currentNode[0].innerHTML += headerStr;
                headerID++;
            });

            text = Compiler.compileSimple($passage.html());
            $passage.attr('tags').split(' ').forEach(function (tag) {
                if (tag === '') {
                    return;
                } else if (tag in State.themeStore.passage) {
                    var _theme2 = State.themeStore.passage[tag];
                    var renderStr = _theme2.render(text, $passage[0]);
                    text += '<style class="' + tag + '-style">' + (_theme2.style || '') + '</style>' + renderStr;
                }
            });

            $currentNode.html(text);

            var footerID = 1;
            footerPassages.forEach(function (footer) {
                text = Compiler.compileSimple(footer.innerHTML);
                $(footer).attr('tags').split(' ').forEach(function (tag) {
                    if (tag === '') {
                        return;
                    } else if (tag in State.themeStore.passage) {
                        var _theme3 = State.themeStore.passage[tag];
                        var renderStr = _theme3.render(text, footer);
                        text += '<style class="' + tag + '-style">' + (_theme3.style || '') + '</style>' + renderStr;
                    }
                });

                var footerStr = '<tw-footer id="footer' + footerID + '">' + text + '</tw-footer>';
                $currentNode[0].innerHTML += footerStr;
                footerID++;
            });

            Renderer.conversions.forEach(function (conversion) {
                var html = Renderer[conversion]($currentNode.html());
                $currentNode[0].innerHTML = html;
            });

            var textChanges = Options.recordingLevels.textChanges;
            if (window.DEBUG || textChanges) {
                Options.captureTextChanges();
            }

            Compiler.compile($currentNode);

            var pageEvents = Options.recordingLevels.pageEvents;
            if (window.DEBUG || pageEvents) {
                Options.capturePageEvents();
            }
        },
        addPassage: function addPassage(passageName, text) {
            $('tw-passage').removeClass('current');

            var newPassage = document.createElement('tw-passage');
            newPassage.className = 'current ';

            if (State.currentTheme.rewind) {
                newPassage.className += 'rewind ';
            }

            if (State.currentTheme.fastForward) {
                newPassage.className += 'fastForward ';
            }

            // remove terminal space
            newPassage.className = newPassage.className.slice(0, -1);

            var type = State.currentTheme.renderType;
            newPassage.dataset.renderType = type;

            $displayPassage.append(newPassage);

            newPassage.id = passageName;
            newPassage.innerHTML = text;
        },
        doDisplay: function doDisplay(passage) {
            var _this = this;

            var $passage = $(passage);

            // A value of -1 will skip all these checks.
            if (this.PASSAGE_RECURSION_LIMIT !== -1) {
                var _ret = function () {
                    _this.passagesSeenThisRender.push($passage.attr('name'));

                    var seen = _this.passagesSeenThisRender;
                    var dict = {};
                    seen.forEach(function (name) {
                        if (!dict[name]) {
                            dict[name] = 1;
                        } else {
                            dict[name]++;
                        }
                    });

                    var max = Math.max(getOwnPropertyNames(dict).map(function (name) {
                        return dict[name];
                    }));

                    if (max >= _this.PASSAGE_RECURSION_LIMIT) {
                        wideAlert('Recursion limit reached. It is likely that a ' + 'passage is at some level displaying itself, which ' + 'excepting interruption would create an infinite ' + 'loop. Increase Renderer.PASSAGE_RECURSION_LIMIT if ' + 'needed, but beware that this dramatically ' + 'increases the risk of fatal browser stack errors.');
                        return {
                            v: void 0
                        };
                    }
                }();

                if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
            }

            var display = $('<tw-display id=' + $passage.attr('name') + '>' + $passage.html() + '</tw-match>')[0];
            Compiler.compile(display);
            return display;
        },
        handleBackAndForwardButtons: function handleBackAndForwardButtons() {
            var $currentNode = $('tw-passage.current');
            var $backButton = $('tw-history-button.back');
            var $forwardButton = $('tw-history-button.forward');
            var $twStory = $('tw-story#passage');
            var configObj = State.currentTheme;

            if (configObj.renderType === Config.renderTypes.sugarcube) {
                // first is load. can't go to load
                var prevTheme = State.themeHistory[State.themeHistory.length - 2];
                if (State.history.length > 2 && prevTheme.renderType === Config.renderTypes.sugarcube) {
                    $backButton.removeClass('hidden').appendTo($currentNode);
                } else {
                    $backButton.addClass('hidden').appendTo($twStory);
                }

                if (State.historyFuture.length > 0 && State.themeHistoryFuture[0].renderType === Config.renderTypes.sugarcube) {
                    $forwardButton.removeClass('hidden').appendTo($currentNode);
                } else {
                    $forwardButton.addClass('hidden').appendTo($twStory);
                }

                $currentNode.removeClass('jonah');
                $currentNode.addClass('sugarcube');
            } else if (configObj.renderType === Config.renderTypes.jonah) {
                $backButton.add($forwardButton).addClass('hidden').appendTo($twStory);

                $currentNode.removeClass('sugarcube');
                $currentNode.addClass('jonah');
            }
        },
        convertPlainLinks: function convertPlainLinks(text) {
            var regex = /\[\[(\s*[^[\]\s][^[\]]*)\]\]/g;
            var match = void 0;
            while (match = regex.exec(text)) {
                var matchStr = '<tw-link class="passage" passage-name="' + match[1] + '">' + match[1] + '</tw-link>';
                text = text.replace(match[0], matchStr);
            }

            return text;
        },
        convertComplexLinks: function convertComplexLinks(text) {
            var match = void 0;

            // sugarcube-style links
            var regex = /\[\[(\s*[^[\]\s][^[\]]*\|\s*[^[\]\s][^[\]]*)]]/g;
            while (match = regex.exec(text)) {
                var split = match[1].split('|');
                var matchStr = '<tw-link class="passage" passage-name="' + split.slice(1, split.length).join('|') + '">' + split[0] + '</tw-link>';
                text = text.replace(match[0], matchStr);
            }

            // harlowe-style forward-arrow links
            regex = /\[\[(\s*[^[\]\s][^[\]]*-&gt;\s*[^[\]\s][^[\]]*)]]/g;
            while (match = regex.exec(text)) {
                var _split = match[1].split(/-(?:>|&gt;)/);
                var _matchStr = '<tw-link class="passage" passage-name="' + _split[_split.length - 1] + '">' + _split.slice(0, _split.length - 1).join('->') + '</tw-link>';
                text = text.replace(match[0], _matchStr);
            }

            // harlowe-style backward-arrow links
            regex = /\[\[(\s*[^[\]\s][^[\]]*&lt;-\s*[^[\]\s][^[\]]*)]]/g;
            while (match = regex.exec(text)) {
                var _split2 = match[1].split(/(?:<|&lt;)-/);
                text = text.replace(match[0], '<tw-link class="passage" passage-name="' + _split2[0] + '">' + _split2.slice(1, _split2.length).join('<-') + '</tw-link>');
            }

            return text;
        },
        convertItalics: function convertItalics(text) {
            var regex = /\/\/(\S+)\/\//g;
            var match = void 0;
            while (match = regex.exec(text)) {
                var matchStr = '<i class="gately">' + match[1] + '</i>';
                text = text.replace(match[0], matchStr);
            }

            return text;
        },
        convertBolds: function convertBolds(text) {
            var regex = /''(\S+)''/g;
            var match = void 0;
            while (match = regex.exec(text)) {
                var matchStr = '<b class="gately">' + match[1] + '</b>';
                text = text.replace(match[0], matchStr);
            }

            return text;
        },
        convertStrongs: function convertStrongs(text) {
            var regex = /\*\*(\S+)\*\*/g;
            var match = void 0;
            while (match = regex.exec(text)) {
                var matchStr = '<strong class="gately">' + match[1] + '</strong>';
                text = text.replace(match[0], matchStr);
            }
            return text;
        },
        convertEmphases: function convertEmphases(text) {
            var regex = /\*(\S+)\*/g;
            var match = void 0;
            while (match = regex.exec(text)) {
                var matchStr = '<em class="gately">' + match[1] + '</em>';
                text = text.replace(match[0], matchStr);
            }

            return text;
        },
        convertSupers: function convertSupers(text) {
            var regex = /\^\^(\S+)\^\^/g;
            var match = void 0;
            while (match = regex.exec(text)) {
                var matchStr = '<sup class="gately">' + match[1] + '</sup>';
                text = text.replace(match[0], matchStr);
            }

            return text;
        },
        convertSubs: function convertSubs(text) {
            var regex = /~~(\S+)~~/g;
            var match = void 0;
            while (match = regex.exec(text)) {
                var matchStr = '<del class="gately">' + match[1] + '</del>';
                text = text.replace(match[0], matchStr);
            }

            return text;
        },
        convertUnderlines: function convertUnderlines(text) {
            var regex = /__(\S+)__/g;
            var match = void 0;
            while (match = regex.exec(text)) {
                var matchStr = '<u class="gately">' + match[1] + '</u>';
                text = text.replace(match[0], matchStr);
            }

            return text;
        },
        convertStrikethroughs: function convertStrikethroughs(text) {
            var regex = /==(\S+)==/g;
            var match = void 0;
            while (match = regex.exec(text)) {
                var matchStr = '<u class="gately">' + match[1] + '</u>';
                text = text.replace(match[0], matchStr);
            }

            return text;
        },
        newlineToBr: function newlineToBr(parent) {
            var parentElem = parent;
            if (parentElem[0]) {
                parentElem = parentElem[0];
            }

            var treeWalker = document.createTreeWalker(parentElem, NodeFilter.SHOW_TEXT, {
                acceptNode: function acceptNode(node) {
                    var parent = node.parentNode;
                    if (parent && parent.tagName !== 'SCRIPT' && parent.tagName !== 'STYLE') {
                        return NodeFilter.FILTER_ACCEPT;
                    } else {
                        return NodeFilter.FILTER_REJECT;
                    }
                }
            }, false);

            var nodeList = [];
            while (treeWalker.nextNode()) {
                nodeList.push(treeWalker.currentNode);
            }

            nodeList.forEach(function (node) {
                var replaced = node.textContent.replace(/\n/g, '<br class="gately">');
                $(node).replaceWith(replaced);
            });
        },
        undoNewlineHandling: function undoNewlineHandling(parent) {
            var $tags = $(parent).find('br.gately');
            $tags.each(function (_, elem) {
                elem.outerHTML = '\n';
            });
        }
    };
})();

},{}],12:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

(function () {
    'use strict';

    window.deepCopy = function (obj) {
        if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') {
            gatelyLog('obj argument passed to deepCopy is not an object.');
            return;
        }

        return JSON.parse(JSON.stringify(obj));
    };

    window.deepFreeze = function (obj) {
        for (var name in obj) {
            // Freeze prop if it is an object
            if (_typeof(obj[name]) === 'object' && obj[name] !== null) {
                deepFreeze(obj[name]);
            }
        }

        // Freeze self (no-op if already frozen)
        return Object.freeze(obj);
    };

    window.State = {
        userData: {},

        getUserData: function getUserData(name) {
            return State.userData[name];
        },
        setUserData: function setUserData(name, value) {
            State.userData[name] = value;
        },


        compilerStatus: {
            passage: '',
            rootElement: null,
            element: null,
            running: false,
            errors: []
        },

        parserStatus: {
            element: null,
            text: null,
            lineNumber: 0,
            running: false,
            errors: []
        },

        currentPassageName: null,
        history: [],
        historyFuture: [],

        currentTranscriptEntry: null,
        transcriptHistory: [{
            passageName: 'load',
            textChanges: [],
            stateChanges: [],
            pageEvents: [],
            parses: [],
            macros: []
        }],
        transcriptHistoryFuture: [],
        recordingTranscript: false,

        currentVariableState: null,
        variableHistory: [],
        variableHistoryFuture: [],

        currentWorldModelState: null,
        worldModelHistory: [],
        worldModelHistoryFuture: [],

        currentBindingState: null,
        bindingHistory: [],
        bindingHistoryFuture: [],

        currentHeaderID: 1,
        currentFooterID: 1,

        functionStore: {},

        macroAliasStore: {},
        macroAliasDisposals: [],

        traceryStore: {},

        themeHistory: [],
        themeHistoryFuture: [],
        currentTheme: Themes.getDefaultStoryTheme(),
        themeStore: {
            passage: Themes.getDefaultPassageThemes(),

            story: {
                'default': Themes.getDefaultStoryTheme()
            }
        },

        simpleVariables: {},

        getGlobalVariables: function getGlobalVariables() {
            return deepCopy(State.currentVariableState);
        },
        getSimpleVariables: function getSimpleVariables() {
            var passageName = State.currentPassageName;
            var obj = State.simpleVariables[passageName];
            if (!obj || (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') {
                return {};
            } else {
                return deepCopy(State.simpleVariables[passageName]);
            }
        },
        setSimpleVariable: function setSimpleVariable(name, value) {
            var passageName = State.currentPassageName;
            if (!State.simpleVariables[passageName]) {
                State.simpleVariables[passageName] = {};
            }

            State.simpleVariables[passageName][name] = value;
        },
        getAllScopedVariables: function getAllScopedVariables(element) {
            if (!isElement(element)) {
                throw new Error();
            }

            var retObj = void 0;
            var overwrites = void 0;
            if (element.tagName === 'TW-PASSAGEDATA') {
                retObj = State.getGlobalVariables();
                overwrites = State.getSimpleVariables();
            } else {
                retObj = State.getBlockScope(element);
                overwrites = State.getGlobalVariables();
            }

            getOwnPropertyNames(overwrites).forEach(function (name) {
                retObj[name] = overwrites[name];
            });

            return retObj;
        },
        getVariable: function getVariable(variableNameOrPointer, blockNode, recursing) {
            var varNameVal = void 0;
            var type = typeof variableNameOrPointer === 'undefined' ? 'undefined' : _typeof(variableNameOrPointer);
            if (!variableNameOrPointer || type !== 'object' && type !== 'string') {
                wideAlert('The variableNameOrPointer argument provided to ' + 'State.getVariable is not a valid string or object. ' + 'Cannot execute.');
                return;
            } else if ((typeof variableNameOrPointer === 'undefined' ? 'undefined' : _typeof(variableNameOrPointer)) === 'object') {
                if (State.isPointer(variableNameOrPointer)) {
                    if (recursing > 1) {
                        wideAlert('Somewhere within the state there is a ' + 'pointer that points to another pointer. This ' + 'is not allowed.');
                        return;
                    } else {
                        varNameVal = variableNameOrPointer.path;
                    }
                } else {
                    wideAlert('The variableNameOrPointer is an object, but ' + 'is not a valid pointer object. Cannot execute.');
                    return;
                }
            } else if (typeof variableNameOrPointer === 'string') {
                varNameVal = variableNameOrPointer.trim();
            }

            var blockScope = State.getBlockScope(blockNode);

            var split = varNameVal.split(/[\[\]]/).filter(function (aa) {
                return aa !== '';
            }).map(function (aa) {
                var num = Number(aa);
                if (Number.isNaN(num) || num < 0 || num % 1 !== 0) {
                    if (typeof aa === 'string' && aa.trim()[0] === '$') {
                        var trimmed = aa.trim().slice(1);
                        if (blockScope && trimmed in blockScope) {
                            return blockScope[trimmed];
                        } else if (trimmed in State.currentVariableState) {
                            return State.currentVariableState[trimmed];
                        } else {
                            return 'undefined';
                        }
                    } else {
                        return aa;
                    }
                } else {
                    return num;
                }
            });

            var variable = void 0;
            if (blockScope) {
                variable = blockScope[split[0]];
                if (State.isPointer(variable) && recursing <= 1) {
                    var recursingVal = recursing;
                    if (Number.isNaN(Number(recursing))) {
                        recursingVal = 0;
                    }

                    variable = State.getVariable(variable, null, recursingVal++);
                }
            }

            if (typeof variable === 'undefined') {
                variable = State.currentVariableState[split[0]];
            }

            if (typeof variable === 'undefined') {
                return 'undefined';
            } else if (State.isPointer(variable)) {
                if (recursing > 1) {
                    wideAlert('Somewhere within the state there is a ' + 'pointer that points to another pointer. This ' + 'is not allowed.');
                    return;
                } else {
                    var _recursingVal = recursing;
                    if (Number.isNaN(Number(recursing))) {
                        _recursingVal = 0;
                    }

                    variable = State.getVariable(variable, null, _recursingVal++);
                }
            }

            for (var ii = 1; ii < split.length; ii++) {
                variable = variable[split[ii]];
                if (typeof variable === 'undefined') {
                    return 'undefined';
                }
            }

            return variable;
        },
        getPointer: function getPointer(varName, blockNode) {
            var split = varName.split(/[\[\]]/).filter(function (aa) {
                return aa !== '';
            });

            var together = split[0];
            for (var ii = 1; ii < split.length; ii++) {
                var portion = split[ii].trim();
                if (portion[0] === '$') {
                    var val = (State.getVariable(portion.slice(1), blockNode) || 'undefined').toString();
                    together += '[' + val + ']';
                } else {
                    together += '[' + portion + ']';
                }
            }

            return {
                type: 'gatelyPointer',
                path: together
            };
        },
        isPointer: function isPointer(maybePointer) {
            return maybePointer && (typeof maybePointer === 'undefined' ? 'undefined' : _typeof(maybePointer)) === 'object' && maybePointer.type === 'gatelyPointer' && maybePointer.path && typeof maybePointer.path === 'string';
        },
        getBlockScope: function getBlockScope(node) {
            if (!node) {
                return null;
            }

            var arr = [];
            var blockDefs = node.dataset.blockDefinitions;
            if (blockDefs) {
                arr.push(saferJSONParse(blockDefs));
            }

            var blockScope = $(node).parents('[data-block-definitions]').filter(function (_, node) {
                return !document.contains(node) || $(node).parents('tw-passage').length;
            }).map(function (_, node) {
                var scope = saferJSONParse(node.dataset.blockDefinitions);
                if (scope && (typeof scope === 'undefined' ? 'undefined' : _typeof(scope)) === 'object') {
                    return scope;
                } else {
                    return {};
                }
            }).toArray().concat(arr).reverse();

            var returnScope = {};
            blockScope.forEach(function (scope) {
                getOwnPropertyNames(scope).forEach(function (name) {
                    returnScope[name] = scope[name];
                });
            });

            if (getOwnPropertyNames(returnScope).length) {
                return returnScope;
            } else {
                return null;
            }
        },
        variableInBlockScope: function variableInBlockScope(varName, node) {
            return varName in (State.getBlockScope(node) || {});
        },
        setVariable: function setVariable(variableNameOrPointer, equalsType, newValue, blockNode) {
            var varNameVal = void 0;
            var type = typeof variableNameOrPointer === 'undefined' ? 'undefined' : _typeof(variableNameOrPointer);
            if (!variableNameOrPointer || type !== 'object' && type !== 'string') {
                wideAlert('The variableNameOrPointer argument provided to ' + 'State.setVariable is not a valid string or object. ' + 'Cannot execute.');
                return;
            } else if ((typeof variableNameOrPointer === 'undefined' ? 'undefined' : _typeof(variableNameOrPointer)) === 'object') {
                if (State.isPointer(variableNameOrPointer)) {
                    varNameVal = variableNameOrPointer.path;
                } else {
                    wideAlert('The variableNameOrPointer is an object, but ' + 'is not a valid pointer object. Cannot execute.');
                    return;
                }
            } else if (typeof variableNameOrPointer === 'string') {
                varNameVal = variableNameOrPointer.trim();
            }

            var split = varNameVal.trim().split(/[\[\]]/).filter(function (aa) {
                return aa !== '';
            }).map(function (aa) {
                var num = Number(aa);
                if (Number.isNaN(num) || num < 0 || num % 1 !== 0) {
                    if (typeof aa === 'string' && aa.trim()[0] === '$') {
                        var trimmed = aa.trim().slice(1);
                        if (trimmed in State.currentVariableState) {
                            return State.currentVariableState[trimmed];
                        } else {
                            return 0;
                        }
                    } else {
                        return aa;
                    }
                } else {
                    return num;
                }
            });

            if (State.isPointer(State.currentVariableState[split[0]])) {
                split[0] = State.currentVariableState[split[0]].path;
            }

            var fullPath = split[0] + split.slice(1).map(function (aa) {
                return '[' + aa + ']';
            }).join('');

            var variable = State.getVariable(split[0], blockNode);

            if (typeof variable === 'undefined' && split.length > 1) {
                wideAlert('There is no Twine variable matching the name ' + varNameVal + ' in the current variable ' + 'state. Cannot execute.');
                return;
            }

            for (var ii = 1; ii < split.length - 1; ii++) {
                variable = variable[split[ii]];

                if (typeof variable === 'undefined') {
                    wideAlert('There is no Twine variable matching the name ' + varNameVal + ' in the current variable ' + 'state. Cannot execute.');
                    return;
                }
            }

            var lastAccessor = void 0;
            if (split.length > 1) {
                lastAccessor = split[split.length - 1];
            }

            var currentState = State.currentVariableState;
            var assignType = equalsType.trim();
            if (typeof lastAccessor !== 'undefined') {
                if (assignType === '=') {
                    variable[lastAccessor] = newValue;
                } else if (assignType === '+=') {
                    variable[lastAccessor] += newValue;
                } else if (assignType === '-=') {
                    variable[lastAccessor] -= newValue;
                } else if (assignType === '*=') {
                    variable[lastAccessor] *= newValue;
                } else if (assignType === '/=') {
                    variable[lastAccessor] /= newValue;
                } else if (assignType === '%=') {
                    variable[lastAccessor] %= newValue;
                } else {
                    wideAlert('The equalsType argument is not valid. Cannot ' + 'execute.');
                    return;
                }
            } else {
                if (assignType === '=') {
                    currentState[varNameVal] = newValue;
                } else if (assignType === '+=') {
                    currentState[varNameVal] += newValue;
                } else if (assignType === '-=') {
                    currentState[varNameVal] -= newValue;
                } else if (assignType === '*=') {
                    currentState[varNameVal] *= newValue;
                } else if (assignType === '/=') {
                    currentState[varNameVal] /= newValue;
                } else if (assignType === '%=') {
                    currentState[varNameVal] %= newValue;
                } else {
                    wideAlert('The equalsType argument is not valid. Cannot ' + 'execute.');
                    return;
                }
            }

            fullPath = '$' + fullPath;
            if (State.getBinding(fullPath)) {
                State.updateBinding(fullPath);
            }
        },
        letVariable: function letVariable(variableNameOrPointer, equalsType, newValue, blockNode) {
            var varNameVal = void 0;
            var type = typeof variableNameOrPointer === 'undefined' ? 'undefined' : _typeof(variableNameOrPointer);
            if (!variableNameOrPointer || type !== 'object' && type !== 'string') {
                wideAlert('The variableNameOrPointer argument provided to ' + 'State.setVariable is not a valid string or object. ' + 'Cannot execute.');
                return;
            } else if ((typeof variableNameOrPointer === 'undefined' ? 'undefined' : _typeof(variableNameOrPointer)) === 'object') {
                if (State.isPointer(variableNameOrPointer)) {
                    varNameVal = variableNameOrPointer.path;
                } else {
                    wideAlert('The variableNameOrPointer is an object, but ' + 'is not a valid pointer object. Cannot execute.');
                    return;
                }
            } else if (typeof variableNameOrPointer === 'string') {
                varNameVal = variableNameOrPointer.trim();
            }

            var split = varNameVal.trim().split(/[\[\]]/).filter(function (aa) {
                return aa !== '';
            }).map(function (aa) {
                var num = Number(aa);
                if (Number.isNaN(num) || num < 0 || num % 1 !== 0) {
                    if (typeof aa === 'string' && aa.trim()[0] === '$') {
                        var trimmed = aa.trim().slice(1);
                        if (trimmed in State.currentVariableState) {
                            return State.currentVariableState[trimmed];
                        } else {
                            return 0;
                        }
                    } else {
                        return aa;
                    }
                } else {
                    return num;
                }
            });

            if (State.isPointer(State.currentVariableState[split[0]])) {
                split[0] = State.currentVariableState[split[0]].path;
            }

            var fullPath = split[0] + split.slice(1).map(function (aa) {
                return '[' + aa + ']';
            }).join('');

            var variable = State.getVariable(split[0], blockNode);

            if (typeof variable === 'undefined' && split.length > 1) {
                wideAlert('There is no Twine variable matching the name ' + varNameVal + ' in the current variable ' + 'state. Cannot execute.');
                return 'undefined';
            }

            for (var ii = 1; ii < split.length - 1; ii++) {
                variable = variable[split[ii]];

                if (typeof variable === 'undefined') {
                    wideAlert('There is no Twine variable matching the name ' + varNameVal + ' in the current variable ' + 'state. Cannot execute.');
                    return 'undefined';
                }
            }

            var lastAccessor = void 0;
            if (split.length > 1) {
                lastAccessor = split[split.length - 1];
            }

            var currentState = State.currentVariableState;
            var assignType = equalsType.trim();
            if (typeof lastAccessor !== 'undefined') {
                if (assignType === '=') {
                    variable[lastAccessor] = newValue;
                } else if (assignType === '+=') {
                    variable[lastAccessor] += newValue;
                } else if (assignType === '-=') {
                    variable[lastAccessor] -= newValue;
                } else if (assignType === '*=') {
                    variable[lastAccessor] *= newValue;
                } else if (assignType === '/=') {
                    variable[lastAccessor] /= newValue;
                } else if (assignType === '%=') {
                    variable[lastAccessor] %= newValue;
                } else {
                    wideAlert('The equalsType argument is not valid. Cannot ' + 'execute.');
                    return;
                }

                fullPath = '$' + fullPath;
                if (State.getBinding(fullPath)) {
                    State.updateBinding(fullPath);
                }
            } else {
                var data = saferCombinedParse(blockNode.dataset.blockDefinitions);
                if (!data || (typeof data === 'undefined' ? 'undefined' : _typeof(data)) !== 'object') {
                    data = {};
                }

                data[varNameVal] = newValue;
                blockNode.dataset.blockDefinitions = JSON.stringify(data);
            }
        },
        putVariable: function putVariable(variableNameOrPointer, equalsType, newValue, blockNode) {
            var varNameVal = void 0;
            var type = typeof variableNameOrPointer === 'undefined' ? 'undefined' : _typeof(variableNameOrPointer);
            if (!variableNameOrPointer || type !== 'object' && type !== 'string') {
                wideAlert('The variableNameOrPointer argument provided to ' + 'State.setVariable is not a valid string or object. ' + 'Cannot execute.');
                return;
            } else if ((typeof variableNameOrPointer === 'undefined' ? 'undefined' : _typeof(variableNameOrPointer)) === 'object') {
                if (State.isPointer(variableNameOrPointer)) {
                    varNameVal = variableNameOrPointer.path;
                } else {
                    wideAlert('The variableNameOrPointer is an object, but ' + 'is not a valid pointer object. Cannot execute.');
                    return;
                }
            } else if (typeof variableNameOrPointer === 'string') {
                varNameVal = variableNameOrPointer.trim();
            }

            var blockScope = State.getBlockScope(blockNode);

            var split = varNameVal.split(/[\[\]]/).filter(function (aa) {
                return aa !== '';
            }).map(function (aa) {
                var num = Number(aa);
                if (Number.isNaN(num) || num < 0 || num % 1 !== 0) {
                    if (typeof aa === 'string' && aa.trim()[0] === '$') {
                        var trimmed = aa.trim().slice(1);
                        if (blockScope && trimmed in blockScope) {
                            return blockScope[trimmed];
                        } else if (trimmed in State.currentVariableState) {
                            return State.currentVariableState[trimmed];
                        } else {
                            return 'undefined';
                        }
                    } else {
                        return aa;
                    }
                } else {
                    return num;
                }
            });

            if (State.isPointer(State.currentVariableState[split[0]])) {
                split[0] = State.currentVariableState[split[0]].path;
            }

            if (State.variableInBlockScope(split[0], blockNode)) {
                var temp = State.getBlockScope(blockNode)[split[0]];
                if (State.isPointer(temp)) {
                    split[0] = temp.path;
                }
            }

            var fullPath = '$' + split[0] + split.slice(1).map(function (aa) {
                return '[' + aa + ']';
            }).join('');

            var variable = State.getVariable(split[0], blockNode);

            if (typeof variable === 'undefined' && split.length > 1) {
                wideAlert('There is no Twine variable matching the name ' + varNameVal + ' in the current variable ' + 'state. Cannot execute.');
                return;
            }

            for (var ii = 1; ii < split.length - 1; ii++) {
                variable = variable[split[ii]];

                if (typeof variable === 'undefined') {
                    wideAlert('There is no Twine variable matching the name ' + varNameVal + ' in the current variable ' + 'state. Cannot execute.');
                    return;
                }
            }

            var data = blockScope;
            if (!data || (typeof data === 'undefined' ? 'undefined' : _typeof(data)) !== 'object') {
                data = {};
            }

            var lastAccessor = void 0;
            if (split.length > 1) {
                lastAccessor = split[split.length - 1];
            }

            var currentState = State.currentVariableState;
            var assignType = equalsType.trim();
            if (typeof lastAccessor !== 'undefined') {
                if (assignType === '=') {
                    variable[lastAccessor] = newValue;
                } else if (assignType === '+=') {
                    variable[lastAccessor] += newValue;
                } else if (assignType === '-=') {
                    variable[lastAccessor] -= newValue;
                } else if (assignType === '*=') {
                    variable[lastAccessor] *= newValue;
                } else if (assignType === '/=') {
                    variable[lastAccessor] /= newValue;
                } else if (assignType === '%=') {
                    variable[lastAccessor] %= newValue;
                } else {
                    wideAlert('The equalsType argument is not valid. Cannot ' + 'execute.');
                    return;
                }
            } else {
                if (varNameVal in data) {
                    var block = void 0;
                    if (blockNode.dataset.blockDefinitions) {
                        block = blockNode;
                    } else {
                        block = $(blockNode).parents('[data-block-definitions]').first()[0];
                    }

                    var defs = saferJSONParse(block.dataset.blockDefinitions);
                    if (defs && (typeof defs === 'undefined' ? 'undefined' : _typeof(defs)) === 'object') {
                        defs[varNameVal] = newValue;
                        block.dataset.blockDefinitions = JSON.stringify(defs);
                    } else {
                        wideAlert('whoaaaaaa nooooooooo block-scoped put failure!!!!!');
                        return;
                    }
                } else if (varNameVal in currentState) {
                    if (assignType === '=') {
                        currentState[varNameVal] = newValue;
                    } else if (assignType === '+=') {
                        currentState[varNameVal] += newValue;
                    } else if (assignType === '-=') {
                        currentState[varNameVal] -= newValue;
                    } else if (assignType === '*=') {
                        currentState[varNameVal] *= newValue;
                    } else if (assignType === '/=') {
                        currentState[varNameVal] /= newValue;
                    } else if (assignType === '%=') {
                        currentState[varNameVal] %= newValue;
                    } else {
                        wideAlert('The equalsType argument is not valid. Cannot ' + 'execute.');
                        return;
                    }
                } else {
                    wideAlert('State.put failed because no variable named ' + varNameVal + ' has been declared.');
                    return;
                }
            }

            if (State.getBinding(fullPath)) {
                State.updateBinding(fullPath);
            }
        },
        getNewFooterID: function getNewFooterID() {
            return State.currentFooterID++;
        },
        newState: function newState(passageName) {
            State.history.push(passageName);
            State.currentPassageName = passageName;
            State.historyFuture = [];

            var previousState = State.variableHistory[State.variableHistory.length - 1];
            State.variableHistory.push({});
            State.currentVariableState = State.variableHistory[State.variableHistory.length - 1];
            if (previousState) {
                var states = getOwnPropertyNames(previousState);
                states.forEach(function (name) {
                    State.currentVariableState[name] = previousState[name];
                });
            }

            State.variableHistoryFuture = [];

            var deepWM = void 0;
            if (State.worldModelHistory.length) {
                deepWM = deepCopy(State.currentWorldModelState);
                deepWM.passageName = passageName;
                State.worldModelHistory.push(deepWM);
            } else {
                deepWM = deepCopy(_worldModelTempStore);
                deepWM.passageName = passageName;
                State.worldModelHistory.push(deepWM);
            }

            State.currentWorldModelState = deepWM;

            State.worldModelHistoryFuture = [];

            Macro.world.restoreModelProtoFuncs.handler();

            State.bindingHistory.push({});
            State.currentBindingState = State.bindingHistory[State.bindingHistory.length - 1];
            State.bindingHistoryFuture = [];

            var deepTheme = deepCopy(State.currentTheme);
            deepTheme.passageName = passageName;
            State.themeHistory.push(deepTheme);
            deepTheme.prerender = new Function(State.currentTheme.prerenderString);
            deepTheme.postrender = new Function(State.currentTheme.postrenderString);

            State.currentTheme = deepTheme;

            State.themeHistoryFuture = [];

            if (window.DEBUG) {
                // shows basic memory allocations
                for (var name in State) {
                    if (isFunction(State[name])) {
                        continue;
                    }

                    var str = JSON.stringify(State[name]);
                    if (str) {
                        console.log(name, str.length);
                    } else {
                        console.log(name, 0);
                    }
                }

                console.log('total state', JSON.stringify(State).length);
                console.log('total HTML', top.document.body.parentElement.innerHTML.length);
                console.log('__BREAK__');
            }
        },
        rewindTo: function rewindTo(passageName) {
            var index = State.history.lastIndexOf(passageName);
            if (index === -1) {
                wideAlert('The passagename ' + passageName + ' does not exist in the history. Cannot rewind.');
                return;
            }

            State.historyFuture = State.history.slice(index + 1).concat(State.historyFuture);
            State.history = State.history.slice(0, index + 1);
            State.currentPassageName = State.history[State.history.length - 1];

            State.transcriptHistoryFuture = State.transcriptHistory.slice(index + 1).concat(State.transcriptHistoryFuture);
            State.transcriptHistory = State.transcriptHistory.slice(0, index + 1);

            State.variableHistoryFuture = State.variableHistory.slice(index + 1).concat(State.variableHistoryFuture);
            State.variableHistory = State.variableHistory.slice(0, index + 1);
            State.currentVariableState = State.variableHistory[State.variableHistory.length - 1];

            var wmHistory = State.worldModelHistory;
            State.worldModelHistoryFuture = wmHistory.slice(index + 1).concat(State.worldModelHistoryFuture);
            State.worldModelHistory = wmHistory.slice(0, index + 1);
            State.currentWorldModelState = wmHistory[wmHistory.length - 1];

            State.bindingHistoryFuture = State.bindingHistory.slice(index + 1).concat(State.bindingHistoryFuture);
            State.bindingHistory = State.bindingHistory.slice(0, index + 1);
            State.currentBindingState = State.bindingHistory[State.bindingHistory.length - 1];

            State.themeHistoryFuture = State.themeHistory.slice(index + 1).concat(State.themeHistoryFuture);
            State.themeHistory = State.themeHistory.slice(0, index + 1);
            State.currentTheme = State.themeHistory[State.themeHistory.length - 1];

            State.currentTheme.prerender = new Function(State.currentTheme.prerenderString);
            State.currentTheme.postrender = new Function(State.currentTheme.postrenderString);
        },
        unrewindTo: function unrewindTo(passageName) {
            var index = State.historyFuture.indexOf(passageName);
            if (index === -1) {
                wideAlert('The passagename ' + passageName + ' does not exist in the history. Cannot rewind.');
                return;
            }

            State.history = State.history.concat(State.historyFuture.slice(0, index + 1));
            State.historyFuture = State.historyFuture.slice(index + 1);
            State.currentPassageName = State.history[State.history.length - 1];

            State.transcriptHistory = State.transcriptHistory.concat(State.transcriptHistoryFuture.slice(0, index + 1));
            State.transcriptHistoryFuture = State.transcriptHistory.slice(index + 1);

            State.variableHistory = State.variableHistory.concat(State.variableHistoryFuture.slice(0, index + 1));
            State.variableHistoryFuture = State.variableHistoryFuture.slice(index + 1);
            State.currentVariableState = State.variableHistory[State.variableHistory.length - 1];

            var wmHistory = State.worldModelHistory;
            State.worldModelHistory = wmHistory.concat(State.worldModelHistoryFuture.slice(0, index + 1));
            State.worldModelHistoryFuture = State.worldModelHistoryFuture.slice(index + 1);
            State.currentWorldModelState = wmHistory[wmHistory.length - 1];

            State.bindingHistory = State.bindingHistory.concat(State.bindingHistoryFuture.slice(0, index + 1));
            State.bindingHistoryFuture = State.bindingHistoryFuture.slice(index + 1);
            State.currentBindingState = State.bindingHistory[State.bindingHistory.length - 1];

            State.themeHistory = State.themeHistory.concat(State.themeHistoryFuture.slice(0, index + 1));
            State.themeHistoryFuture = State.themeHistoryFuture.slice(index + 1);
            State.currentTheme = State.themeHistory[State.themeHistory.length - 1];

            State.currentTheme.prerender = new Function(State.currentTheme.prerenderString);
            State.currentTheme.postrender = new Function(State.currentTheme.postrenderString);
        },
        addMacroAlias: function addMacroAlias(macroName, aliasName, disposeAfterPassage, override) {
            if (!macroName) {
                wideAlert('The macroName argument passed to ' + 'Macro.global.addmacroalias is not valid. Cannot add macro alias.');
                return;
            } else if (!(macroName in Macro)) {
                wideAlert('The macroName argument passed to ' + 'Macro.global.addmacroalias does not correspond to an ' + 'existing macro. Cannot add macro alias.');
                return;
            } else if (!aliasName) {
                wideAlert('The aliasName argument passed to ' + 'Macro.global.addmacroalias is not valid. Cannot add macro alias.');
                return;
            } else if (aliasName in Macro) {
                wideAlert('A macro with the same name as the aliasName ' + 'argument, ' + aliasName + ', already exists in the ' + 'Macro object. Cannot execute.');
                return;
            } else if (aliasName in State.macroAliasStore && override !== true && (typeof override !== 'string' || override.toLowerCase() !== 'override')) {
                wideAlert('An alias with the same name as the aliasName ' + 'argument, ' + aliasName + ', already exists in the ' + 'State.macroAliasStore object. Set the override ' + 'argument to true or "override" to override this error.');
                return;
            }

            State.macroAliasStore[aliasName] = Macro[macroName];

            if (disposeAfterPassage === true || typeof disposeAfterPassage === 'string' && disposeAfterPassage.toLowerCase() === 'disposeafterpassage') {
                State.macroAliasDisposals.push(aliasName);
            }
        },
        addFunction: function addFunction(name, override, argNames, callback) {
            if (!name) {
                wideAlert('A TwineScript function cannot exist without a ' + 'valid name.');
                return;
            } else if (name in Macro) {
                wideAlert('There is already a property in the Macro object ' + 'named ' + name + '. Cannot execute.');
                return;
            } else if (name in State.macroAliasStore) {
                wideAlert('There is already a property in the ' + 'State.macroAliasStore named ' + name + '. Cannot ' + 'execute.');
                return;
            } else if (name in State.functionStore && override !== true && (typeof override !== 'string' || override.toLowerCase() !== 'override')) {
                wideAlert('There is already a property in ' + 'State.functionStore named ' + name + '. Set the ' + 'override argument to true or "override" to ' + 'override this error.');
                return;
            } else if (typeof callback !== 'string' || !callback) {
                wideAlert('The callback argument passed to ' + 'State.addFunction is not a valid, non-empty string.');
                return;
            }

            State.functionStore[name] = {
                pointerPassthrough: true,
                handler: function handler() {
                    var match = document.createElement('tw-match');
                    match.className = 'functionContainer';
                    match.innerHTML = callback;

                    var args = from(arguments).map(function (arg) {
                        return saferJSONParse(arg);
                    });

                    var blockScope = State.getBlockScope(this);
                    if (blockScope) {
                        getOwnPropertyNames(blockScope).forEach(function (name) {
                            if (State.isPointer(blockScope[name])) {
                                State.letVariable(name, '=', State.getPointer(blockScope[name].path + '[' + name + ']'), match);
                            } else {
                                State.letVariable(name, '=', blockScope[name], match);
                            }
                        });
                    }

                    State.letVariable('args', '=', args, match);

                    for (var ii = 0; ii < argNames.length; ii++) {
                        if (ii === args.length) {
                            break;
                        }

                        State.letVariable(argNames[ii], '=', args[ii], match);
                    }

                    Compiler.compile(match);
                    return match;
                }
            };
        },
        getBinding: function getBinding(name) {
            if (typeof name !== 'string' || !name) {
                wideAlert('The name argument passed to ' + 'State.getBinding was not valid.');
                return;
            }

            var nameVal = name.trim();
            return State.currentBindingState[nameVal];
        },
        addBinding: function addBinding(name, callback) {
            if (!name || typeof name !== 'string') {
                wideAlert('The name argument provided to State.addBinding ' + 'is not valid.');
            }

            var nameVal = name.trim();
            if (nameVal === 'passageName') {
                wideAlert('"passageName" is reserved and cannot be used as ' + 'the source for a binding.');
                return;
            }

            State.currentBindingState[nameVal] = {
                callback: callback,
                lastValue: null
            };
        },
        updateBinding: function updateBinding(name) {
            if (!name || typeof name !== 'string') {
                wideAlert('The name argument passed to ' + 'State.updateBinding is not valid.');
                return;
            }

            var nameVal = name.trim();
            var binding = State.currentBindingState[nameVal];
            if (!binding) {
                wideAlert('There is no binding tied to the variable name or ' + 'expression ' + nameVal + '. ' + 'Cannot update binding.');
                return;
            } else if (!binding.callback) {
                wideAlert('The callback property of the binding referred ' + 'to by the name argument ' + 'passed to State.updateBinding is not valid.');
                return;
            }

            var selector = 'tw-binding[data-binding-name="' + nameVal + '"]';
            var elem = document.querySelector(selector);

            if (!elem || !document.contains(elem)) {
                /*gatelyLog('Binding named ' + nameVal + ' could not be found ' +
                    'in the document.');*/
                State.removeBinding(name);
                return;
            }

            var retVal = void 0;
            if (nameVal[0] === '$' && nameVal.slice(1) in State.currentVariableState) {
                retVal = State.currentVariableState[nameVal.slice(1)];
            }

            if (JSON.stringify(retVal) !== JSON.stringify(binding.lastValue) || typeof binding.lastValue === 'undefined' || binding.lastValue === null) {
                elem.innerHTML = '';
                var match = document.createElement('tw-match');
                match.className = 'bindingContainer';
                match.textContent = binding.callback;
                elem.appendChild(match);
                Compiler.compile(match);
            }

            if (retVal && (typeof retVal === 'undefined' ? 'undefined' : _typeof(retVal)) === 'object') {
                binding.lastValue = deepCopy(retVal);
            } else if (typeof retVal !== 'undefined') {
                binding.lastValue = retVal;
            }
        },
        updateBindings: function updateBindings() {
            var names = getOwnPropertyNames(State.currentBindingState);

            names.forEach(function (name) {
                if (name !== 'passageName') {
                    State.updateBinding(name);
                }
            });
        },
        removeBinding: function removeBinding(name) {
            delete State.currentBindingState[name];
        },
        addTraceryGrammar: function addTraceryGrammar(name, grammar, modifiers) {
            if (!name || typeof name !== 'string') {
                wideAlert('The name argument passed to State.addTraceryGrammar ' + 'is not valid. Cannot add.');
                return;
            }

            var object = void 0;
            if (!grammar) {
                wideAlert('The grammar argument passed to ' + 'State.addTraceryGrammar is not valid. Cannot add.');
                return;
            } else if (typeof grammar === 'string') {
                try {
                    object = eval('(' + grammar + ')');
                } catch (evalError) {
                    wideAlert('Could not eval in-passage tracery source' + '(store). ' + evalError.message);
                    return;
                }
            } else if ((typeof grammar === 'undefined' ? 'undefined' : _typeof(grammar)) === 'object') {
                object = grammar;
            }

            var traceried = tracery.createGrammar(object);

            var mods = modifiers;
            if (typeof modifiers === 'string') {
                mods = saferCombinedParse(modifiers);
            }

            if (!mods) {
                mods = baseEngModifiers;
            }

            traceried.addModifiers(mods);
            State.traceryStore[name] = traceried;
        },
        validateStateIntegrity: function validateStateIntegrity() {
            var val = void 0;

            var lengths = [State.history.length, State.variableHistory.length, State.worldModelHistory.length, State.bindingHistory.length, State.themeHistory.length];

            val = lengths[0];
            lengths.forEach(function (length) {
                if (length !== val) {
                    wideAlert('One of the state history collections has a ' + 'different length than one or more of the other ' + 'collections. This may prevent the story from ' + 'functioning and continuing on will likely result ' + 'in further bugs.');
                    return;
                }
            });

            var futureLengths = [State.historyFuture.length, State.variableHistoryFuture.length, State.worldModelHistoryFuture.length, State.bindingHistoryFuture.length, State.themeHistoryFuture.length];

            val = futureLengths[0];
            futureLengths.forEach(function (futureLength) {
                if (futureLength !== val) {
                    wideAlert('One of the state future history collections has ' + 'a different length than one or more of ' + 'the other collections. This may prevent the story ' + 'from functioning and continuing on will likely ' + 'result in further bugs.');
                    return;
                }
            });

            var currents = [State.currentVariableState, State.currentWorldModelState, State.currentBindingState, State.currentTheme];

            currents.forEach(function (current) {
                if (!current || (typeof current === 'undefined' ? 'undefined' : _typeof(current)) !== 'object') {
                    wideAlert('One of the state current properties is not ' + 'a valid object. This may prevent the story from ' + 'functioning and continuing on will likely result ' + 'in further bugs.');
                    return;
                }
            });

            var selector = 'tw-passagedata[name="' + State.currentPassageName + '"]';
            if (typeof State.currentPassageName !== 'string' || State.currentPassageName === '') {
                wideAlert('The State.currentPassageName property is not a ' + 'string, or is an empty string. This may prevent ' + 'the story from functioning and continuing on will ' + 'likely result in further bugs.');
                return;
            } else if (!document.querySelector(selector)) {
                wideAlert('The State.currentPassageName property does not ' + 'correspond to a tw-passagedata element. This may ' + 'prevent the story from functioning and continuing ' + 'on will likely result in further bugs.');
                return;
            }
        }
    };
})();

},{}],13:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

(function () {
    window.Themes = {
        getDefaultStoryTheme: function getDefaultStoryTheme() {
            return {
                renderType: Config.renderTypes.sugarcube,

                rewind: true,
                fastForward: true,

                passageName: 'load',

                newlineHandlingType: Config.newlineHandlingTypes.newlineToBr,

                debug: {
                    allowTranscripts: true,
                    allowSaves: true,
                    failHard: false
                },

                errorLevels: {
                    alert: true,
                    console: true,
                    inline: true
                },

                prerender: null,

                postrender: null,

                style: '/* global containers */\n' + 'html {\n' + '\tbackground-color: white;\n' + '}\n' + 'html, body {\n' + '\twidth: 100%;\n' + '\theight: 100%;\n' + '}\n' + 'body {\n' + '\tposition: relative;\n' + '\tmargin: 0;\n' + '\tfont: 1rem "Helvetica Neue", Helvetica, Arial, sans-serif;\n' + '}\n' + '/* basic story elements */\n' + 'tw-storydata {\n' + '\tdisplay: none;\n' + '}\n' + 'tw-story, #passage {\n' + '\tposition: absolute;\n' + '\twidth: 80%;\n' + '\tpadding: 2.5rem;\n' + '\tline-height: 145%;\n' + '}\n' + '#passage *, #passagePane *, #displayPane *, #defaultMenu * {\n' + '\t/*font-size: inherit;*/\n' + '}\n' + 'tw-passage {\n' + '\tposition: relative;\n' + '\tdisplay: inline-block;\n' + '\twidth: 100%;\n' + '\tpadding: 0.66rem;\n' + '\tmargin-bottom: 0.33rem;\n' + '\tbox-sizing: border-box;\n' + '}\n' + 'tw-passage.current {\n' + '\tpadding: 0.66rem;\n' + '\tmargin-bottom: 0.33rem;\n' + '}\n' + 'tw-passage.current.jonah {\n' + '\tborder: 0.2rem solid gold;\n' + '}\n' + 'tw-passage.current.sugarcube {\n' + '\tborder: 0.2rem solid black;\n' + '}\n' + 'tw-passage:not(.current) {\n' + '\topacity: 0.35;\n' + '\tcursor: pointer;\n' + '}\n' + 'tw-passage:not(.current):hover {\n' + '\tbox-shadow: 0 0 0.33rem black;\n' + '}\n' + 'tw-passage:not(.current) {\n' + '\tborder: 0.2rem solid black;\n' + '}\n' + 'tw-passage:not(.current) :not(.rewind):not(.fastForward) {\n' + '\tpointer-events: none;\n' + '}\n' + 'tw-link {\n' + '\tcolor: red;\n' + '\tfont-weight: bold;\n' + '\tcursor: pointer;\n' + '}\n' + 'tw-history-button.back {\n' + '\ttop: 5%;\n' + '}\n' + 'tw-history-button.forward {\n' + '\ttop: 35%;\n' + '}\n' + 'tw-history-button {\n' + '\tposition: absolute;\n' + '\tleft: -5%;\n' + '\tfont-size: 1.5rem;\n' + '\tfont-weight: bold;\n' + '\tcursor: pointer;\n' + '\tvisibility: hidden;\n' + '}\n' + 'tw-passage.rewind tw-history-button.back {\n' + '\tvisibility: visible;\n' + '}\n' + 'tw-passage.fastForward tw-history-button.forward {\n' + '\tvisibility: visible;\n' + '}\n' + 'tw-header, tw-footer {\n' + '\tdisplay: block;\n' + '}\n' + 'tw-transition-container[data-transition-type="dissolve"] {\n' + '\t-webkit-animation-name: dissolve;\n' + '\t-moz-animation-name: dissolve;\n' + '\t-o-animation-name: dissolve;\n' + '\tanimation-name: dissolve;\n' + '}\n' + 'tw-save {\n' + '\tdisplay: none;\n' + '}\n' + '/* global helpers */\n' + '.hidden {\n' + '\tdisplay: none !important;\n' + '}\n' + '.centerHorizontally {\n' + '\tleft: 50%;\n' + '\t-webkit-transform: translateX(-50%);\n' + '\t-moz-transform: translateX(-50%);\n' + '\t-o-transform: translateX(-50%);\n' + '\ttransform: translateX(-50%);\n' + '}\n' + '.centerVertically {\n' + '\ttop: 50%;\n' + '\t-webkit-transform: translateY(-50%);\n' + '\t-moz-transform: translateY(-50%);\n' + '\t-o-transform: translateY(-50%);\n' + '\ttransform: translateY(-50%);\n' + '}\n' + '.centerVertically {\n' + '\tleft: 50%;\n' + '\ttop: 50%;\n' + '\t-webkit-transform: translate(-50%, -50%);\n' + '\t-moz-transform: translateY(-50%, -50%);\n' + '\t-o-transform: translateY(-50%, -50%);\n' + '\ttransform: translateY(-50%, -50%);\n' + '}\n' + '/* named animations */\n' + '@-webkit-keyframes dissolve {\n' + '\tfrom {\n' + '\t\topacity: 0;\n' + '\t}\n' + '\tto {\n' + '\t\topacity: 1;\n' + '\t}\n' + '}\n' + '@-moz-keyframes dissolve {\n' + '\tfrom {\n' + '\t\topacity: 0;\n' + '\t}\n' + '\tto {\n' + '\t\topacity: 1;\n' + '\t}\n' + '}\n' + '@-o-keyframes dissolve {\n' + '\tfrom {\n' + '\t\topacity: 0;\n' + '\t}\n' + '\tto {\n' + '\t\topacity: 1;\n' + '\t}\n' + '}\n' + '@keyframes dissolve {\n' + '\tfrom {\n' + '\t\topacity: 0;\n' + '\t}\n' + '\tto {\n' + '\t\topacity: 1;\n' + '\t}\n' + '\t}\n' + '@keyframes dissolve {\n' + '\tfrom {\n' + '\t\topacity: 0;\n' + '\t}\n' + '\tto {\n' + '\t\topacity: 1;\n' + '\t}\n' + '}\n'
            };
        },
        getDefaultPassageThemes: function getDefaultPassageThemes() {
            var dflt = {
                _traceryrender: {
                    render: function render(text, passageData) {
                        var object = void 0;
                        try {
                            object = eval('(' + text + ')');
                        } catch (e) {
                            wideAlert('Could not eval in-passage tracery ' + 'source.\n' + e.message);
                        }

                        if (object && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) === 'object') {
                            var grammar = tracery.createGrammar(object);

                            grammar.addModifiers(baseEngModifiers);
                            return this.style + grammar.flatten("#origin#");
                        }
                    },

                    style: null
                },

                _startpassage: {
                    render: function render(text, passageData) {
                        var vars = State.getAllScopedVariables(passageData);

                        var retString = '';
                        if (vars.storyname) {
                            retString += '<h1 id="_title" class="_start">' + vars.storyname + '</h1>';
                        }

                        if (vars.subtitle) {
                            retString += '<h2 id="_subtitle" class="_start">' + vars.subtitle + '</h2>';
                        }

                        if (vars.authorname) {
                            retString += '<h3 id="_authorname" class="_start">' + vars.authorname + '</h3>';
                        }

                        if (vars.contributors) {
                            if (isFunction(vars.contributors.forEach)) {
                                retString += '<div id="_contributors" class="_start">';

                                vars.contributors.forEach(function (contributor) {
                                    retString += '<h4 class="_contributor">' + contributor + '</h4>';
                                });

                                retString += '</div>';
                            } else {
                                retString += '<div id="_contributors" class="_start">' + '<h5>' + vars.contributors + '</h5>';
                                '</div>';
                            }
                        }

                        if (vars.description) {
                            retString += '<h5 id="_description">' + '<span class="_tabstop"></span>' + vars.description + '</h5>';
                        }

                        if (vars.nextpage) {
                            retString += '<tw-link class="passage" ' + 'id="_nextpage" passage-name="' + vars.nextpage + '">';

                            if (vars.nextpagetitle) {
                                retString += vars.nextpagetitle + '</tw-link>';
                            } else {
                                retString += vars.nextpage + '</tw-link>';
                            }
                        }

                        return retString;
                    },


                    style: '._start {' + 'text-align: center;' + '}' + '._tabstop {' + 'display: inline-block;' + 'width: 2rem;' + '}' + '#_title {' + 'margin-top: 1.75rem;' + 'font-size: 3em;' + '}' + '#_contributors {' + 'position: relative;' + 'top: -0.5rem;' + '}' + '._contributor {' + 'margin: 0.125rem;' + '}' + '#_description {' + 'margin: 1rem 0 0 0;' + '}' + '#_nextpage {' + 'display: block;' + 'text-align: center;' + 'margin-top: 1.25rem;' + '}'
                },

                _creditspassage: {
                    render: function render(text, passageData) {
                        var vars = State.getAllScopedVariables(passageData);

                        var retString = '';
                        if (vars.storyname) {
                            retString += '<h1 id="_title" class="_start">' + vars.storyname + '</h1>';
                        }

                        if (vars.subtitle) {
                            retString += '<h2 id="_subtitle" class="_start">' + vars.subtitle + '</h2>';
                        }

                        if (vars.authorname) {
                            retString += '<h3 id="_authorname" class="_start">' + vars.authorname + '</h3>';
                        }

                        if (vars.contributors) {
                            if (isFunction(vars.contributors.forEach)) {
                                (function () {
                                    retString += '<div id="_contributors" class="_start">';

                                    var index = 0;
                                    vars.contributors.forEach(function (contributor) {
                                        retString += '<h4 class="_contributor">' + contributor;

                                        var roles = vars.contributorroles;

                                        if (roles && roles[index]) {
                                            retString += ': ' + roles[index];
                                        }

                                        retString += '</h4>';

                                        index++;
                                    });

                                    retString += '</div>';
                                })();
                            } else {
                                retString += '<div id="_contributors" class="_start">' + '<h5>' + vars.contributors + '</h5>';
                                '</div>';
                            }
                        }

                        if (vars.nextpage) {
                            retString += '<tw-link class="passage" ' + 'id="_nextpage" passage-name="' + vars.nextpage + '">';

                            if (vars.nextpagetitle) {
                                retString += vars.nextpagetitle + '</tw-link>';
                            } else {
                                retString += vars.nextpage + '</tw-link>';
                            }
                        }

                        return retString;
                    },


                    style: '._start {' + 'text-align: center;' + '}' + '._tabstop {' + 'display: inline-block;' + 'width: 2rem;' + '}' + '#_title {' + 'margin-top: 1.75rem;' + 'font-size: 6rem;' + '}' + '#_contributors {' + 'position: relative;' + 'top: -0.5rem;' + '}' + '._contributor {' + 'margin: 0.125rem;' + '}' + '#_description {' + 'margin: 1rem 0 0 0;' + '}' + '#_nextpage {' + 'display: block;' + 'text-align: center;' + 'margin-top: 1.25rem;' + '}'
                },

                _televisionscreen: {
                    render: function render(text, passageData) {
                        var vars = State.getAllScopedVariables(passageData);

                        var television = document.createElement('div');
                        television.id = '_televisionscreen';

                        if (vars.borderradius) {
                            television.style.borderRadius = vars.borderradius;
                        }

                        if (vars.backgroundcolor) {
                            television.style.backgroundColor = vars.backgroundcolor;
                        }

                        if (vars.glowopacity) {
                            television.style.opacity = vars.glowopacity;
                        }

                        var glowRepeat = Math.abs(Number(vars.glowrepeat)) || 1;
                        var glowWidth = vars.glowwidth || '1rem';
                        var glowColor = vars.glowcolor || 'white';
                        var str = '';
                        var index = 0;
                        while (index < glowRepeat - 1) {
                            str += '0 0 ' + glowWidth + ' ' + glowColor + ', ';
                            index++;
                        }

                        str += '0 0 ' + glowWidth + ' ' + glowColor;

                        if (str) {
                            television.style.boxShadow = str;
                        }

                        if (vars.backgroundwords) {
                            var words = document.createElement('div');
                            words.textContent = vars.backgroundwords;
                            words.style.width = '100%';

                            if (vars.backgroundwordssize) {
                                words.style.fontSize = vars.backgroundwordssize;
                            }

                            if (vars.backgroundwordsopacity) {
                                words.style.opacity = vars.backgroundwordsopacity;
                            }

                            if (vars.backgroundwordscolor) {
                                words.style.color = vars.backgroundwordscolor;
                            }

                            if (vars.backgroundwordsposition) {
                                var position = vars.backgroundwordsposition;
                                var splitPos = (position || '').split(' ');

                                var textAlign = splitPos[0];
                                words.style.textAlign = textAlign;

                                var transform = splitPos[1];
                                if (transform === 'center') {
                                    words.style.position = 'absolute';
                                    words.style.top = '50%';
                                    words.style.transform = 'translateY(-50%)';
                                } else if (transform === 'bottom') {
                                    words.style.bottom = 0;
                                }
                            }

                            television.appendChild(words);
                        }

                        var background = document.createElement('div');
                        background.id = '_background';
                        television.appendChild(background);

                        var noiseAnimStatus = vars.noiseanimstatus;
                        if (typeof noiseAnimStatus === 'undefined') {
                            noiseAnimStatus = false;
                        }

                        if (noiseAnimStatus) {
                            var noiseAnimMinOpacity = 0.95;
                            if (vars.noiseanimminopacity) {
                                noiseAnimMinOpacity = vars.noiseanimminopacity;
                            }

                            var noiseAnimMaxOpacity = 1;
                            if (vars.noiseanimmaxopacity) {
                                noiseAnimMaxOpacity = vars.noiseanimmaxopacity;
                            }

                            var noiseAnimMinLeft = '-0.05%';
                            if (vars.noiseanimminleft) {
                                noiseAnimMinLeft = vars.noiseanimminleft;
                            }

                            var noiseAnimMaxLeft = 0;
                            if (vars.noiseanimmaxleft) {
                                noiseAnimMaxLeft = vars.noiseanimmaxleft;
                            }

                            var noiseAnimMinTop = '-0.05%';
                            if (vars.noiseanimmintop) {
                                noiseAnimMinTop = vars.noiseanimmintop;
                            }

                            var noiseAnimMaxTop = 0;
                            if (vars.noiseanimmaxtop) {
                                noiseAnimMaxTop = vars.noiseanimmaxtop;
                            }

                            var noiseAnimMinWidth = '105%';
                            if (vars.noiseanimminwidth) {
                                noiseAnimMinWidth = vars.noiseanimminwidth;
                            }

                            var noiseAnimMaxWidth = '110%';
                            if (vars.noiseanimmaxwidth) {
                                noiseAnimMaxWidth = vars.noiseanimmaxwidth;
                            }

                            var noiseAnimMinHeight = '105%';
                            if (vars.noiseanimminheight) {
                                noiseAnimMinHeight = vars.noiseanimminheight;
                            }

                            var noiseAnimMaxHeight = '115%';
                            if (vars.noiseanimmaxheight) {
                                noiseAnimMinHeight = vars.noiseanimmaxheight;
                            }

                            this.style += '@keyframes _tvNoise {' + 'from {' + 'left: ' + noiseAnimMinLeft + ';' + 'top: ' + noiseAnimMinTop + ';' + 'width: ' + noiseAnimMinWidth + ';' + 'height: ' + noiseAnimMinHeight + ';' + 'opacity: ' + noiseAnimMinOpacity + ';' + '}' + 'to {' + 'left: ' + noiseAnimMaxLeft + ';' + 'top: ' + noiseAnimMaxTop + ';' + 'width: ' + noiseAnimMaxWidth + ';' + 'height: ' + noiseAnimMaxHeight + ';' + 'opacity: ' + noiseAnimMaxOpacity + ';' + '}' + '}';

                            var noiseAnimDuration = '1s';
                            if (vars.noiseanimduration) {
                                noiseAnimDuration = vars.noiseanimduration;
                            }

                            var noiseAnimEasing = 'linear';
                            if (vars.noiseanimeasing) {
                                noiseAnimEasing = vars.noiseanimeasing;
                            }

                            background.style.animationDirection = 'alternate';
                            background.style.animationDuration = noiseAnimDuration;
                            background.style.animationEasing = noiseAnimEasing;
                            background.style.animationIterationCount = 'infinite';
                        }

                        return television.outerHTML;
                    },


                    style: '#_televisionscreen {' + 'position: absolute;' + 'left: 0;' + 'top: 0;' + 'width: 100%;' + 'height: 100%;' + 'line-height: 5rem;' + 'z-index: -1;' + 'overflow: hidden;' + '}' + '#_televisionscreen #_background {' + 'position: absolute;' + 'left: -50%;' + 'width: 200%;' + 'height: 150%;' + 'background-image: url(data:image/png;base64,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);' + 'z-index: -1;' + 'animation-name: _tvNoise;' + '}' + 'tw-passage.current.sugarcube {' + 'border: 0;' + 'color: white;' + '}'
                }
            };

            dflt['_tracery-render'] = dflt._traceryrender;
            dflt['_start-passage'] = dflt._startpassage;
            dflt['_credits-passage'] = dflt._creditspassage;
            dflt['_television-screen'] = dflt._televisionscreen;

            return dflt;
        }
    };
})();

},{}],14:[function(require,module,exports){
'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;};function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}(function(){'use strict';Macro.addNamespace('world',null,function(actionType){if(!actionType){wideAlert('The actionType value passed to '+'Macro.world.handler is not valid.');return;}else if(typeof actionType!=='string'){wideAlert('The actionType value passed to '+'Macro.world.handler is not a string. '+'Cannot handle macro.');return;}actionType=actionType.trim();var action=worldActions[actionType];var args=from(arguments).slice(1);if(isFunction(action)){return action.apply({twine:'twine',node:this},args);}else{wideAlert('Can\'t do worldmodel action: '+action+'. No handler exists for this action.');}});Macro.add('add',{handler:function handler(name,type,objectOrParentModelArg){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.add';if(typeof name!=='string'||name===''){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The name argument provided to '+'Macro.world.add is not valid.'));}else if(/[#!.:*?%@]/.test(name)){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The name argument provided to '+'Macro.world.add contains one of '+'the reserved characters. The reserved '+'characters for names and types are '+'#, ., :, !, *, %, and @.'));}else if(!Number.isNaN(Number(name))){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'You cannot give a name that is only '+'numbers to a model, given that this could '+'conflict with current or future model ID '+'values.'));}else if(typeof type!=='string'||type===''){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The type argument provided to '+'Macro.world.add is not valid.'));}else if(/[#!.:*?%@]/.test(type)){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The type argument provided to '+'Macro.world.add contains one of the '+'reserved characters. The reserved '+'characters for names and types are '+'#, ., :, !, *, %, and @.'));}else if(!worldActions.validateSetValue(name)||!worldActions.validateSetValue(type)||!worldActions.validateSetValue(objectOrParentModelArg)){var names=getOwnPropertyNames(reserved);names=names.filter(function(aa){// do not return array prototype properties
return!Array.prototype.hasOwnProperty(aa);}).filter(function(aa){// only return strings
var reserve=reserved[aa];return typeof reserve==='string';}).map(function(aa){return reserved[aa];}).join(', ');return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'You cannot add an object which shares '+'a name with one of the reserved words. '+'The reserved words are: '+names+'.'));}var existingModel=worldActions.get('#'+name);if(existingModel.type==='error'){var _constructor=modelConstructors[type];if(!_constructor){_constructor=modelConstructors.model;}var model=new _constructor(name,type);State.currentWorldModelState.all[name]=model;if(!(model.type in State.currentWorldModelState)){State.currentWorldModelState[model.type]={};}State.currentWorldModelState[model.type][model.name]='#'+model.name;if(objectOrParentModelArg){var parent=worldActions.get(objectOrParentModelArg);if(!parent||parent.type==='error'){var _type=model.type;var curState=State.currentWorldModelState;if(_type in curState){delete curState[_type][model.name];delete curState[_type][model.id];}delete curState.all[model.name];delete curState.all[model.id];return worldActions.formatOutput(this,parent);}worldActions.take(parent,model);}return worldActions.formatOutput(this,model);}else{return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'There is already a model by that name. '+'Each model must have a unique name.'));}}},'world');Macro.add('remove',{handler:function handler(modelArg){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var model=worldActions.get(modelArg);var context='Macro.world.remove';if(!worldActions.validateSetValue(modelArg)||!worldActions.validateSetValue(model)){var names=getOwnPropertyNames(reserved);names=names.filter(function(aa){return!Array.prototype.hasOwnProperty(aa);}).filter(function(aa){return!reserved[aa].name;}).map(function(aa){return reserved[aa];}).join(', ');return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'You cannot remove an object that is, or '+'is named, one of the reserved words. The '+'reserved words are: '+names+'.'));}if(!model||model.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.remove is not valid, or '+'the model does not exist: '+modelArg+'.'));}var type=model.type;var curState=State.currentWorldModelState;if(type in curState){delete curState[type][model.name];delete curState[type][model.id];}delete curState.all[model.name];delete curState.all[model.id];model.parentSelector=null;return worldActions.formatOutput(this,model);}},'world');Macro.add('get',{handler:function handler(modelArg,propertyName){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.get';if(!modelArg){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.get is not valid.'));}else if(typeof modelArg==='string'){modelArg=modelArg.replace(/&gt;/g,'>');}var model=modelArg;if(typeof model==='string'){try{model=saferJSONParse(model);}catch(e){// do nothing
}}var selector=void 0;if(typeof model==='string'&&model.trim()[0].match(/[#!.:*?]/)){selector=model.trim().split(/\s/);}if(selector&&selector.length){model=worldActions.processSelector(selector);}if(worldActions.validateModel(model)&&model.type!=='collection'){if(model.generic===true){model=State.currentWorldModelState.all[model.id];}else{model=State.currentWorldModelState.all[model.name];}}if(!worldActions.validateModel(model)){return{type:'error',message:'The modelArg argument passed to '+'Macro.world.get does not correspond to '+'an existing model.'};}else if(propertyName){if(propertyName[0]==='@'){return worldActions.formatOutput(this,worldActions.getAlias(model,propertyName.slice(1)));}else{return worldActions.formatOutput(this,model[propertyName]);}}else{return worldActions.formatOutput(this,model);}}},'world');Macro.add('processselector',{handler:function handler(selector){var _this=this,_arguments=arguments;for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.processselector/get';// if the argument is a string and not an array, convert it
// to an array
if(typeof selector==='string'){selector=selector.split(' ').filter(function(temp){return temp!=='';});}if(!('0'in selector)){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The selector argument passed to '+'Macro.world.processselector is not '+'valid. The argument must be a non-empty string'+'or array.'));}var store={type:'collection',children:{}};var model=void 0;var componentType=selector[0][0];var componentValue=selector[0].slice(1);var curWMState=State.currentWorldModelState;if(componentType==='#'){model=curWMState.all[componentValue];if(typeof model==='undefined'&&!Number.isNaN(Number(componentValue))){var names=getOwnPropertyNames(curWMState.all);model=names.map(function(name){return curWMState.all[name];}).filter(function(model){return model.id===Math.floor(Number(componentValue));})[0];}}else if(componentType==='?'){var _player=curWMState.all.player;if(!('current'in _player)){throw new Error('There is no current property in '+'the player model. Cannot perform ? selectors.');}else if(!(componentValue in _player.current)){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'There is no current property by the name '+componentValue+' in the player\'s current property.'));}var current=_player.current;var name=current[componentValue].slice(1);model=curWMState.all[name];}else if(componentType==='.'){model={type:'collection',children:{}};if(!(componentValue in curWMState)){// ADD ERROR HANDLING
wideAlert('Bad component value in processSelector!');return;}var namesOrIDs=getOwnPropertyNames(curWMState[componentValue]);namesOrIDs.forEach(function(nameOrID){model.children[nameOrID]='#'+nameOrID;});}else if(componentType==='*'&&componentValue===''){model={type:'collection',children:{}};var _names=getOwnPropertyNames(curWMState.all);_names.forEach(function(nameOrID){model.children[nameOrID]='#'+nameOrID;});}else if(componentType==='!'){if(componentValue==='*'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The * symbol cannot be part of a not '+'selector.'));}else if(componentValue[0]==='#'){model={type:'collection',children:{}};var _namesOrIDs=getOwnPropertyNames(curWMState.all);_namesOrIDs.forEach(function(nameOrID){if(componentValue.slice(1)!==nameOrID){model.children[nameOrID]='#'+nameOrID;}});}else if(componentValue[0]==='?'){var _ret=function(){var player=curWMState.all.player;var nameOrID=componentValue.slice(1);if(!('current'in player)){throw new Error('There is no current property '+'in the player model. Cannot perform ? '+'selectors.');}else if(!(nameOrID in player.current)){return{v:worldActions.formatOutput(_this,new ErrorModel(context,from(_arguments),'There is no current property by the'+'name '+componentValue+' in the '+'player\'s current property.'))};}var newNameOrID=player.current[nameOrID].slice(1);var current=curWMState.all[newNameOrID];model={type:'collection',children:{}};var namesOrIDs=getOwnPropertyNames(curWMState.all);namesOrIDs.forEach(function(nameOrID){if(current.name!==nameOrID&&current.id!==nameOrID){model.children[nameOrID]='#'+nameOrID;}});}();if((typeof _ret==='undefined'?'undefined':_typeof(_ret))==="object")return _ret.v;}else if(componentValue[0]==='.'){model={type:'collection',children:{}};var _namesOrIDs2=getOwnPropertyNames(curWMState.all);_namesOrIDs2.forEach(function(nameOrID){if(curWMState.all[nameOrID].type!==componentValue.slice(1)){model.children[nameOrID]='#'+nameOrID;}});}else if(componentValue[0]===':'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'A property cannot be part of a not '+'selector.'));}}else if(componentType===':'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'A property cannot be the first portion of a '+'selector.'));}if(!model){return{context:context,type:'error',message:'The model(s) indicated by the '+componentType+componentValue+' portion of the selector do not exist.'};}for(var _ii=1;_ii<selector.length;_ii++){store.children={};var toCheck='descendant';if(selector[_ii-1]==='>'){toCheck='child';}componentType=selector[_ii][0];componentValue=selector[_ii].slice(1,selector[_ii].length);if(componentType==='>'&&componentValue===''&&_ii+1 in selector){continue;}if(componentType==='#'&&componentValue==='root'){if(model.type==='collection'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'It is not possible to produce a root '+'from a collection of models.'));}var parents=[];var newParent=model.parent();while(newParent&&newParent.type!=='error'){var parentSelector=newParent.parentSelector;if(parents.indexOf(parentSelector)!==-1||parents.indexOf(newParent.parent())!==-1){throw new Error('A parent of one of the '+'specified models has a corrupted '+'descendence tree and contains itself, '+'or its selector, as a parent.');}parents.push(newParent.selector());parents.push(newParent);model=newParent;newParent=newParent.parent();}}else if(componentType==='#'){if(toCheck==='child'||model.type==='collection'){if(!('children'in model)){throw new Error('The model indicated by '+'the portion of the selector prior to '+componentType+componentValue+' does not have a children property.');}var _names2=getOwnPropertyNames(model.children);var temp=null;for(var _ii2=0;_ii2<_names2.length;_ii2++){var _nameOrID=_names2[_ii2];if(!(_nameOrID in model.children)){break;}var childName=model.children[_nameOrID].slice(1);temp=curWMState.all[childName];}model=temp;}else{if(!('descendants'in model)){throw new Error('The model indicated by '+'the portion of the selector prior to '+componentType+componentValue+' does not have a descendants property.');}var _names3=getOwnPropertyNames(model.descendants);var _temp=null;for(var _ii3=0;_ii3<_names3.length;_ii3++){var _nameOrID2=_names3[_ii3];if(!(_nameOrID2 in model.descendants)){break;}var descendantName=model.descendants[_nameOrID2].slice(1);_temp=curWMState.all[descendantName];}model=_temp;}}else if(componentType==='@'){model=worldActions.getAlias(model,componentValue);}else if(componentType==='?'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'A current (?) selector cannot occur after '+'the first portion of a selector.'));}else if(componentType==='!'){if(componentValue==='#root'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'A #root selector cannot have NOT (!) '+'applied to it.'));}else if(componentValue[0]==='#'){if(toCheck==='child'||model.type==='collection'){if(!model.children){throw new Error('The model indicated '+'by the portion of the selector '+'prior to '+componentType+componentValue+' does not have a children '+'property.');}var children=model.children;var _namesOrIDs3=getOwnPropertyNames(children);_namesOrIDs3.forEach(function(nameOrID){if(componentValue.slice(1)!==nameOrID){store.children[nameOrID]='#'+nameOrID;}});model=store;}else{if(!('descendants'in model)){throw new Error('The model indicated '+'by the portion of the selector '+'prior to '+componentType+componentValue+' does not have a descendants '+'property.');}var descendants=model.descendants;var _namesOrIDs4=getOwnPropertyNames(descendants);_namesOrIDs4.forEach(function(nameOrID){var sliced=componentValue.slice(1);if(sliced!==nameOrID){store.children[nameOrID]='#'+nameOrID;}});model=store;}}else if(componentValue[0]==='?'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'A current (?) selector cannot occur '+'after the first portion of a '+'selector.'));}else if(componentValue[0]==='.'){if(toCheck==='child'||model.type==='collection'){if(!('children'in model)){throw new Error('The model indicated '+'by the portion of the selector '+'prior to '+componentType+componentValue+' does not have a children '+'property.');}var _children=model.children;var _namesOrIDs5=getOwnPropertyNames(_children);_namesOrIDs5.forEach(function(nameOrID){if(curWMState.all[nameOrID].type!==componentValue.slice(1)){store.children[nameOrID]='#'+nameOrID;}});model=store;}else{if(!('descendants'in model)){throw new Error('The model indicated '+'by the portion of the selector '+'prior to '+componentType+componentValue+' does not have a descendants '+'property.');}var _descendants=model.descendants;var _namesOrIDs6=getOwnPropertyNames(_descendants);_namesOrIDs6.forEach(function(nameOrID){if(curWMState.all[nameOrID].type!==componentValue.slice(1)){store.children[nameOrID]='#'+nameOrID;}});model=store;}}else if(componentValue[0]===':'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'A property cannot be part of a not '+'selector.'));}model=store;}else if(componentType==='.'){if(toCheck==='child'||model.type==='collection'){if(!('children'in model)){throw new Error('The model indicated by '+'the portion of the selector prior to '+componentType+componentValue+' does not have a children property.');}var _namesOrIDs7=getOwnPropertyNames(model.children);_namesOrIDs7.forEach(function(nameOrID){if(nameOrID in curWMState[componentValue]){store.children[nameOrID]='#'+nameOrID;}});model=store;}else{if(!('descendants'in model)){throw new Error('The model indicated by '+'the portion of the selector prior to '+componentType+componentValue+' does not have a descendants property.');}var _namesOrIDs8=getOwnPropertyNames(model.descendants);_namesOrIDs8.forEach(function(nameOrID){if(nameOrID in curWMState[componentValue]){store.children[nameOrID]='#'+nameOrID;}});model=store;}}else if(componentType===':'){model=model[componentValue];}else if(componentType==='*'&&componentValue===''){if(toCheck==='child'||model.type==='collection'){if(!('children'in model)){throw new Error('The model indicated by '+'the portion of the selector prior to '+componentType+componentValue+' does not have a children property.');}model={type:'collection',children:model.children};}else{if(!('descendants'in model)){throw new Error('The model indicated by '+'the portion of the selector prior to '+componentType+componentValue+' does not have a descendants property.');}model={type:'collection',children:model.descendants};}}else{return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The character indicating the selector '+'portion type '+componentType+' is not valid.'));}if(typeof model==='undefined'||model===null){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The model(s) indicated by the '+componentValue+' portion of the selector do not exist.'));}}return worldActions.formatOutput(this,model);}},'world');Macro.world.processSelector=Macro.world.processselector;Macro.world['process-selector']=Macro.world.processselector;Macro.add('set',{handler:function handler(modelArg,propertyName,value){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.set';var model=worldActions.get(modelArg);if(!model||model.type==='error'){return{type:'error',context:context,message:'The modelArg argument passed to '+'Macro.world.set is not valid.'};}else if(!worldActions.validateSetValue(propertyName)){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'You can\'t set this value. The property '+propertyName+' is reserved.'));}model[propertyName]=value;return worldActions.formatOutput(this,model);}},'world');Macro.add('unset',{handler:function handler(modelArg,propertyName){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.unset';var model=worldActions.get(modelArg);if(!model||model.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.set is not valid.'));}else if(!worldActions.validateSetValue(propertyName)){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'You can\'t set this value. The property '+propertyName+' is reserved.'));}delete model[propertyName];return worldActions.formatOutput(this,model);}},'world');Macro.add('contains',{handler:function handler(parentModelArg,childModelArg,children){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.contains';var parentModel=worldActions.get(parentModelArg);if(!parentModel||parentModel.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The parentModelArg passed to '+'Macro.world.contains is not valid.'));}else if(parentModel.type==='collection'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The parentModelArg passed to '+'Macro.world.contains represents a '+'collection. In can only be used on single '+'parent models.'));}var childModel=worldActions.get(childModelArg);if(!childModel||childModel.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The childModelArg passed to '+'Macro.world.contains is not valid.'));}if(children===true||children==='children'){if(childModel.type==='collection'){var _children2=childModel.children;var names=getOwnPropertyNames(_children2);for(var _ii4=0;_ii4<names.length;_ii4++){if(names[_ii4]in parentModel.children){return true;}}return false;}else{var type=_typeof(parentModel.children[childModel.name]);return type==='object';}}else{if(childModel.type==='collection'){var retVal=false;var _children3=childModel.children;var _names4=getOwnPropertyNames(_children3);for(var _ii5=0;_ii5<_names4.length;_ii5++){if(_names4[_ii5]in parentModel.descendants){return true;}}return false;}else{return childModel.name in parentModel.descendants;}}}},'world');Macro.add('isset',{handler:function handler(modelArg,propertyName){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.isSet';var model=worldActions.get(modelArg);if(typeof model==='undefined'||model.type==='error'){return{context:context,type:'error',message:'The modelArg argument passed to '+'Macro.world.isset is not valid.'};}return propertyName in model;}},'world');Macro.world.isSet=Macro.world.isset;Macro.world['is-set']=Macro.world.isset;Macro.add('exists',{handler:function handler(modelArg){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var model=worldActions.get(modelArg);if(typeof model==='undefined'||model.type==='error'){return false;}else{return true;}}},'world');Macro.add('give',{handler:function handler(modelArg,receiverModelArg){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}return worldActions.take.call(this,receiverModelArg,modelArg);}},'world');Macro.add('take',{handler:function handler(modelArg,childModelArg){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.take';var owner=worldActions.get(modelArg);if(!owner||owner.type==='error'){return new ErrorModel(context,from(arguments),'The model referred to by the modelArg '+'argument '+modelArg+' does not exist.');}var child=worldActions.get(childModelArg);if(typeof child==='undefined'||child.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The model referred to by the '+'childModelArg argument '+childModelArg+' does not exist.'));}else if('children'in owner&&child.name in owner.children&&(child.generic!==true||worldActions.get(owner.children[child.name]).generic!==true)){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'There is already a model with the same '+'name in the provided owner, '+owner.name+', and one or both are not generic.'));}var forbidden=worldActions.isForbidden(owner,'take',child);if(forbidden){return worldActions.formatOutput(new ErrorModel(context,from(arguments),'A model of type '+owner.type+' cannot take a model of type '+child.type+'.'));}var parents=[];var oldParent=child.parent();while(oldParent&&oldParent.type!=='error'){var selectorIndex=parents.indexOf(oldParent.parentSelector);var parentIndex=parents.indexOf(oldParent.parent());if(selectorIndex!==-1||parentIndex!==-1){throw new Error('A parent of one of the '+'specified models has a corrupted '+'descendence tree and contains itself, '+'or its selector, as a parent.');}parents.push(oldParent.selector());parents.push(oldParent);if(child.generic){delete oldParent.children[child.id];}else{delete oldParent.children[child.name];delete oldParent.descendants[child.name];}oldParent=oldParent.parent();}child.parentSelector=owner.selector();parents=[];var newParent=owner;if(child.generic){if(!(child.name in newParent.children)){newParent.children[child.name]='#'+child.id;}if(child.name in newParent.children){var _child=newParent.children[child.name];worldActions.get(_child).quantity+=_child.quantity;worldActions.remove(_child);return worldActions.formatOutput(this,owner);}}else{newParent.children[child.name]='#'+child.name;}return worldActions.formatOutput(this,owner);}},'world');Macro.add('isgeneric',{handler:function handler(modelArg){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.isgeneric';var model=worldActions.get(modelArg);if(!model||model.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The model referred to by the modelArg '+'argument '+modelArg+' does not exist.'));}if(model.generic===true){return true;}else{return false;}}},'world');Macro.world.isGeneric=Macro.world.isgeneric;Macro.world['is-generic']=Macro.world.isgeneric;Macro.add('makegeneric',{handler:function handler(modelArg){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.makegeneric';var model=worldActions.get(modelArg);if(!model||model.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The model referred to by the modelArg '+'argument '+modelArg+' does not exist.'));}model.generic=true;var curWMState=State.currentWorldModelState;// this model can no longer be searched by name
delete curWMState.all[model.name];delete curWMState[model.type][model.name];curWMState.all[model.id]=model;curWMState[model.type][model.id]='#'+model.id;var newParent=model.parent();if((typeof newParent==='undefined'?'undefined':_typeof(newParent))==='object'&&newParent!==null&&'children'in newParent){newParent.children[model.name]='#'+model.id;}var parents=[];while((typeof newParent==='undefined'?'undefined':_typeof(newParent))==='object'&&newParent!==null&&newParent.type!=='error'){var selectorIndex=parents.indexOf(oldParent.parentSelector);var parentIndex=parents.indexOf(oldParent.parent());if(selectorIndex!==-1||parentIndex!==-1){throw new Error('A parent of one of the '+'specified models has a corrupted '+'descendence tree and contains itself, '+'or its selector, as a parent.');}parents.push(newParent.selector());parents.push(newParent);delete newParent.descendants[model.name];newParent=newParent.parent();}return worldActions.formatOutput(this,model);}},'world');Macro.world.makegeneric=Macro.world.makegeneric;Macro.world['make-generic']=Macro.world.makegeneric;Macro.add('print',{handler:function handler(modelArg,string,newLine){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.print';if(!modelArg){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.print is not valid.'));}else if(typeof string!=='string'||string===''){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The string argument passed to '+'Macro.world.print is not valid.'));}var model=worldActions.get(modelArg);if(model.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.print does not '+'correspond to an existing model.'));}var elem=document.createElement('tw-match');elem.className='worldmodelPrintContainer';elem.innerHTML=string;var treeWalker=document.createTreeWalker(elem,NodeFilter.SHOW_TEXT,{acceptNode:function acceptNode(node){var parent=node.parentNode;if(parent&&parent.tagName!=='SCRIPT'&&parent.tagName!=='STYLE'){return NodeFilter.FILTER_ACCEPT;}else{return NodeFilter.FILTER_REJECT;}}},false);var nodeList=[];while(treeWalker.nextNode()){nodeList.push(treeWalker.currentNode);}nodeList.forEach(function(node){var regex=/%(.+?)%/;var match=void 0;var string=node.textContent;while((match=regex.exec(string))!==null){var inner=match[1].trim();if(inner[0]===':'){inner=inner.slice(1,inner.length);}else if(inner[0]==='|'&&inner[inner.length-1]==='|'){try{inner=eval(inner);}catch(e){wideAlert('The Javascript raw string within '+'the Macro.world.print template '+'string is not well-formed. Please '+'note the compiler error in the next '+'alert.');wideAlert(e.message);inner=e.message;}}string=string.replace(match[0],worldActions.get(model,inner));}regex=/\{\{\S?.+?\S?\}\}/;while((match=regex.exec(string))!==null){var _inner=match[0].trim().slice(2,-2);var link='<tw-link class="passage" passage-name="';if(_inner.indexOf('|')!==-1){var split=_inner.split('|');link+=split[split.length-1]+'">';link+=split.slice(0,-1).join('|')+'</tw-link>';}else if(_inner.indexOf('->')!==-1){var _split=_inner.split('->');link+=_split[_split.length-1]+'">';link+=_split.slice(0,-1).join('->')+'</tw-link>';}else if(_inner.indexOf('<-')!==-1){var _split2=_inner.split('<-');link+=_split2[0]+'">';link+=_split2.slice(1).join('<-')+'</tw-link>';}else{link+=_inner+'">'+_inner+'</tw-link>';}string=string.replace(match[0],link);}$(node).replaceWith('<tw-match>'+string+'</tw-match>');});if(newLine===true||typeof newLine==='string'&&newLine.toLowerCase()==='newline'){elem.appendChild(document.createElement('br'));}else if(typeof newLine==='number'&&newLine>0){for(var _ii6=0;_ii6<newLine;_ii6++){elem.appendChild(document.createElement('br'));}}Compiler.compile(elem);return elem;}},'world');Macro.add('getalias',{handler:function handler(modelArg,propertyName){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.getAlias';if(!modelArg){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.getAlias is not valid.'));}var model=worldActions.get(modelArg);if(!model||model.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The model referred to by the modelArg '+'argument passed to '+'Macro.world.getalias '+modelArg+' does not exist.'));}if(!('aliases'in model)){model.aliases={};}if(!propertyName){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The propertyName argument passed to '+'Macro.world.getalias is not valid.'));}if(propertyName in model.aliases){return worldActions.formatOutput(this,model.aliases[propertyName]);}else{return worldActions.formatOutput(this,model[propertyName]);}}},'world');Macro.world.getAlias=Macro.world.getalias;Macro.world['get-alias']=Macro.world.getAlias;Macro.add('addalias',{handler:function handler(modelArg,propertyName,alias){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.addalias';if(!modelArg){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.addalias is not valid.'));}var model=worldActions.get(modelArg);if(!model||model.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The model referred to by the modelArg '+'argument '+modelArg+' does not exist.'));}if(!propertyName){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The propertyName argument passed to '+'Macro.world.addalias is not valid.'));}else if(!(propertyName in model)){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The model represented by the modelArg '+'argument provided to '+'Macro.world.addalias does not have a '+'property matching the propertyName '+'argument. Cannot add alias.'));}if(!('aliases'in model)){model.aliases={};}if(typeof alias!=='string'||alias===''){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The alias argument passed to '+'Macro.world.addAlias is not a valid, '+'non-empty string. Cannot add alias.'));}model.aliases[propertyName]=alias;return worldActions.formatOutput(this,model);}},'world');Macro.world.addAlias=Macro.world.addalias;Macro.world['add-alias']=Macro.world.addalias;Macro.add('removealias',{handler:function handler(modelArg,propertyName){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.removealias';if(!modelArg){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.removealias is not '+'valid.'));}var model=worldActions.get(modelArg);if(!model||model.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The model referred to by the modelArg '+'argument '+modelArg+' does not exist.'));}if(!propertyName){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The propertyName argument passed to '+'Macro.world.removealias is not '+'valid.'));}else if(!(propertyName in model)){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The model represented by the modelArg '+'argument provided to '+'Macro.world.removealias does not '+'have a property matching the propertyName '+'argument. Cannot add alias.'));}if(!('aliases'in model)){model.aliases={};}delete model.aliases[propertyName];return worldActions.formatOutput(this,model);}},'world');Macro.world.removeAlias=Macro.world.removealias;Macro.world['remove-alias']=Macro.world.removealias;Macro.add('associated',{handler:function handler(modelArg,association,associatedModelArg){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var context='Macro.world.is';if(!modelArg){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.is is not valid.'));}else if(!association){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The association argument passed to '+'Macro.world.is is not valid.'));}var model=worldActions.get(modelArg);if(model.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.is does not correspond '+'to an existing model.'));}if(associatedModelArg){if(!(association in model.associations)){return false;}var associatedModel=worldActions.get(associatedModelArg);if(associatedModel.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The associatedModelArg argument '+'passed to Macro.world.is does '+'not correspond to an existing model.'));}if(model.associations[association].indexOf(associatedModel.selector())===-1){return false;}return true;}else{var associateds=model.associations[association];var collection={type:'collection',children:{}};if(!associateds){return worldActions.formatOutput(this,collection);}for(var _ii7=0;_ii7<associateds.length;_ii7++){collection.children[associateds[_ii7]]=worldActions.get(associateds[_ii7]);}return worldActions.formatOutput(this,collection);}}},'world');Macro.add('associate',{handler:function handler(modelArg,association,associatedModelArg,converse){var context='Macro.world.associate';if(!modelArg){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.associate is not valid.'));}else if(!association){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The association argument passed to '+'Macro.world.associate is not valid.'));}else if(!associatedModelArg){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The associatedModelArg argument passed to '+'Macro.world.associate is not valid.'));}var model=worldActions.get(modelArg);if(model.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.associate does not '+'correspond to an existing model.'));}var associatedModel=worldActions.get(associatedModelArg);if(associatedModel.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The associatedModel argument passed to '+'Macro.world.associate does not '+'correspond to an existing model.'));}if(!(association in model.associations)){model.associations[association]=[];}var assoc=model.associations[association];if(assoc.indexOf(associatedModel.selector())===-1){model.associations[association].push(associatedModel.selector());}if(converse===true||converse==='converse'){var _converse=worldActions.getConverse(association);if(_converse.type==='error'){return worldActions.formatOutput(this,_converse);}if(!associatedModel.associations[_converse]){associatedModel.associations[_converse]=[];}var temp=associatedModel.associations[_converse];if(temp&&temp.indexOf(model.selector())===-1){associatedModel.associations[_converse].push(model.selector());}}return worldActions.formatOutput(this,model);}},'world');Macro.add('disassociate',{handler:function handler(modelArg,association,associatedModelArg,converse){var context='Macro.world.disassociate';if(!modelArg){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.disassociate is not '+'valid.'));}else if(!association){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The association argument passed to '+'Macro.world.disassociate is not '+'valid.'));}else if(!associatedModelArg){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The associatedModelArg argument passed '+'to Macro.world.disassociate is not '+'valid.'));}var model=worldActions.get(modelArg);if(model.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The modelArg argument passed to '+'Macro.world.disassociate does not '+'correspond to an existing model.'));}var associatedModel=worldActions.get(associatedModelArg);if(associatedModel.type==='error'){return worldActions.formatOutput(this,new ErrorModel(context,from(arguments),'The associatedModel argument passed to '+'Macro.world.disassociate does not '+'correspond to an existing model.'));}if(!(association in model.associations)){return worldActions.formatOutput(this,model);}var associations=model.associations[association];if(associations.indexOf(associatedModel)===-1){return worldActions.formatOutput(this,model);}var toConcat=associations.slice(associations.indexOf(associatedModel+1));associations=associations.slice(0,associations.indexOf(associatedModel)).concat(toConcat);if(converse){if(!associatedModel.associations[association]){return worldActions.formatOutput(this,model);}var _converse2=worldActions.getConverse(association);if(_converse2.type==='error'){return _converse2;}var _associations=associatedModel.associations[_converse2];if(_associations.indexOf(model)===-1){return worldActions.formatOutput(this,model);}var _toConcat=_associations.slice(_associations.indexOf(model+1));_associations=_associations.slice(0,_associations.indexOf(model)).concat(_toConcat);}return worldActions.formatOutput(this,model);}},'world');var converses={north:'south',east:'west',south:'north',west:'east',above:'below',below:'above',left:'right',right:'left',forward:'back',back:'forward',over:'under',under:'over'};Macro.add('getconverse',{handler:function handler(normal){if(!converses[normal]){return worldActions.formatOutput(this,new ErrorModel('Macro.world.getconverse',from(arguments),'There is no converse relation for that '+'word.'));}return converses[normal];}},'world');Macro.world.getConverse=Macro.world.getconverse;Macro.world['get-converse']=Macro.world.getconverse;Macro.add('addconverse',{handler:function handler(normal,converse){if(normal in converses){return worldActions.formatOutput(this,new ErrorModel('Macro.world.addconverse',from(arguments),'There is already a converse relation for '+'that word. Remove the old one first.'));}converses[normal]=converse;return true;}},'world');Macro.world.addConverse=Macro.world.addconverse;Macro.world['add-converse']=Macro.world.addconverse;Macro.add('removeconverse',{handler:function handler(name){delete converses[name];return true;}},'world');Macro.world.removeConverse=Macro.world.removeconverse;Macro.world['remove-converse']=Macro.world.removeConverse;Macro.add('forbid',{handler:function handler(actorType,acteeType,action){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}if(!actorType){wideAlert('The actorType argument passed to '+'Macro.world.forbid is not valid.');return false;}else if(actorType==='*'){wideAlert('The only object that can have all actions '+'set to * is the builtin ErrorModel.');return false;}else if(!acteeType){wideAlert('The acteeType argument passed to '+'Macro.world.forbid is not valid.');return false;}else{var curWMState=State.currentWorldModelState;var value=curWMState.forbidden[actorType];if(!value){wideAlert('The actorType, '+actorType+', does not exist in '+'Macro.State.currentWorldModelState'+'.forbidden.');return false;}value=value[acteeType];if(!value){wideAlert('The acteeType, '+acteeType+', does not exist in '+'Macro.State.currentWorldModelState'+'.forbidden.'+actorType+'.');return false;}if(value.indexOf(action)===-1){value.push(action);}}return true;}},'world');Macro.add('unforbid',{handler:function handler(actorType,acteeType,action){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}if(!actorType){wideAlert('The actorType argument passed to '+'Macro.world.unforbid is not valid.');return false;}else if(!acteeType){wideAlert('The acteeType argument passed to '+'Macro.world.unforbid is not valid.');return false;}else if(!action){wideAlert('The action argument passed to '+'Macro.world.unforbid is not valid.');return false;}else{var curWMState=State.currentWorldModelState;var value=curWMState.forbidden[actorType];if(!value){wideAlert('The actorType, '+acteeType+', does not exist in Macro.State'+'.currentWorldModelState.forbidden.');return false;}value=value[acteeType];if(!value){wideAlert('The action, '+action+', does not exist in '+'Macro.State.currentWorldModelState'+'.forbidden.'+actorType+'.');return false;}else if(!value.filter){wideAlert('The specified collection in '+'Macro.State.currentWorldModelState'+'.forbidden.'+actorType+'.'+acteeType+' lacks a filter function property, '+'and is therefore invalid.');return false;}value=value.filter(function(act){return act!==action;});}return true;}},'world');Macro.add('isforbidden',{handler:function handler(actorType,action,acteeType){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}if(actorType&&actorType.type){actorType=actorType.type;}if(acteeType&&acteeType.type){acteeType=acteeType.type;}if(!actorType){wideAlert('The actorType argument passed to '+'Macro.world.isForbidden is not valid.');return false;}else if(!action){wideAlert('The action argument passed to '+'Macro.world.isForbidden is not valid.');return false;}else if(!acteeType){wideAlert('The acteeType argument passed to '+'Macro.world.isForbidden is not valid.');return false;}else{var curWMState=State.currentWorldModelState;var value=curWMState.forbidden[actorType];if(!value){//gatelyLog('The actorType, ' + actorType +
//', does not exist in Macro.State' +
//'.currentWorldModelState.forbidden.');
return false;}else if(value==='*'){return true;}value=value[action];if(!value){//gatelyLog('The acteeType, ' + acteeType +
//', does not exist in Macro.State' +
//'.currentWorldModelState.forbidden.' +
//actorType + '.');
return false;}else if(value==='*'){return true;}return from(value).indexOf(acteeType)!==-1;}}},'world');Macro.world.isForbidden=Macro.world.isforbidden;Macro.world['is-forbidden']=Macro.world.isforbidden;Macro.add('populatefrompassages',{handler:function handler(tag){var selector='tw-passagedata[tags~="world'+tag+'"], tw-passagedata[tags~="world-'+tag+'"]';var nodes=document.querySelectorAll(selector);for(var ii=0;ii<nodes.length;ii++){var name=nodes[ii].getAttribute('name');var replaced=name.replace(/s/g,'');// remove all whitespace, given that whitespace
// indicates descendance. temp solution, not ideal
worldActions.add(replaced,tag);}}},'world');Macro.world.populateFromPassages=Macro.world.populatefrompassages;Macro.world['populate-from-passages']=Macro.world.populatefrompassages;/* Macro.add('definehandler',
        {
            handler(name, codeStr, isDoubleTag) {
                name = name.trim();
                if (typeof(name) !== 'string' || name === '') {
                    wideAlert('The name argument passed to ' +
                        'Macro.world.defineHandler is not valid.');
                    return false;
                } else if (typeof(codeStr) !== 'string' || name === '') {
                    wideAlert('The codeStr argument passed to ' +
                        'Macro.world.defineHandler is empty or ' +
                        'not a valid string.');
                    return false;
                }
                try {
                    worldModel[name] = {
                        isDoubleTag: isDoubleTag,
                        handler: new Function(codeStr),
                    };
                } catch (e) {
                    wideAlert(e.message);
                    return false;
                }
                return true;
            }
        },
        'world'
    );
    Macro.world.defineHandler = Macro.world.definehandler;
    Macro.world['define-handler'] = Macro.world.definehandler; */Macro.add('validatemodel',{handler:function handler(model){if(!model||(typeof model==='undefined'?'undefined':_typeof(model))!=='object'){return false;}var jsType=(typeof model==='undefined'?'undefined':_typeof(model))==='object'&&model!==null;var modelType='type'in model&&typeof model.type==='string'&&model.type!==''&&model.type!=='error';var modelName='name'in model&&typeof model.name==='string'&&model.name!=='';if(model.name==='noone'){wideAlert('The noone model cannot be modified or validated '+'in any fashion, and attempting to validate it '+'will always return false.');return false;}var modelChildren='children'in model&&_typeof(model.children)==='object'&&model.children!==null;var modelDescendants='descendants'in model&&_typeof(model.descendants)==='object'&&model.descendants!==null;var isCollection='type'in model&&model.type==='collection'&&'children'in model&&_typeof(model.children)==='object'&&model.children!==null;if(jsType&&modelType&&modelName&&modelChildren&&modelDescendants||isCollection){return true;}else{return false;}}},'world');Macro.world.validateModel=Macro.world.validatemodel;Macro.world['validate-model']=Macro.world.validatemodel;Macro.add('validatesetvalue',{handler:function handler(modelArg){return reserved.indexOf(modelArg)===-1;}},'world');Macro.world.validateSetValue=Macro.world.validatesetvalue;Macro.world['validate-set-value']=Macro.world.validatesetvalue;Macro.add('formatoutput',{handler:function handler(caller,output){if(caller&&caller.twine&&typeof output!=='string'&&!isNode(output)&&!isElement(output)){return JSON.stringify(output);}else{return output;}}},'world');Macro.world.formatOutput=Macro.world.formatoutput;Macro.world['format-output']=Macro.world.formatoutput;Macro.add('addmodelconstructor',{handler:function handler(type,constructor,forbidden){if(!type){wideAlert('The type argument provided to '+'Macro.world.addmodelconstructor');}else if(type in modelConstructors){wideAlert('There is already a constructor for models of '+'type '+type+'.');return false;}else if(!isFunction(constructor)){wideAlert('The constructor argument,'+constructor.toString()+', provided to Macro.world.addmodelconstructor'+' is not a valid constructor function.');return false;}if(forbidden&&forbidden.length){for(var ii=0;ii<forbidden.length;ii++){// FILL IN HERE
}}modelConstructors[type]=constructor;return true;}},'world');Macro.world.addModelConstructor=Macro.world.addmodelconstructor;Macro.world['add-model-constructor']=Macro.world.addmodelconstructor;Macro.add('restoremodelprotofuncs',{handler:function handler(){var protoFuncs=getOwnPropertyNames(modelProtoFuncs);var models=getOwnPropertyNames(State.currentWorldModelState.all).map(function(nameOrID){return State.currentWorldModelState.all[nameOrID];});models.forEach(function(model){if(!('parent'in model)){model.parent=_worldModelTempStore.noone.parent;}if(!('selector'in model)){model.selector=_worldModelTempStore.noone.selector;}protoFuncs.forEach(function(func){var protoFunc=modelProtoFuncs[func];model[func]=protoFunc;});});}},'world');Macro.world.restoreModelProtoFuncs=Macro.world.restoremodelprotofuncs;Macro.world['restore-model-proto-funcs']=Macro.world.restoremodelprotofuncs;// a list of all worldmodel functions
var worldActions={};getOwnPropertyNames(Macro.world).map(function(name){if(name==='handler'){return;}if(typeof Macro.world[name]==='function'){worldActions[name]=Macro.world[name];}else if(typeof Macro.world[name].handler==='function'){worldActions[name]=Macro.world[name].handler;}});window._worldModelTempStore={all:{},error:{},// forbidden [actorType] [action] [acteeType]
forbidden:{location:{take:['location','error'],contains:['location','error'],give:'*',add:'*',remove:'*',forbid:'*',unforbid:'*',each:'*'},entity:{take:['location','entity','error'],contains:['location','entity','error'],give:['entity','error'],add:'*',remove:'*',forbid:'*',unforbid:'*',each:'*'},object:{take:['location','entity','error'],contains:['location','entity','error'],give:['error'],add:'*',remove:'*',forbid:'*',unforbid:'*',each:'*'},collection:{set:['error'],unset:['error'],give:'*',take:'*',add:'*',remove:'*',forbid:'*',unforbid:'*'},error:{give:'*',take:'*',contains:'*',add:'*',remove:'*',forbid:'*',unforbid:'*',set:'*',unset:'*',each:'*'}},_nextUnusedID:0,getNextUnusedId:function getNextUnusedId(){return this._nextUnusedID++;}};window.Model=function Model(name,type){_classCallCheck(this,Model);this.name=name;this.type=type;this.parentSelector=null;this.children={};this.descendants={};this.associations={};this.aliases={};this._internalSelector='#'+name;this.generic=false;this.quantity=1;this.id=_worldModelTempStore.getNextUnusedId();};var modelProtoFuncs={selector:function selector(newSelector){if(newSelector){this._internalSelector=newSelector;return;}if(!this._internalSelector){throw new Error('The model, '+this+', has no _internalSelector property. '+'Cannot get selector.');}if(this.generic){return this.parentSelector+' #'+this.id;}else{return this._internalSelector;}},parent:function parent(){if(this.parentSelector===null){return null;}var parent=worldActions.get(this.parentSelector);if(parent.type==='error'){return null;}return parent;},add:function add(name,type){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var thisObj=void 0;var callObj={};if(this instanceof String){thisObj=saferJSONParse(this.toString());if((typeof thisObj==='undefined'?'undefined':_typeof(thisObj))!=='object'||thisObj===null||!worldActions.validateModel(thisObj)){return;}callObj={twine:'twine'};}else{thisObj=this;}return worldActions.add.call(callObj,name,type,thisObj);},addAlias:function addAlias(propertyName,alias){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var thisObj=void 0;var callObj={};if(this instanceof String){thisObj=saferJSONParse(this.toString());if((typeof thisObj==='undefined'?'undefined':_typeof(thisObj))!=='object'||thisObj===null||!worldActions.validateModel(thisObj)){return;}callObj={twine:'twine'};}else{thisObj=this;}return worldActions.addAlias.call(callObj,thisObj,propertyName,alias);},getAlias:function getAlias(propertyName){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var thisObj=void 0;var callObj={};if(this instanceof String){thisObj=saferJSONParse(this.toString());if((typeof thisObj==='undefined'?'undefined':_typeof(thisObj))!=='object'||thisObj===null||!worldActions.validateModel(thisObj)){return;}callObj={twine:'twine'};}else{thisObj=this;}return worldActions.getAlias.call(callObj,thisObj,propertyName);},associate:function associate(association,associatedModelArg,converse){for(var ii=0;ii<arguments.length;ii++){if(arguments[ii]&&arguments[ii].type==='error'){return arguments[ii];}}var thisObj=void 0;var callObj={};if(this instanceof String){thisObj=saferJSONParse(this.toString());if((typeof thisObj==='undefined'?'undefined':_typeof(thisObj))!=='object'||thisObj===null||!worldActions.validateModel(thisObj)){return;}callObj={twine:'twine'};}else{thisObj=this;}return worldActions.associate.call(callObj,thisObj,association,associatedModelArg,converse);}};var protoFuncs=getOwnPropertyNames(modelProtoFuncs);protoFuncs.forEach(function(func){var protoFunc=modelProtoFuncs[func];// don't overwrite pre-existing properties
if(!(func in String.prototype)){String.prototype[func]=protoFunc;}Model.prototype[func]=protoFunc;});var LocationModel=function(_Model){_inherits(LocationModel,_Model);function LocationModel(name){_classCallCheck(this,LocationModel);return _possibleConstructorReturn(this,Object.getPrototypeOf(LocationModel).call(this,name,'location'));}return LocationModel;}(Model);;window.LocationModel=LocationModel;var EntityModel=function(_Model2){_inherits(EntityModel,_Model2);function EntityModel(name){_classCallCheck(this,EntityModel);return _possibleConstructorReturn(this,Object.getPrototypeOf(EntityModel).call(this,name,'entity'));}return EntityModel;}(Model);;window.EntityModel=EntityModel;var PlayerModel=function(_EntityModel){_inherits(PlayerModel,_EntityModel);function PlayerModel(name){_classCallCheck(this,PlayerModel);var _this4=_possibleConstructorReturn(this,Object.getPrototypeOf(PlayerModel).call(this,name,'player'));_this4.current={};return _this4;}return PlayerModel;}(EntityModel);;window.PlayerModel=PlayerModel;var ObjectModel=function(_Model3){_inherits(ObjectModel,_Model3);function ObjectModel(name){_classCallCheck(this,ObjectModel);return _possibleConstructorReturn(this,Object.getPrototypeOf(ObjectModel).call(this,name,'object'));}return ObjectModel;}(Model);;window.ObjectModel=ObjectModel;var errorID=0;window.ErrorModel=function(_Model4){_inherits(ErrorModel,_Model4);function ErrorModel(pointOfFailure,args,errorMessage){_classCallCheck(this,ErrorModel);var _this6=_possibleConstructorReturn(this,Object.getPrototypeOf(ErrorModel).call(this,'error'+errorID,'error'));errorID++;_this6.pointOfFailure=pointOfFailure;_this6.arguments=args;_this6.errorMessage=errorMessage;State.currentWorldModelState.error[_this6.name]=_this6;_this6.time=new Date();delete _this6.children;delete _this6.descendants;delete _this6.associations;delete _this6.aliases;delete _this6.generic;delete _this6.quantity;return _this6;}return ErrorModel;}(Model);var modelConstructors={location:LocationModel,entity:EntityModel,object:ObjectModel,error:ErrorModel,model:Model};var noone=new EntityModel('noone');_worldModelTempStore.all.noone=noone;_worldModelTempStore.noone=noone;var player=new PlayerModel('player');_worldModelTempStore.all.player=player;_worldModelTempStore.entity={};_worldModelTempStore.entity.player='#player';var reserved=['noone','error',noone];})();

},{}]},{},[3])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3Vzci9sb2NhbC9saWIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsImNvbXBpbGVyLmpzIiwiY29uZmlnLmpzIiwiZ2F0ZWx5LmpzIiwiZ2xvYmFscy5qcyIsIm1hY3Jvcy5qcyIsIm1hdGNoZXMuanMiLCJtaXhlci5qcyIsIm9uc3RhcnQuanMiLCJvcHRpb25zLmpzIiwicGFyc2VyLmpzIiwicmVuZGVyZXIuanMiLCJzdGF0ZS5qcyIsInRoZW1lcy5qcyIsIndvcmxkbW9kZWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0FDQUMsYUFBVztBQUNSOztBQUVBLFdBQU8sUUFBUCxHQUFrQjtBQUNkLFlBRGMsa0JBQ1A7QUFDSCxrQkFBTSxjQUFOLENBQXFCLE1BQXJCLEdBQThCLElBQTlCO0FBQ0gsU0FIYTtBQUtkLHFCQUxjLHlCQUtBLElBTEEsRUFLTTtBQUNoQixnQkFBTSxPQUFPLEVBQWI7QUFDQSxnQkFBTSxhQUFhLE9BQU8sV0FBUCxDQUFtQixJQUFuQixFQUF5QixJQUF6QixDQUFuQjtBQUNBLGdDQUFvQixJQUFwQixFQUEwQixPQUExQixDQUFrQyxVQUFTLElBQVQsRUFBZTtBQUM3QyxzQkFBTSxpQkFBTixDQUF3QixJQUF4QixFQUE4QixLQUFLLElBQUwsQ0FBOUI7QUFDSCxhQUZEOztBQUlBLG1CQUFPLFVBQVA7QUFDSCxTQWJhO0FBZWQsZUFmYyxtQkFlTixPQWZNLEVBZUc7QUFDYixnQkFBSSxPQUFPLE9BQVg7QUFDQSxrQkFBTSxjQUFOLENBQXFCLE9BQXJCLEdBQStCLElBQS9COztBQUVBLGdCQUFJLEtBQUssQ0FBTCxDQUFKLEVBQWE7QUFDVCx1QkFBTyxRQUFRLENBQVIsQ0FBUDtBQUNIOztBQUVELGdCQUFJLENBQUMsSUFBRCxJQUFTLE9BQU8sS0FBSyxTQUFaLEtBQTJCLFdBQXhDLEVBQXFEO0FBQ2pELDBC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TSxzQkFBTixDQUE2QixLQUE3QixDQUFtQyxPQUFLLElBQXhDLFNBQ0EsT0FBSyxJQUFMLENBQVksR0FBSSxLQUFKLEVBQVosQ0FFQSxNQUFPLFFBQUssUUFBWixDQUNBLE1BQU8sUUFBSyxXQUFaLENBQ0EsTUFBTyxRQUFLLFlBQVosQ0FDQSxNQUFPLFFBQUssT0FBWixDQUNBLE1BQU8sUUFBSyxPQUFaLENBQ0EsTUFBTyxRQUFLLFFBQVosQ0FkNEMsY0FlL0MsQ0FoQkwsb0JBQTZDLEtBQTdDLEVBbUJBLEdBQU0sbUJBQW9CLENBQ3RCLFNBQVUsYUFEWSxDQUV0QixPQUFRLFdBRmMsQ0FHdEIsT0FBUSxXQUhjLENBSXRCLE1BQU8sVUFKZSxDQUt0QixNQUFPLEtBTGUsQ0FBMUIsQ0FRQSxHQUFJLE9BQVEsR0FBSSxZQUFKLENBQWdCLE9BQWhCLENBQVosQ0FDQSxxQkFBcUIsR0FBckIsQ0FBeUIsS0FBekIsQ0FBaUMsS0FBakMsQ0FDQSxxQkFBcUIsS0FBckIsQ0FBNkIsS0FBN0IsQ0FFQSxHQUFJLFFBQVMsR0FBSSxZQUFKLENBQWdCLFFBQWhCLENBQWIsQ0FDQSxxQkFBcUIsR0FBckIsQ0FBeUIsTUFBekIsQ0FBa0MsTUFBbEMsQ0FDQSxxQkFBcUIsTUFBckIsQ0FBOEIsRUFBOUIsQ0FDQSxxQkFBcUIsTUFBckIsQ0FBNEIsTUFBNUIsQ0FBcUMsU0FBckMsQ0FFQSxHQUFNLFVBQVcsQ0FDYixPQURhLENBRWIsT0FGYSxDQUdiLEtBSGEsQ0FBakIsQ0FLSCxDQXpoRkEsR0FBRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgd2luZG93LkNvbXBpbGVyID0ge1xuICAgICAgICBzdG9wKCkge1xuICAgICAgICAgICAgU3RhdGUuY29tcGlsZXJTdGF0dXMucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICBjb21waWxlU2ltcGxlKHRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhcnMgPSB7fVxuICAgICAgICAgICAgY29uc3QgcmV0dXJuVGV4dCA9IFBhcnNlci5wYXJzZVNpbXBsZSh0ZXh0LCB2YXJzKTtcbiAgICAgICAgICAgIGdldE93blByb3BlcnR5TmFtZXModmFycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgU3RhdGUuc2V0U2ltcGxlVmFyaWFibGUobmFtZSwgdmFyc1tuYW1lXSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblRleHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29tcGlsZShlbGVtZW50KSB7XG4gICAgICAgICAgICBsZXQgZWxlbSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICBTdGF0ZS5jb21waWxlclN0YXR1cy5ydW5uaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKGVsZW1bMF0pIHtcbiAgICAgICAgICAgICAgICBlbGVtID0gZWxlbWVudFswXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFlbGVtIHx8IHR5cGVvZihlbGVtLmlubmVySFRNTCkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZWxlbWVudCBhcmd1bWVudCB0byBiZSBwYXJzZWQgaXMgbm90IGEgdmFsaWQgJyArXG4gICAgICAgICAgICAgICAgICAgICdIVE1MIGVsZW1lbnQuJyxcbiAgICAgICAgICAgICAgICAgICAgZWxlbSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIVN0YXRlLmNvbXBpbGVyU3RhdHVzLnJvb3RFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgU3RhdGUuY29tcGlsZXJTdGF0dXMucm9vdEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTdGF0ZS5jb21waWxlclN0YXR1cy5lbGVtZW50ID0gZWxlbTtcbiAgICAgICAgICAgIFN0YXRlLmNvbXBpbGVyU3RhdHVzLnRleHQgPSBlbGVtLmlubmVySFRNTDtcblxuICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IENvbXBpbGVyLnByZVBhcnNlLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgIGlmICghaXNGdW5jdGlvbihDb21waWxlci5wcmVQYXJzZVtpaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBwcmVwYXJzZSBmdW5jdGlvbi4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBDb21waWxlci5wcmVQYXJzZVtpaV0oZWxlbSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKFN0YXRlLmN1cnJlbnRUaGVtZS5wcmVyZW5kZXIpKSB7XG4gICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudFRoZW1lLnByZXJlbmRlcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBQYXJzZXIucGFyc2VFbGVtZW50KGVsZW0pO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgQ29tcGlsZXIucG9zdFBhcnNlLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgIGlmICghaXNGdW5jdGlvbihDb21waWxlci5wb3N0UGFyc2VbaWldKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgcHJlcGFyc2UgZnVuY3Rpb24uJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgQ29tcGlsZXIucG9zdFBhcnNlW2lpXShlbGVtKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFN0YXRlLmNvbXBpbGVyU3RhdHVzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFN0YXRlLmNvbXBpbGVyU3RhdHVzLmVycm9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oU3RhdGUuY3VycmVudFRoZW1lLnBvc3RyZW5kZXIpKSB7XG4gICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudFRoZW1lLnBvc3RyZW5kZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgU3RhdGUuY29tcGlsZXJTdGF0dXMucGFzc2FnZSA9IG51bGw7XG4gICAgICAgICAgICBTdGF0ZS5jb21waWxlclN0YXR1cy5leHByZXNzaW9uID0gbnVsbDtcbiAgICAgICAgICAgIFN0YXRlLmNvbXBpbGVyU3RhdHVzLmVycm9ycyA9IFtdO1xuICAgICAgICAgICAgU3RhdGUuY29tcGlsZXJTdGF0dXMuZWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSBTdGF0ZS5jb21waWxlclN0YXR1cy5yb290RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIFN0YXRlLmNvbXBpbGVyU3RhdHVzLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBwcmVQYXJzZTogW1xuICAgICAgICAgICAgZnVuY3Rpb24gcmVzZXRDb21waWxlclN0YXR1cygpIHtcbiAgICAgICAgICAgICAgICBTdGF0ZS5jb21waWxlclN0YXR1cy5wYXNzYWdlID0gU3RhdGUuY3VycmVudFBhc3NhZ2VOYW1lO1xuICAgICAgICAgICAgICAgIFN0YXRlLmNvbXBpbGVyU3RhdHVzLmV4cHJlc3Npb24gPSBudWxsO1xuICAgICAgICAgICAgICAgIFN0YXRlLmNvbXBpbGVyU3RhdHVzLmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByb2Nlc3NMZXNzQW5kR3JlYXRlclRoYW5zKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IFN0YXRlLmNvbXBpbGVyU3RhdHVzLnRleHQ7XG4gICAgICAgICAgICAgICAgbGV0IHJlZ2V4ID0gLyZsdDsoPz1cXFMrKS9nO1xuICAgICAgICAgICAgICAgIGxldCBtYXRjaDtcbiAgICAgICAgICAgICAgICBsZXQgaXNPdmVycmlkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG1hdGNoID0gcmVnZXguZXhlYyh0ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dFttYXRjaC5pbmRleCArIDRdID09PSAnLScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzT3ZlcnJpZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNPdmVycmlkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0LnNsaWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2guaW5kZXggKyA0LCBtYXRjaC5pbmRleCArIDgpID09PSAnJmx0OycpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT3ZlcnJpZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyc2VyLnJlbW92ZUNoYXJhY3RlcnNBdEluZGV4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaC5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4Lmxhc3RJbmRleCAtPSA0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVnZXggPSAvJmd0Oy9nO1xuICAgICAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRbbWF0Y2guaW5kZXggLSA0XSA9PT0gJy0nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc092ZXJyaWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT3ZlcnJpZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dC5zbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoLmluZGV4ICsgNCwgbWF0Y2guaW5kZXggKyA4KSA9PT0gJyZndDsnKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc092ZXJyaWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFBhcnNlci5hZGRTdHJpbmdBdEluZGV4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcnNlci5yZW1vdmVDaGFyYWN0ZXJzQXRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2guaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaC5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleC5sYXN0SW5kZXggLT0gNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLzwoPz1cXFMrXFx8KS9nLCAnJmx0OycpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJlZ2V4ID0gL1xcfFxcUysoPikvO1xuICAgICAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShtYXRjaFswXSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFswXS5zbGljZSgwLCBtYXRjaFswXS5sZW5ndGggLSAxKSArICcmZ3Q7Jyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gcHJlc2VydmUgc2hvcnQgPD8gPz4gdGFnc1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoLzxcXD8vZywgJyZsdDs/Jyk7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFw/Pi9nLCAnPyZndDsnKTtcblxuICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gdGV4dDtcbiAgICAgICAgICAgICAgICBTdGF0ZS5jb21waWxlclN0YXR1cy50ZXh0ID0gZWxlbWVudC5pbm5lckhUTUw7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVDb21tZW50Tm9kZXMoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyZWVXYWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBOb2RlRmlsdGVyLlNIT1dfQ09NTUVOVCxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0Tm9kZTogZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVMaXN0ID0gW107XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRyZWVXYWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlTGlzdC5wdXNoKHRyZWVXYWxrZXIuY3VycmVudE5vZGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5vZGVMaXN0LmZvckVhY2goZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBmdW5jdGlvbiByZW5kZXJUcmFjZXJpZXMoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIC8vIHByb2Nlc3MgdHJhY2VyeSBjb250YWluZXJzXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2VyaWVzID0gZnJvbShcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0dy10cmFjZXJ5LXJlbmRlcicpKTtcblxuICAgICAgICAgICAgICAgIHRyYWNlcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBldmFsKCcoJyArIHRyYWNlLmlubmVySFRNTCArICcpJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnQ291bGQgbm90IGV2YWwgaW4tcGFzc2FnZSB0cmFjZXJ5IHNvdXJjZScgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKGhlYWRlcikuXFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqZWN0KSA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBncmFtbWFyID0gdHJhY2VyeS5jcmVhdGVHcmFtbWFyKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhbW1hci5hZGRNb2RpZmllcnMoYmFzZUVuZ01vZGlmaWVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmbGF0dGVuZWQgPSBncmFtbWFyLmZsYXR0ZW4oXCIjb3JpZ2luI1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlLm91dGVySFRNTCA9IGZsYXR0ZW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZnVuY3Rpb24gc3RvcmVUcmFjZXJpZXMoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNlcmllcyA9IGZyb20oXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgndHctdHJhY2VyeS1zdG9yZScpKTtcblxuICAgICAgICAgICAgICAgIHRyYWNlcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0cmFjZS5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ0EgdHctdHJhY2VyeS1zdG9yZSBlbGVtZW50IGRvZXMgbm90IGhhdmUgYSBuYW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhdHRyaWJ1dGUuIENhbm5vdCBzdG9yZSBncmFtbWFyLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2Uub3V0ZXJIVE1MID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5hZGRUcmFjZXJ5R3JhbW1hcihuYW1lLCB0cmFjZS5pbm5lckhUTUwpO1xuICAgICAgICAgICAgICAgICAgICB0cmFjZS5vdXRlckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcblxuICAgICAgICBwb3N0UGFyc2U6IFtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHB1dFN1Yklmc0luSWZCbG9ja3MoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGxldCBpZnMgPSBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCd0dy1tYXRjaFtkYXRhLW1hY3JvLXR5cGU9XCJpZlwiXScpIHx8IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBpZnMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpZkVsZW1lbnQgPSBpZnNbaWldO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID0gaWZFbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgcGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgamorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gcGFyZW50LmNoaWxkcmVuW2pqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZCA9PT0gaWZFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlID0gTWF0Y2hlcy5nZXRNYWNyb1R5cGUoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnZWxzZWlmJyB8fCB0eXBlID09PSAnZWxzZS1pZicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWZFbGVtZW50LmFwcGVuZENoaWxkKHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqai0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2Vsc2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmRWxlbWVudC5hcHBlbmRDaGlsZChwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZnVuY3Rpb24gdW5wYXJzZURlZmVycmFscyhlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmZXJyZWQgPSBmcm9tKFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3R3LW1hdGNoLmRlZmVyJykpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBkZWZlcnJlZC5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3BlblRhZyA9ICdvcGVuVGFnVGVybWluYXRvcic7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmVyID0gZGVmZXJyZWRbaWldO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NlbmRhbnRzID0gZGVmZXIucXVlcnlTZWxlY3RvckFsbCgnKicpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgamogPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoamogPCBkZXNjZW5kYW50cy5sZW5ndGggJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAoTWF0Y2hlcy5nZXREYXRhVHlwZShkZXNjZW5kYW50c1tqaiAtIDFdKSAhPT0gb3BlblRhZyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY2VuZGFudHNbamogLSAxXS5wYXJlbnROb2RlICE9PSBkZWZlcikpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpqKys7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCAkaG9va3MgPSAkKGRlZmVyKS5jaGlsZHJlbignW2RhdGEtdHlwZT1cIm9wZW5UYWdUZXJtaW5hdG9yXCJdICsgW2RhdGEtdHlwZT1cImhvb2tcIl0nKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVzY2VuZGFudHNbampdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGZyb20oZGVzY2VuZGFudHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKGpqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrayA9IDA7IGtrIDwgY2hpbGRyZW4ubGVuZ3RoOyBraysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFyc2VyLnVucGFyc2VFbGVtZW50KGNoaWxkcmVuW2trXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoJGhvb2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGRlZmVyLmxhc3RDaGlsZC50ZXh0Q29udGVudC50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dC5zdGFydHNXaXRoKCdbJykgJiYgdGV4dC5lbmRzV2l0aCgnXScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXIubGFzdENoaWxkLnRleHRDb250ZW50ID0gdGV4dC5zbGljZSgxLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVNYXRjaGVzKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBNYXRjaGVzLmhhbmRsZShlbGVtZW50KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRyYW5zbXV0ZVJlbWFpbmluZ1ZhcnMoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICRyZW1haW5pbmdWYXJzID0gJChlbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAuY2hpbGRyZW4oJ3R3LW1hdGNoW2RhdGEtdHlwZT1cInZhcmlhYmxlXCJdJyk7XG4gICAgICAgICAgICAgICAgJHJlbWFpbmluZ1ZhcnMuZWFjaChmdW5jdGlvbihfLCB2YXJpYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXliZVBvaW50ZXIgPSBzYWZlckNvbWJpbmVkUGFyc2UodmFyaWFibGUuaW5uZXJIVE1MKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFN0YXRlLmlzUG9pbnRlcihtYXliZVBvaW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZS5pbm5lckhUTUwgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KFN0YXRlLmdldFZhcmlhYmxlKG1heWJlUG9pbnRlciwgdmFyaWFibGUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlQmxvY2tTY29wZShlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgLyogQ29sbGVjdCBhbGwgdHctbWF0Y2ggbm9kZXMgY3JlYXRlZCBieSB0aGUgcGFyc2VyLCBhbmQgXG4gICAgICAgICAgICAgICAgICogcmV2ZXJzZSB0aGVpciBvcmRlciBzbyB0aGF0IGNoaWxkcmVuIGFyZSBoYW5kbGVkIGJlZm9yZSBcbiAgICAgICAgICAgICAgICAgKiBwYXJlbnRzLiAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSAkKGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCd0dy1tYXRjaCwgdHctYXJndW1lbnQnKS50b0FycmF5KCkucmV2ZXJzZSgpO1xuICAgICAgICAgICAgICAgIG1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbihtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCAkbWF0Y2ggPSAkKG1hdGNoKTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbCA9ICRtYXRjaC5odG1sKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHF1b3RlcyBmcm9tIHVuZXZhbGxlZCwgc3RpbGwtZXhpc3Rpbmcgc3RyaW5nIG1hdGNoZXMuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkbWF0Y2guYXR0cignZGF0YS1qYXZhc2NyaXB0LXR5cGUnKSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwuc3RhcnRzV2l0aCgnXCInKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbC5lbmRzV2l0aCgnXCInKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgJG1hdGNoWzBdLmlubmVySFRNTCA9IGh0bWwuc2xpY2UoMSwgLTEpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCRtYXRjaC5pcygnW2RhdGEtYmxvY2stZGVmaW5pdGlvbnNdJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZnMgPSBzYWZlckpTT05QYXJzZSgkbWF0Y2hbMF0uZGF0YXNldC5ibG9ja0RlZmluaXRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZzICYmIHR5cGVvZihkZWZzKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWF0Y2guY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKF8sIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoaWxkRGVmcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZlckpTT05QYXJzZShlbGVtZW50LmRhdGFzZXQuYmxvY2tEZWZpbml0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGREZWZzIHx8IHR5cGVvZihjaGlsZERlZnMpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGREZWZzID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eU5hbWVzKGRlZnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobmFtZSBpbiBjaGlsZERlZnMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGREZWZzW25hbWVdID0gZGVmc1tuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5kYXRhc2V0LmJsb2NrRGVmaW5pdGlvbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoY2hpbGREZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8qIEluc2VydCBlYWNoIGNoaWxkIGVsZW1lbnQgd2l0aGluIG1hdGNoIGVsZW1lbnQgYmVmb3JlIFxuICAgICAgICAgICAgICAgICAgICAgKiB0aGUgZWxlbWVudCBpdHNlbGYuICovXG4gICAgICAgICAgICAgICAgICAgICRtYXRjaC5jb250ZW50cygpLmVhY2goZnVuY3Rpb24oXywgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJG1hdGNoLmJlZm9yZShlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGFsbCBub3ctZW1wdHkgdHctbWF0Y2ggdGFncy5cbiAgICAgICAgICAgICAgICAgICAgJG1hdGNoLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgIH1cbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xuICAgIC8vJ3VzZSBzdHJpY3QnO1xuXG4gICAgd2luZG93LkNvbmZpZyA9IHtcbiAgICAgICAgcmVuZGVyVHlwZXM6IHtcbiAgICAgICAgICAgIGpvbmFoOiAnam9uYWgnLFxuICAgICAgICAgICAgc3VnYXJjdWJlOiAnc3VnYXJjdWJlJyxcbiAgICAgICAgICAgIGhhcmxvd2U6ICdzdWdhcmN1YmUnLFxuICAgICAgICB9LFxuXG4gICAgICAgIG5ld2xpbmVIYW5kbGluZ1R5cGVzOiB7XG4gICAgICAgICAgICBuZXdsaW5lVG9CcjogJ25ld2xpbmVUb0JyJyxcbiAgICAgICAgICAgIG5vTmV3bGluZXM6ICdub05ld2xpbmVzJyxcbiAgICAgICAgfSxcblxuICAgICAgICBjaHJvbm9sb2d5QnV0dG9uRGlyZWN0aW9uczoge1xuICAgICAgICAgICAgcmV3aW5kOiAncmV3aW5kJyxcbiAgICAgICAgICAgIGZhc3RGb3J3YXJkOiAnZmFzdEZvcndhcmQnLFxuICAgICAgICB9LFxuXG4gICAgICAgIGVycm9yTGV2ZWxzOiB7XG4gICAgICAgICAgICBhbGVydDogJ2FsZXJ0JyxcbiAgICAgICAgICAgIGNvbnNvbGU6ICdjb25zb2xlJyxcbiAgICAgICAgICAgIGlubGluZTogJ2lubGluZScsXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2F2ZVN0b3J5VGhlbWUobmFtZSwgdGhlbWUpIHtcbiAgICAgICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG5hbWUgYXJndW1lbnQgcGFzc2VkIHRvIENvbmZpZy5zYXZlVGhlbWUgJyArXG4gICAgICAgICAgICAgICAgICAgICdpcyBub3QgdmFsaWQgb3Igd2FzIG5vdCBwcm92aWRlZC4gQ2Fubm90IHNhdmUgJyArXG4gICAgICAgICAgICAgICAgICAgICd0aGVtZS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB0aGVtZU9iaiA9IHRoZW1lIHx8IFN0YXRlLmN1cnJlbnRUaGVtZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YodGhlbWVPYmopID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoZW1lT2JqID0gc2FmZXJKU09OUGFyc2UodGhlbWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoZW1lT2JqIHx8IHR5cGVvZih0aGVtZU9iaikgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdGhlbWUgb2JqZWN0IGlzIGVpdGhlciBub3QgYSB2YWxpZCBvYmplY3QgJyArXG4gICAgICAgICAgICAgICAgICAgICdvciBpcyBhIHN0cmluZyB0aGF0IGNhbm5vdCBiZSBwYXJzZWQgaW50byBhIHZhbGlkICcgK1xuICAgICAgICAgICAgICAgICAgICAnb2JqZWN0LiBDYW5ub3Qgc2F2ZSB0aGVtZS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGN1clRoZW1lID0gQ29uZmlnLmdldERlZmF1bHRTdG9yeVRoZW1lKCk7XG4gICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eU5hbWVzKHRoZW1lT2JqKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjdXJUaGVtZVtuYW1lXSA9IHRoZW1lT2JqW25hbWVdO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFN0YXRlLnRoZW1lU3RvcmVbbmFtZV0gPSB0aGVtZTtcbiAgICAgICAgfSxcblxuICAgICAgICBsb2FkU3RvcnlUaGVtZShuYW1lKSB7XG4gICAgICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBuYW1lIGFyZ3VtZW50IHBhc3NlZCB0byBDb25maWcubG9hZFRoZW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAnaXMgbm90IHZhbGlkIG9yIHdhcyBub3QgcHJvdmlkZWQuIENhbm5vdCBsb2FkICcgK1xuICAgICAgICAgICAgICAgICAgICAndGhlbWUuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghKG5hbWUgaW4gU3RhdGUudGhlbWVTdG9yZS5zdG9yeSkpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBuYW1lIGFyZ3VtZW50IHByb3ZpZGVkIHRvIENvbmZpZy5sb2FkdGhlbWUgJyArXG4gICAgICAgICAgICAgICAgICAgICdkb2VzIG5vdCBtYXRjaCBhbnkgY3VycmVudGx5IHNhdmVkIHRoZW1lLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICdsb2FkIHRoZW1lLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdGhlbWVPYmogPSBTdGF0ZS50aGVtZVN0b3JlLnN0b3J5W25hbWVdO1xuICAgICAgICAgICAgY29uc3QgY3VyVGhlbWUgPSBTdGF0ZS50aGVtZVN0b3JlLnN0b3J5LmRlZmF1bHQ7XG4gICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eU5hbWVzKHRoZW1lT2JqKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjdXJUaGVtZVtuYW1lXSA9IHRoZW1lT2JqW25hbWVdO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRUaGVtZSA9IHRoZW1lT2JqO1xuXG4gICAgICAgICAgICBSZW5kZXJlci5pbml0aWFsaXplVGhlbWUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBlZGl0U3RvcnlUaGVtZSh0aGVtZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZih0aGVtZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGVtZSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB0aGVtZSBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDb25maWcuZWRpdFRoZW1lIGlzIGEgc3RyaW5nLCBidXQgaXQgaXMgZW1wdHkuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdHJpbW1lZCA9IHRoZW1lLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAodHJpbW1lZCBpbiBDb25maWcucmVuZGVyVHlwZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmVuZGVyVHlwZUNoYW5nZSh0cmltbWVkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyaW1tZWQgaW4gQ29uZmlnLm5ld2xpbmVIYW5kbGluZ1R5cGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZU5ld2xpbmVUeXBlQ2hhbmdlKHRyaW1tZWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHJpbW1lZCBpbiBjaHJvbm9sb2d5QnV0dG9uRGlyZWN0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVSZXdpbmRGYXN0Rm9yd2FyZENoYW5nZSh0cmltbWVkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyaW1tZWQgaW4gQ29uZmlnLmVycm9yTGV2ZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTGV2ZWxzID0gU3RhdGUuY3VycmVudFRoZW1lLmVycm9yTGV2ZWxzO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvckxldmVsc0NoYW5nZSh0cmltbWVkLCAhZXJyb3JMZXZlbHNbdHJpbW1lZF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKHRoZW1lKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoZW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHRoZW1lIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbmZpZy5lZGl0VGhlbWUgaXMgYW4gb2JqZWN0LCBidXQgaXQgaXMgbnVsbC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoJ2xlbmd0aCcgaW4gdGhlbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJyYXlsaWtlID0gdGhlbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYXJyYXlsaWtlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdGhlbWUgYXJndW1lbnQgcHJvdmlkZWQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvIENvbmZpZy5lZGl0VGhlbWUgaXMgYW4gYXJyYXktbGlrZSBvYmplY3QsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpdHMgbGVuZ3RoIGlzIDAuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFycmF5bGlrZS5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gYXJyYXlsaWtlW2lpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5kZXggfHwgdHlwZW9mKGluZGV4KSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IGluIENvbmZpZy5yZW5kZXJUeXBlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVJlbmRlclR5cGVDaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCBpbiBDb25maWcubmV3bGluZUhhbmRsaW5nVHlwZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVOZXdsaW5lVHlwZUNoYW5nZShpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4IGluIGNocm9ub2xvZ3lCdXR0b25EaXJlY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmV3aW5kRmFzdEZvcndhcmRDaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbmRleCBpbiBDb25maWcuZXJyb3JMZXZlbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvckxldmVscyA9IFN0YXRlLmN1cnJlbnRUaGVtZS5lcnJvckxldmVscztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvckxldmVsc0NoYW5nZShpbmRleCwgIWVycm9yTGV2ZWxzW2luZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBjb25maWdPYmpPclN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLnJlbmRlclR5cGUgaW4gQ29uZmlnLnJlbmRlclR5cGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVSZW5kZXJUeXBlQ2hhbmdlKG9iai5yZW5kZXJUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBcblxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLm5ld2xpbmVIYW5kbGluZ1R5cGUgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIENvbmZpZy5uZXdsaW5lSGFuZGxpbmdUeXBlcylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlTmV3bGluZVR5cGVDaGFuZ2Uob2JqLm5ld2xpbmVIYW5kbGluZ1R5cGUpO1xuICAgICAgICAgICAgICAgICAgICB9IFxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqLnJld2luZCkgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmV3aW5kRmFzdEZvcndhcmRDaGFuZ2UoJ3Jld2luZCcsIG9iai5yZXdpbmQpO1xuICAgICAgICAgICAgICAgICAgICB9IFxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqLmZhc3RGb3J3YXJkKSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVSZXdpbmRGYXN0Rm9yd2FyZENoYW5nZSgnZmFzdGZvcndhcmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5mYXN0Rm9yd2FyZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmVycm9yTGV2ZWxzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Yob2JqLmVycm9yTGV2ZWxzKSA9PT0gJ29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqLmVycm9yTGV2ZWxzLmFsZXJ0KSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3JMZXZlbHNDaGFuZ2UoJ2FsZXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmVycm9yTGV2ZWxzLmFsZXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihvYmouZXJyb3JMZXZlbHMuY29uc29sZSkgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUVycm9yTGV2ZWxzQ2hhbmdlKCdjb25zb2xlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmVycm9yTGV2ZWxzLmNvbnNvbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG9iai5lcnJvckxldmVscy5pbmxpbmUpID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVFcnJvckxldmVsc0NoYW5nZSgnaW5saW5lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLmVycm9yTGV2ZWxzLmlubGluZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNvbmZpZ09iak9yU3RyaW5nIGFyZ3VtZW50IHBhc3NlZCB0byAnICsgXG4gICAgICAgICAgICAgICAgICAgICdDb25maWcubmV3VGhlbWUgaXMgbmVpdGhlciBhbiBvYmplY3Qgbm9yIGEgc3RyaW5nLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBlZGl0UmVuZGVyVHlwZShyZW5kZXJUeXBlKSB7XG4gICAgICAgICAgICBpZiAoIXJlbmRlclR5cGUpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSByZW5kZXJUeXBlIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAnQ29uZmlnLmVkaXRSZW5kZXJUeXBlIGFyZ3VtZW50IGlzIG5vdCBhIHN0cmluZyBvciBpcyAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2VtcHR5LiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihyZW5kZXJUeXBlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVuZGVyVHlwZSBpbiBDb25maWcucmVuZGVyVHlwZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmVuZGVyVHlwZUNoYW5nZShyZW5kZXJUeXBlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSByZW5kZXJUeXBlIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbmZpZy5lZGl0UmVuZGVyVHlwZSBpcyBhIHN0cmluZywgYnV0IGRvZXMgbm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ21hdGNoIG9uZSBvZiB0aGUgcmVuZGVyIHR5cGVzIGluICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbmZpZy5yZW5kZXJUeXBlcy4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHJlbmRlclR5cGUgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdDb25maWcuZWRpdFJlbmRlclR5cGUgaXMgbm90IGEgc3RyaW5nLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZWRpdE5ld2xpbmVUeXBlKG5ld2xpbmVUeXBlKSB7XG4gICAgICAgICAgICBpZiAoIW5ld2xpbmVUeXBlKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbmV3bGluZVR5cGUgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdDb25maWcuZWRpdE5ld2xpbmVUeXBlIGFyZ3VtZW50IGlzIG5vdCBhIHN0cmluZyBvciBpcyAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2VtcHR5LiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihuZXdsaW5lVHlwZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5ld2xpbmVUeXBlIGluIENvbmZpZy5uZXdsaW5lSGFuZGxpbmdUeXBlcykge1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVOZXdsaW5lVHlwZUNoYW5nZShuZXdsaW5lVHlwZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbmV3bGluZVR5cGUgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29uZmlnLmVkaXROZXdsaW5lVHlwZSBkb2VzIG5vdCBtYXRjaCBvbmUgb2YgdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25ld2xpbmUgdHlwZXMgaW4gQ29uZmlnLm5ld2xpbmVIYW5kbGluZ1R5cGVzLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbmV3bGluZVR5cGUgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdDb25maWcuZWRpdE5ld2xpbmVUeXBlIGlzIG5vdCBhIHN0cmluZy4gQ2Fubm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAnZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZWRpdFJld2luZCh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZih2YWx1ZSkgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhbHVlIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAnQ29uZmlnLmVkaXRSZXdpbmQgaXMgbm90IGEgYm9vbGVhbi4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoYW5kbGVSZXdpbmRGYXN0Rm9yd2FyZENoYW5nZSgncmV3aW5kJywgdmFsdWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVkaXRGYXN0Rm9yd2FyZCh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZih2YWx1ZSkgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhbHVlIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAnQ29uZmlnLmVkaXRGYXN0Rm9yd2FyZCBpcyBub3QgYSBib29sZWFuLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICdleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaGFuZGxlUmV3aW5kRmFzdEZvcndhcmRDaGFuZ2UoJ2Zhc3RGb3J3YXJkJywgdmFsdWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVkaXRFcnJvckxldmVsKGxldmVsLCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGxldmVsIGluIENvbmZpZy5lcnJvckxldmVscykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodmFsdWUpICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdmFsdWUgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29uZmlnLmVkaXRFcnJvckxldmVsIGlzIG5vdCBhIGJvb2xlYW4uIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaGFuZGxlRXJyb3JMZXZlbHNDaGFuZ2UobGV2ZWwsIHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbGV2ZWwgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdDb25maWcuZWRpdEVycm9yTGV2ZWwgZG9lcyBub3QgbWF0Y2ggb25lIG9mIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2Vycm9yTGV2ZWwgdHlwZXMgaW4gQ29uZmlnLmVycm9yTGV2ZWxzLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICdleGVjdXRlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGVkaXRTdG9yeVN0eWxlKHN0eWxlVGV4dCkge1xuICAgICAgICAgICAgaWYgKCFzdHlsZVRleHQpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBzdHlsZVRleHQgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdDb25maWcuZWRpdFN0eWxlIGlzIG5vdCBhIHZhbGlkIHN0cmluZy4gQ2Fubm90IGVkaXQgJyArXG4gICAgICAgICAgICAgICAgICAgICdzdHlsZS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihzdHlsZVRleHQpICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHN0eWxlVGV4dCBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgJ0NvbmZpZy5lZGl0U3R5bGUgaXMgbm90IG9mIHR5cGUgc3RyaW5nLiBDYW5ub3QgZWRpdCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3N0eWxlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgU3RhdGUuY3VycmVudFRoZW1lLnN0eWxlID0gc3R5bGVUZXh0O1xuICAgICAgICB9LFxuXG4gICAgICAgIGVkaXRTdG9yeVByZXJlbmRlcihwcmVyZW5kZXJUZXh0KSB7XG4gICAgICAgICAgICBpZiAoIXByZXJlbmRlclRleHQgfHwgdHlwZW9mKHByZXJlbmRlclRleHQpICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHByZXJlbmRlclRleHQgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdDb25maWcuZWRpdFByZXJlbmRlciBpcyBub3QgYSB2YWxpZCBzdHJpbmcuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2VkaXQgdGhlbWUgcHJlcmVuZGVyIGZ1bmN0aW9uLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgU3RhdGUuY3VycmVudFRoZW1lLnByZXJlbmRlclN0cmluZyA9IHByZXJlbmRlclRleHQ7XG4gICAgICAgICAgICBTdGF0ZS5jdXJyZW50VGhlbWUucHJlcmVuZGVyID0gbmV3IEZ1bmN0aW9uKHByZXJlbmRlclRleHQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGVkaXRQb3N0cmVuZGVyKHBvc3RyZW5kZXJUZXh0KSB7XG4gICAgICAgICAgICBpZiAoIXBvc3RyZW5kZXJUZXh0IHx8IHR5cGVvZihwb3N0cmVuZGVyVGV4dCkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgcG9zdHJlbmRlclRleHQgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdDb25maWcuZWRpdFBvc3RyZW5kZXIgaXMgbm90IGEgdmFsaWQgc3RyaW5nLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICdlZGl0IHRoZW1lIHBvc3RyZW5kZXIgZnVuY3Rpb24uJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTdGF0ZS5jdXJyZW50VGhlbWUucG9zdHJlbmRlclN0cmluZyA9IHBvc3RyZW5kZXJUZXh0O1xuICAgICAgICAgICAgU3RhdGUuY3VycmVudFRoZW1lLnBvc3RyZW5kZXIgPSBuZXcgRnVuY3Rpb24ocG9zdHJlbmRlclRleHQpO1xuICAgICAgICB9LFxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZVJlbmRlclR5cGVDaGFuZ2UocmVuZGVyVHlwZSkge1xuICAgICAgICBTdGF0ZS5jdXJyZW50VGhlbWUucmVuZGVyVHlwZSA9IHJlbmRlclR5cGU7XG5cbiAgICAgICAgUmVuZGVyZXIuaGFuZGxlQmFja0FuZEZvcndhcmRCdXR0b25zKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlTmV3bGluZVR5cGVDaGFuZ2UobmV3bGluZVR5cGUpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFRoZW1lID0gU3RhdGUuY3VycmVudFRoZW1lO1xuICAgICAgICBpZiAobmV3bGluZVR5cGUgPT09IGN1cnJlbnRUaGVtZS5uZXdsaW5lSGFuZGxpbmdUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50VGhlbWUubmV3bGluZUhhbmRsaW5nVHlwZSA9IG5ld2xpbmVUeXBlO1xuXG4gICAgICAgIFJlbmRlcmVyLnVuZG9OZXdsaW5lSGFuZGxpbmcoJCgndHctcGFzc2FnZS5jdXJyZW50JykpO1xuXG4gICAgICAgIGlmIChuZXdsaW5lVHlwZSA9PT0gQ29uZmlnLm5ld2xpbmVIYW5kbGluZ1R5cGVzLm5ld2xpbmVUb0JyKSB7XG4gICAgICAgICAgICBSZW5kZXJlci5uZXdsaW5lVG9CcigkY3VycmVudE5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlUmV3aW5kRmFzdEZvcndhcmRDaGFuZ2UocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0ICRjdXJyZW50Tm9kZSA9ICQoJ3R3LXBhc3NhZ2UuY3VycmVudCcpO1xuXG4gICAgICAgIGlmIChwcm9wZXJ0eSA9PT0gJ3Jld2luZCcpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICRjdXJyZW50Tm9kZS5hZGRDbGFzcygncmV3aW5kJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRjdXJyZW50Tm9kZS5hZGRDbGFzcygncmV3aW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbmdlID09PSAnZmFzdEZvcndhcmQnKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAkY3VycmVudE5vZGUuYWRkQ2xhc3MoJ2Zhc3RGb3J3YXJkJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICRjdXJyZW50Tm9kZS5yZW1vdmVDbGFzcygnZmFzdEZvcndhcmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFN0YXRlLmN1cnJlbnRUaGVtZS5yZXdpbmQgPSBjaGFuZ2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlRXJyb3JMZXZlbHNDaGFuZ2UobGV2ZWwsIHZhbHVlKSB7XG4gICAgICAgIFN0YXRlLmN1cnJlbnRUaGVtZS5lcnJvckxldmVsc1tsZXZlbF0gPSB2YWx1ZTtcbiAgICB9XG59KCkpOyIsInJlcXVpcmUoJy4vZ2xvYmFscy5qcycpO1xucmVxdWlyZSgnLi90aGVtZXMuanMnKTtcbnJlcXVpcmUoJy4vY29uZmlnLmpzJyk7XG5yZXF1aXJlKCcuL3N0YXRlLmpzJyk7XG5yZXF1aXJlKCcuL21hY3Jvcy5qcycpO1xucmVxdWlyZSgnLi93b3JsZG1vZGVsLmpzJyk7XG5yZXF1aXJlKCcuL3BhcnNlci5qcycpO1xucmVxdWlyZSgnLi9tYXRjaGVzLmpzJyk7XG5yZXF1aXJlKCcuL2NvbXBpbGVyLmpzJyk7XG5yZXF1aXJlKCcuL3JlbmRlcmVyLmpzJyk7XG5yZXF1aXJlKCcuL29wdGlvbnMuanMnKTtcbnJlcXVpcmUoJy4vbWl4ZXIuanMnKTtcbnJlcXVpcmUoJy4vb25zdGFydC5qcycpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgXG4gICAgY29uc3QgJCA9IHdpbmRvdy5qUXVlcnk7XG5cbiAgICAvLyBQcm9kdWN0aW9uIHN0ZXBzIG9mIEVDTUEtMjYyLCBFZGl0aW9uIDYsIDIyLjEuMi4xXG4gICAgLy8gUmVmZXJlbmNlOiBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtYXJyYXkuZnJvbVxuICAgIGlmICghd2luZG93LkFycmF5LmZyb20pIHtcbiAgICAgIHdpbmRvdy5BcnJheS5mcm9tID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbiAgICAgICAgdmFyIGlzQ2FsbGFibGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nIHx8IHRvU3RyLmNhbGwoZm4pID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgdG9JbnRlZ2VyID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIG51bWJlciA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgaWYgKGlzTmFOKG51bWJlcikpIHsgcmV0dXJuIDA7IH1cbiAgICAgICAgICBpZiAobnVtYmVyID09PSAwIHx8ICFpc0Zpbml0ZShudW1iZXIpKSB7IHJldHVybiBudW1iZXI7IH1cbiAgICAgICAgICByZXR1cm4gKG51bWJlciA+IDAgPyAxIDogLTEpICogTWF0aC5mbG9vcihNYXRoLmFicyhudW1iZXIpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG1heFNhZmVJbnRlZ2VyID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcbiAgICAgICAgdmFyIHRvTGVuZ3RoID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgdmFyIGxlbiA9IHRvSW50ZWdlcih2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGxlbiwgMCksIG1heFNhZmVJbnRlZ2VyKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUaGUgbGVuZ3RoIHByb3BlcnR5IG9mIHRoZSBmcm9tIG1ldGhvZCBpcyAxLlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZnJvbShhcnJheUxpa2UvKiwgbWFwRm4sIHRoaXNBcmcgKi8pIHtcbiAgICAgICAgICAvLyAxLiBMZXQgQyBiZSB0aGUgdGhpcyB2YWx1ZS5cbiAgICAgICAgICB2YXIgQyA9IHRoaXM7XG5cbiAgICAgICAgICAvLyAyLiBMZXQgaXRlbXMgYmUgVG9PYmplY3QoYXJyYXlMaWtlKS5cbiAgICAgICAgICB2YXIgaXRlbXMgPSBPYmplY3QoYXJyYXlMaWtlKTtcblxuICAgICAgICAgIC8vIDMuIFJldHVybklmQWJydXB0KGl0ZW1zKS5cbiAgICAgICAgICBpZiAoYXJyYXlMaWtlID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBcnJheS5mcm9tIHJlcXVpcmVzIGFuIGFycmF5LWxpa2Ugb2JqZWN0IC0gbm90IG51bGwgb3IgdW5kZWZpbmVkXCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIDQuIElmIG1hcGZuIGlzIHVuZGVmaW5lZCwgdGhlbiBsZXQgbWFwcGluZyBiZSBmYWxzZS5cbiAgICAgICAgICB2YXIgbWFwRm4gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHZvaWQgdW5kZWZpbmVkO1xuICAgICAgICAgIHZhciBUO1xuICAgICAgICAgIGlmICh0eXBlb2YgbWFwRm4gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyA1LiBlbHNlXG4gICAgICAgICAgICAvLyA1LiBhIElmIElzQ2FsbGFibGUobWFwZm4pIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG4gICAgICAgICAgICBpZiAoIWlzQ2FsbGFibGUobWFwRm4pKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5LmZyb206IHdoZW4gcHJvdmlkZWQsIHRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDUuIGIuIElmIHRoaXNBcmcgd2FzIHN1cHBsaWVkLCBsZXQgVCBiZSB0aGlzQXJnOyBlbHNlIGxldCBUIGJlIHVuZGVmaW5lZC5cbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICBUID0gYXJndW1lbnRzWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIDEwLiBMZXQgbGVuVmFsdWUgYmUgR2V0KGl0ZW1zLCBcImxlbmd0aFwiKS5cbiAgICAgICAgICAvLyAxMS4gTGV0IGxlbiBiZSBUb0xlbmd0aChsZW5WYWx1ZSkuXG4gICAgICAgICAgdmFyIGxlbiA9IHRvTGVuZ3RoKGl0ZW1zLmxlbmd0aCk7XG5cbiAgICAgICAgICAvLyAxMy4gSWYgSXNDb25zdHJ1Y3RvcihDKSBpcyB0cnVlLCB0aGVuXG4gICAgICAgICAgLy8gMTMuIGEuIExldCBBIGJlIHRoZSByZXN1bHQgb2YgY2FsbGluZyB0aGUgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2Qgb2YgQyB3aXRoIGFuIGFyZ3VtZW50IGxpc3QgY29udGFpbmluZyB0aGUgc2luZ2xlIGl0ZW0gbGVuLlxuICAgICAgICAgIC8vIDE0LiBhLiBFbHNlLCBMZXQgQSBiZSBBcnJheUNyZWF0ZShsZW4pLlxuICAgICAgICAgIHZhciBBID0gaXNDYWxsYWJsZShDKSA/IE9iamVjdChuZXcgQyhsZW4pKSA6IG5ldyBBcnJheShsZW4pO1xuXG4gICAgICAgICAgLy8gMTYuIExldCBrIGJlIDAuXG4gICAgICAgICAgdmFyIGsgPSAwO1xuICAgICAgICAgIC8vIDE3LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW7igKYgKGFsc28gc3RlcHMgYSAtIGgpXG4gICAgICAgICAgdmFyIGtWYWx1ZTtcbiAgICAgICAgICB3aGlsZSAoayA8IGxlbikge1xuICAgICAgICAgICAga1ZhbHVlID0gaXRlbXNba107XG4gICAgICAgICAgICBpZiAobWFwRm4pIHtcbiAgICAgICAgICAgICAgQVtrXSA9IHR5cGVvZiBUID09PSAndW5kZWZpbmVkJyA/IG1hcEZuKGtWYWx1ZSwgaykgOiBtYXBGbi5jYWxsKFQsIGtWYWx1ZSwgayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBBW2tdID0ga1ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgayArPSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyAxOC4gTGV0IHB1dFN0YXR1cyBiZSBQdXQoQSwgXCJsZW5ndGhcIiwgbGVuLCB0cnVlKS5cbiAgICAgICAgICBBLmxlbmd0aCA9IGxlbjtcbiAgICAgICAgICAvLyAyMC4gUmV0dXJuIEEuXG4gICAgICAgICAgcmV0dXJuIEE7XG4gICAgICAgIH07XG4gICAgICB9KCkpO1xuICAgIH1cblxuICAgIHdpbmRvdy53aWRlQWxlcnQgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIGlmIChTdGF0ZS5jdXJyZW50VGhlbWUuZXJyb3JMZXZlbHMuY29uc29sZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgICAgICAgICBjb25zb2xlLnRyYWNlKCdzdGFjayB0cmFjZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFN0YXRlLmN1cnJlbnRUaGVtZS5lcnJvckxldmVscy5hbGVydCkge1xuICAgICAgICAgICAgd2luZG93LmFsZXJ0KG1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgU3RhdGUuY29tcGlsZXJTdGF0dXMuZXJyb3JzLnB1c2gobWVzc2FnZSk7XG5cbiAgICAgICAgaWYgKFN0YXRlLmN1cnJlbnRUaGVtZS5kZWJ1Zy5mYWlsSGFyZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICB3aW5kb3cuZ2F0ZWx5TG9nID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICBpZiAoU3RhdGUuY3VycmVudFRoZW1lLmVycm9yTGV2ZWxzLmNvbnNvbGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgICAgICAgY29uc29sZS50cmFjZSgnc3RhY2sgdHJhY2UnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFN0YXRlLmNvbXBpbGVyU3RhdHVzLmVycm9ycy5wdXNoKG1lc3NhZ2UpO1xuXG4gICAgICAgIGlmIChTdGF0ZS5jdXJyZW50VGhlbWUuZGVidWcuZmFpbEhhcmQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuZ2F0ZWx5QWxlcnQgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIGlmIChTdGF0ZS5jdXJyZW50VGhlbWUuZXJyb3JMZXZlbHMuYWxlcnQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hbGVydChtZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFN0YXRlLmNvbXBpbGVyU3RhdHVzLmVycm9ycy5wdXNoKG1lc3NhZ2UpO1xuXG4gICAgICAgIGlmIChTdGF0ZS5jdXJyZW50VGhlbWUuZGVidWcuZmFpbEhhcmQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdpbmRvdy5ub29wID0gZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAgICAgLyogZG8gbm90aGluZyAqL1xuICAgIH07XG5cbiAgICB3aW5kb3cuZnJvbSA9IEFycmF5LmZyb207XG5cbiAgICB3aW5kb3cuZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xuXG4gICAgd2luZG93LiRzdG9yeWRhdGEgPSAkKCd0dy1zdG9yeWRhdGEnKTtcblxuICAgIHdpbmRvdy4kc3RhcnRQYXNzYWdlID0gJCgndHctcGFzc2FnZWRhdGFbcGlkPVwiJyArXG4gICAgICAgICRzdG9yeWRhdGEuYXR0cignc3RhcnROb2RlJykgKyAnXCJdJyk7XG5cbiAgICB3aW5kb3cuaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHRvQ2hlY2spIHtcbiAgICAgICAgcmV0dXJuIHRvQ2hlY2sgJiYge30udG9TdHJpbmcuY2FsbCh0b0NoZWNrKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgICB9O1xuXG4gICAgd2luZG93LmlzTm9kZSA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICBsZXQgbm9kZTtcbiAgICAgICAgaWYgKHR5cGVvZihOb2RlKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIG5vZGUgPSB0YXJnZXQgaW5zdGFuY2VvZiBOb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZSA9IHRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBub2RlICYmXG4gICAgICAgICAgICB0eXBlb2YodGFyZ2V0KSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIHR5cGVvZih0YXJnZXQubm9kZVR5cGUpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgdHlwZW9mKHRhcmdldC5ub2RlTmFtZSkgPT09ICdzdHJpbmcnO1xuICAgIH1cblxuICAgIC8vUmV0dXJucyB0cnVlIGlmIGl0IGlzIGEgRE9NIGVsZW1lbnQgICAgXG4gICAgd2luZG93LmlzRWxlbWVudCA9IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICBsZXQgZWxlbTtcbiAgICAgICAgaWYgKHR5cGVvZihIVE1MRWxlbWVudCkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBlbGVtID0gdGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtID0gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZWxlbSAmJlxuICAgICAgICAgICAgdHlwZW9mKHRhcmdldCkgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIHRhcmdldCAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgdGFyZ2V0Lm5vZGVUeXBlID09PSAxICYmXG4gICAgICAgICAgICB0eXBlb2YodGFyZ2V0Lm5vZGVOYW1lKSA9PT0gJ3N0cmluZyc7XG4gICAgfVxuICAgICAgICBcbiAgICB3aW5kb3cuc2FmZXJFdmFsID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZXZhbChzdHIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmFsKFxuICAgICAgICAgICAgICAgICAgICBzdHIucmVwbGFjZSgvXFxuL2csICdcXFxcbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx0L2csICdcXFxcdCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJnF1b3Q7L2csICdcIicpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5zYWZlckV2YWxUb1N0cmluZyA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICBpZiAodHlwZW9mKHN0cikgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGV2YWxsZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV2YWxsZWQgPSBldmFsKHN0cik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZXZhbGxlZCA9IGV2YWwoXG4gICAgICAgICAgICAgICAgICAgIHN0ci5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHQvZywgJ1xcXFx0JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mcXVvdDsvZywgJ1wiJylcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAvKiBkbyBub3RoaW5nICovIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YoZXZhbGxlZCkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZhbGxlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93LnNhZmVySlNPTlBhcnNlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIGlmICh0eXBlb2Yoc3RyKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShcbiAgICAgICAgICAgICAgICAgICAgc3RyLnJlcGxhY2UoL1xcbi9nLCAnXFxcXG4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCAnXFxcXHQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyZxdW90Oy9nLCAnXCInKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuc2FmZXJDb21iaW5lZFBhcnNlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICBzdHIucmVwbGFjZSgvXFxuL2csICdcXFxcbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx0L2csICdcXFxcdCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJnF1b3Q7L2csICdcIicpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZhbChzdHIpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmFsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ci5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCAnXFxcXHQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJnF1b3Q7L2csICdcIicpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5nZXRBbGxDb250YWluZWRUZXh0Tm9kZXMgPSBmdW5jdGlvbihub2RlT3JTZWxlY3Rvcikge1xuICAgICAgICBpZiAodHlwZW9mKG5vZGVPclNlbGVjdG9yKSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgICAgIG5vZGVPclNlbGVjdG9yID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBub2RlT3JTZWxlY3RvciBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgJ2dldEFsbENvbnRhaW5lZFRleHROb2RlcyBpcyBub3QgdmFsaWQuICcgK1xuICAgICAgICAgICAgICAgICdDYW5ub3QgZ2V0IHRleHQgbm9kZXMuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgJG5vZGUgPSAkKG5vZGVPclNlbGVjdG9yKTtcbiAgICAgICAgaWYgKCEkbm9kZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG5vZGVPclNlbGVjdG9yIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAnZ2V0QWxsQ29udGFpbmVkVGV4dE5vZGVzIGlzIG5vdCB2YWxpZCwgb3IgaXMgJyArXG4gICAgICAgICAgICAgICAgJ25vdCBhIHNlbGVjdG9yIHJlcHJlc2VudGF0aXZlIG9mIGFuIGV4aXN0aW5nIGVsZW1lbnQuICcgK1xuICAgICAgICAgICAgICAgICdDYW5ub3QgZ2V0IHRleHQgbm9kZXMuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJG5vZGUuZmluZCgnKicpXG4gICAgICAgICAgICAuY29udGVudHMoKVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihfLCBub2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDMgJiZcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnRhZ05hbWUgIT09ICdTQ1JJUFQnICYmXG4gICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS50YWdOYW1lICE9PSAnU1RZTEUnO1xuICAgICAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5zYXZlRmlsZSA9IGZ1bmN0aW9uKGZpbGVOYW1lLCBleHRlbnNpb24sIHRleHRPckVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgJGEgPSAkKCc8YSBjbGFzcz1cImRvd25sb2FkZXJcIj48L2E+Jyk7XG4gICAgICAgICQoJ2hlYWQnKS5hcHBlbmQoJGEpO1xuXG4gICAgICAgIGxldCB0ZXh0O1xuICAgICAgICBpZiAodHlwZW9mKHRleHRPckVsZW1lbnQpID09PSAnc3RyaW5nJyAmJiB0ZXh0ICE9PSAnJykge1xuICAgICAgICAgICAgdGV4dCA9IHRleHRPckVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KHRleHRPckVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGV4dE9yRWxlbWVudC5vdXRlckhUTUw7XG4gICAgICAgIH0gZWxzZSBpZiAodGV4dE9yRWxlbWVudCAmJlxuICAgICAgICAgICAgdGV4dE9yRWxlbWVudFswXSAmJlxuICAgICAgICAgICAgaXNFbGVtZW50KHRleHRPckVsZW1lbnRbMF0pKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0ID0gdGV4dE9yRWxlbWVudFswXS5vdXRlckhUTUw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBodG1sID0gJCgnaHRtbCcpWzBdLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yID0gJ3R3LXNhdmUjZGVmYXVsdFNhdmUsIGEuZG93bmxvYWRlcic7XG4gICAgICAgICAgICAkKGh0bWwpLmZpbmQoc2VsZWN0b3IpLnJlbW92ZSgpO1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVTdHIgPSBKU09OLnN0cmluZ2lmeShTdGF0ZSk7XG5cbiAgICAgICAgICAgIGNvbnN0ICRzYXZlID0gJCgnPHR3LXNhdmUgaWQ9XCJkZWZhdWx0U2F2ZVwiPicgK1xuICAgICAgICAgICAgICAgIHN0YXRlU3RyICtcbiAgICAgICAgICAgICAgICAnPC90dy1zYXZlPicpO1xuICAgICAgICAgICAgaHRtbC5xdWVyeVNlbGVjdG9yKCdoZWFkJykuYXBwZW5kQ2hpbGQoJHNhdmVbMF0pO1xuXG4gICAgICAgICAgICBjb25zdCBzdG9yeWRhdGEgPSBodG1sLnF1ZXJ5U2VsZWN0b3IoJ3R3LXN0b3J5ZGF0YScpO1xuXG4gICAgICAgICAgICBzdG9yeWRhdGEuc2V0QXR0cmlidXRlKCdmbGFncycsICdzYXZlJyk7XG4gICAgICAgICAgICB0ZXh0ID0gaHRtbC5vdXRlckhUTUw7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3RleHRdLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdvY3RldC9zdHJlYW0nLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG4gICAgICAgICRhWzBdLmhyZWYgPSB1cmw7XG4gICAgICAgIGlmICghZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIGZpbGVOYW1lID0gJ3NhdmUnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHRlbnNpb24pIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9ICcuJyArIGV4dGVuc2lvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9ICcnO1xuICAgICAgICB9XG4gICAgICAgICRhWzBdLmRvd25sb2FkID0gZmlsZU5hbWUgKyBleHRlbnNpb247XG4gICAgICAgICRhWzBdLmNsaWNrKCk7XG4gICAgICAgICRhLnJlbW92ZSgpO1xuXG4gICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5pc0VsZW1lbnRSYXdTdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gJChzdHIpWzBdICE9PSAkKHN0cilbMF07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGNvbnN0IGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgICBjb25zdCBmcm9tID0gQXJyYXkuZnJvbTtcblxuICAgIGNvbnN0IGVxdWFsVHlwZXMgPSBbXG4gICAgICAgICc9JyxcbiAgICAgICAgJys9JyxcbiAgICAgICAgJy09JyxcbiAgICAgICAgJyo9JyxcbiAgICAgICAgJy89JyxcbiAgICAgICAgJyU9JyxcbiAgICBdO1xuXG4gICAgd2luZG93Lk1hY3JvID0ge1xuICAgICAgICBoYW5kbGVySUQ6IDAsXG5cbiAgICAgICAgZ2xvYmFsOiB7XG4gICAgICAgICAgICBuYW1lc3BhY2U6ICdnbG9iYWwnLFxuICAgICAgICAgICAgaGFuZGxlcjogbnVsbCxcbiAgICAgICAgfSxcblxuICAgICAgICBnZXROZXdIYW5kbGVySWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVySUQrKztcbiAgICAgICAgfSxcblxuICAgICAgICBoYXMobmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ05vIG5hbWUgcHJvdmlkZWQgdG8gTWFjcm8uaGFzLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG5zVmFsO1xuICAgICAgICAgICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAgIG5zVmFsID0gbmFtZXNwYWNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuc1ZhbCA9ICdnbG9iYWwnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShuc1ZhbCBpbiBNYWNybykpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBuYW1lc3BhY2UgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdNYWNyby5oYXMsICcgKyBuc1ZhbCArICcsIGRvZXMgbm90IGV4aXN0IGluICcgK1xuICAgICAgICAgICAgICAgICAgICAndGhlIE1hY3JvIG9iamVjdC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG5zID0gTWFjcm9bbnNWYWxdO1xuICAgICAgICAgICAgaWYgKCFucyB8fCB0eXBlb2YobnMpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhbHVlIGF0IE1hY3JvLicgKyBuc1ZhbCArICcgaXMgJyArXG4gICAgICAgICAgICAgICAgICAgICdub3QgYSB2YWxpZCBvYmplY3QuIENhbm5vdCBleGVjdXRlIE1hY3JvLmhhcy4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKG5hbWUgaW4gbnMpKSB7XG4gICAgICAgICAgICAgICAgZ2F0ZWx5TG9nKCdUaGUgbmFtZSBhcmd1bWVudCBwcm92aWRlZCB0byBNYWNyby5oYXMsICcgKyBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgJywgZG9lcyBub3QgZXhpc3QgaW4gTWFjcm8uJyArIG5zVmFsICsgJy4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG1hY3JvID0gbnNbbmFtZV07XG4gICAgICAgICAgICBpZiAoIW1hY3JvIHx8IHR5cGVvZihtYWNybykgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgZ2F0ZWx5TG9nKCdUaGUgdmFsdWUgYXQgTWFjcm8uJyArIG5zVmFsICsgJy4nICsgbmFtZSArICcgaXMgJyArXG4gICAgICAgICAgICAgICAgICAgICdub3QgYSB2YWxpZCBvYmplY3QuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghKCdoYW5kbGVyJyBpbiBtYWNybykpIHtcbiAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1RoZSB2YWx1ZSBhdCBNYWNyby4nICsgbnNWYWwgKyAnLicgKyBuYW1lICsgXG4gICAgICAgICAgICAgICAgICAgICdkb2VzIG5vdCBoYXZlIGEgaGFuZGxlciBwcm9wZXJ0eS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFtYWNyby5oYW5kbGVyIHx8ICFpc0Z1bmN0aW9uKG1hY3JvLmhhbmRsZXIpKSB7XG4gICAgICAgICAgICAgICAgZ2F0ZWx5TG9nKCdUaGUgdmFsdWUgYXQgTWFjcm8uJyArIG5zVmFsICsgJy4nICsgbmFtZSArXG4gICAgICAgICAgICAgICAgICAgICdoYXMgYSBoYW5kbGVyIHByb3BlcnR5LCBidXQgaXQgaXMgbm90IGEgdmFsaWQgJyArXG4gICAgICAgICAgICAgICAgICAgICdKYXZhc2NyaXB0IGZ1bmN0aW9uLicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkKG5hbWUsIGRlZk9iaiwgbmFtZXNwYWNlLCBkb092ZXJyaWRlLCBub0ZyZWV6ZSkge1xuICAgICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbmFtZSBhcmd1bWVudCBtdXN0IGJlIHByb3ZpZGVkIHRvIHRoZSBhZGQgJyArXG4gICAgICAgICAgICAgICAgICAgICdmdW5jdGlvbi4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFkZWZPYmogfHwgIWlzRnVuY3Rpb24oZGVmT2JqLmhhbmRsZXIpKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZGVmT2JqIG11c3QgZXhpc3QgYW5kIG11c3QgaGF2ZSBhIHZhbGlkICcgK1xuICAgICAgICAgICAgICAgICAgICAnaGFuZGxlciBwcm9wZXJ0eS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlZk9iai5oYW5kbGVyID0gT2JqZWN0LmZyZWV6ZShkZWZPYmouaGFuZGxlcik7XG5cbiAgICAgICAgICAgIGxldCBuYW1lc3BhY2VPYmo7XG4gICAgICAgICAgICBpZiAoIW5hbWVzcGFjZSB8fFxuICAgICAgICAgICAgICAgICh0eXBlb2YobmFtZXNwYWNlKSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlLnRvTG93ZXJDYXNlKCkgPT09ICdnbG9iYWwnKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2VPYmogPSBNYWNyby5nbG9iYWw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCEobmFtZXNwYWNlIGluIE1hY3JvKSkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gcHJvcGVydHkgaW4gdGhlIE1hY3JvIG9iamVjdCB3aXRoICcgK1xuICAgICAgICAgICAgICAgICAgICAndGhlIG5hbWUgJyArIG5hbWVzcGFjZSArICcuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoISgnbmFtZXNwYWNlJyBpbiBNYWNyb1tuYW1lc3BhY2VdKSkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnQW4gb2JqZWN0IHdhcyBmb3VuZCBpbiB0aGUgTWFjcm8gb2JqZWN0ICcgK1xuICAgICAgICAgICAgICAgICAgICAnd2l0aCBhIG5hbWUgbWF0Y2hpbmcgdGhlIG5hbWVzcGFjZSBhcmd1bWVudCwgJyArXG4gICAgICAgICAgICAgICAgICAgIG5hbWVzcGFjZSArICcsIGJ1dCBpdCBoYXMgbm8gbmFtZXNwYWNlIHByb3BlcnR5LCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FuZCBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgYSBuYW1lc3BhY2UuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlT2JqID0gTWFjcm9bbmFtZXNwYWNlXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5hbWUgaW4gbmFtZXNwYWNlT2JqICYmXG4gICAgICAgICAgICAgICAgZG9PdmVycmlkZSAhPT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICh0eXBlb2YoZG9PdmVycmlkZSkgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAgICAgICAgIGRvT3ZlcnJpZGUudG9Mb3dlckNhc2UoKSAhPT0gJ292ZXJyaWRlJykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgJyArIG5hbWVzcGFjZU9iai5uYW1lc3BhY2UgKyAnIG9iamVjdCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FscmVhZHkgY29udGFpbnMgYSAnICsgbmFtZSArICcgb2JqZWN0LiBJZiB5b3Ugd2FudCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3RvIG92ZXJ3cml0ZSBhIHByZS1leGlzdGluZyBtYWNybywgcGxlYXNlIHByb3ZpZGUgYSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2RvT3ZlcnJpZGUgYXJndW1lbnQgdG8gTWFjcm8uYWRkIHdpdGggYSB2YWx1ZSBvZiB0cnVlICcgK1xuICAgICAgICAgICAgICAgICAgICAnb3IgXCJvdmVycmlkZVwiLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vRnJlZXplID09PSB0cnVlIHx8XG4gICAgICAgICAgICAgICAgKHR5cGVvZihub0ZyZWV6ZSkgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgIG5vRnJlZXplLnRvTG93ZXJDYXNlKCkgPT09ICdub2ZyZWV6ZScpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWVzcGFjZU9ialtuYW1lXSA9IGRlZk9iajtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlT2JqW25hbWVdID0gT2JqZWN0LmZyZWV6ZShkZWZPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFkZE5hbWVzcGFjZShuYW1lLCBtYWNyb3MsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YobmFtZSkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbmFtZSBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmFkZE5hbWVzcGFjZSBpcyBub3QgYSBzdHJpbmcuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBuYW1lIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAnTWFjcm8uYWRkTmFtZXNwYWNlIGlzIGFuIGVtcHR5IHN0cmluZy4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgaGFuZGxlclZhbDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YoaGFuZGxlcikgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlclZhbCA9IGhhbmRsZXI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdBIGhhbmRsZXIgYXJndW1lbnQgd2FzIHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmFkZE5hbWVzcGFjZSwgYnV0IGRvZXMgbm90IGFwcGVhciB0byBiZSBhICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2Z1bmN0aW9uLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IG5hbWUsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoaGFuZGxlclZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXNbbmFtZV0uaGFuZGxlciA9IGhhbmRsZXJWYWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtYWNyb3MgJiYgdHlwZW9mKG1hY3JvcykgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbWFjcm9OYW1lIGluIG1hY3Jvcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdmFsaWRhdGlvbiBoZXJlP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZChtYWNyb05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNyb3NbbWFjcm9OYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBkZWxldGUobmFtZSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXNbbmFtZV07XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIE1hY3JvLmFkZCgnc2V0JyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBzZXQgbWFjcm8gY2Fubm90IGJlIGVtcHR5IScpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhcmd1bWVudHNbaWldKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGRhdGEgdHlwZSBvZiBlYWNoIGFyZ3VtZW50IHBhc3NlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG8gTWFjcm8uc2V0IG11c3QgYmUgYSBzdHJpbmcuIFNraXBwaW5nICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0cmlwbGV0LicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhcmcgPSBhcmd1bWVudHNbaWldO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0SW5kZXggPSBhcmcuc2VhcmNoKC8oXFwrPXwtPXxcXCo9fFxcLz18JT18PSkvKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ05vIGVxdWFscyB0eXBlIHdhcyBmb3VuZCBpbiB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FyZ3VtZW50LiBTa2lwcGluZyB0cmlwbGV0LicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQgdHJpcGxldCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJnW3NwbGl0SW5kZXggKyAxXSA9PT0gJz0nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlwbGV0LnB1c2goYXJnLnNsaWNlKDAsIHNwbGl0SW5kZXgpLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlwbGV0LnB1c2goYXJnLnNsaWNlKHNwbGl0SW5kZXgsIHNwbGl0SW5kZXggKyAyKS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJpcGxldC5wdXNoKGFyZy5zbGljZShzcGxpdEluZGV4ICsgMiwgYXJnLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJpcGxldC5wdXNoKGFyZy5zbGljZSgwLCBzcGxpdEluZGV4KS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJpcGxldC5wdXNoKGFyZ1tzcGxpdEluZGV4XS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJpcGxldC5wdXNoKGFyZy5zbGljZShzcGxpdEluZGV4ICsgMSwgYXJnLmxlbmd0aCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmlwbGV0WzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZXJlIGlzIG5vIHZhcmlhYmxlIGluIHRoZSBzZXQgbWFjcm8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3dpdGhpbiB0aGUgdHJpcGxldCBhdCBwb3NpdGlvbiAnICsgaWkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL1ssLidcIigpPD5cXHNdLy50ZXN0KHRyaXBsZXRbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ0EgZGlzYWxsb3dlZCBjaGFyYWN0ZXIgd2FzIHVzZWQgaW4gdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YXJpYWJsZSBuYW1lLCAnICsgdHJpcGxldFswXSArICcuIFRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGlzYWxsb3dlZCBjaGFyYWN0ZXJzIGFyZSAsIChjb21tYSksIC4sIFxcJywgXCIsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcoLCApLCA8LCA+LCBvciBhbnkgd2hpdGVzcGFjZSBjaGFyYWN0ZXIuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXF1YWxUeXBlcy5pbmRleE9mKHRyaXBsZXRbMV0pID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgc2Vjb25kIGNvbXBvbmVudCBpbiBlYWNoIHBhcnQgb2YgYSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2V0IGFzc2lnbm1lbnQgbXVzdCBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVhbFR5cGVzLmpvaW4oJ1xcbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudFJhd1N0cmluZyh0cmlwbGV0WzJdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJpcGxldFsyXSA9ICQodHJpcGxldFsyXSlbMF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IHNhZmVyQ29tYmluZWRQYXJzZSh0cmlwbGV0WzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodGVtcCkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpcGxldFsyXSA9IHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodHJpcGxldFswXVswXSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlwbGV0WzBdID0gdHJpcGxldFswXS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05vZGUodHJpcGxldFsyXSkgfHwgaXNFbGVtZW50KHRyaXBsZXRbMl0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlwbGV0WzJdID0gdHJpcGxldFsyXS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLnNldFZhcmlhYmxlKHRyaXBsZXRbMF0sIHRyaXBsZXRbMV0sIHRyaXBsZXRbMl0sIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcblxuICAgIE1hY3JvLmFkZCgnbGV0JyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBsZXQgbWFjcm8gY2Fubm90IGJlIGVtcHR5IScpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhcmd1bWVudHNbaWldKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGRhdGEgdHlwZSBvZiBlYWNoIGFyZ3VtZW50IHBhc3NlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG8gTWFjcm8uZ2xvYmFsLmxldCBtdXN0IGJlIGEgc3RyaW5nLiBTa2lwcGluZyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHJpcGxldC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJnID0gYXJndW1lbnRzW2lpXTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGxpdEluZGV4ID0gYXJnLnNlYXJjaCgvKFxcKz18LT18XFwqPXxcXC89fCU9fD0pLyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdObyBlcXVhbHMgdHlwZSB3YXMgZm91bmQgaW4gdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmd1bWVudC4gU2tpcHBpbmcgdHJpcGxldC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHRyaXBsZXQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ1tzcGxpdEluZGV4ICsgMV0gPT09ICc9Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJpcGxldC5wdXNoKGFyZy5zbGljZSgwLCBzcGxpdEluZGV4KS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJpcGxldC5wdXNoKGFyZy5zbGljZShzcGxpdEluZGV4LCBzcGxpdEluZGV4ICsgMikudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaXBsZXQucHVzaChhcmcuc2xpY2Uoc3BsaXRJbmRleCArIDIsIGFyZy5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaXBsZXQucHVzaChhcmcuc2xpY2UoMCwgc3BsaXRJbmRleCkudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaXBsZXQucHVzaChhcmdbc3BsaXRJbmRleF0udHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaXBsZXQucHVzaChhcmcuc2xpY2Uoc3BsaXRJbmRleCArIDEsIGFyZy5sZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJpcGxldFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGVyZSBpcyBubyB2YXJpYWJsZSBpbiB0aGUgc2V0IG1hY3JvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd3aXRoaW4gdGhlIHRyaXBsZXQgYXQgcG9zaXRpb24gJyArIGlpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9bLC4nXCIoKTw+XFxzXS8udGVzdCh0cmlwbGV0WzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdBIGRpc2FsbG93ZWQgY2hhcmFjdGVyIHdhcyB1c2VkIGluIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmFyaWFibGUgbmFtZSwgJyArIHRyaXBsZXRbMF0gKyAnLiBUaGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc2FsbG93ZWQgY2hhcmFjdGVycyBhcmUgLCAoY29tbWEpLCAuLCBcXCcsIFwiLCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnKCwgKSwgPCwgPiwgb3IgYW55IHdoaXRlc3BhY2UgY2hhcmFjdGVyLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVxdWFsVHlwZXMuaW5kZXhPZih0cmlwbGV0WzFdKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHNlY29uZCBjb21wb25lbnQgaW4gZWFjaCBwYXJ0IG9mIGEgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NldCBhc3NpZ25tZW50IG11c3QgYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXF1YWxUeXBlcy5qb2luKCdcXG4nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0VsZW1lbnRSYXdTdHJpbmcodHJpcGxldFsyXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaXBsZXRbMl0gPSAkKHRyaXBsZXRbMl0pWzBdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBzYWZlckNvbWJpbmVkUGFyc2UodHJpcGxldFsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHRlbXApICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaXBsZXRbMl0gPSB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyaXBsZXRbMF1bMF0gPT09ICckJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJpcGxldFswXSA9IHRyaXBsZXRbMF0uc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1ZhcmlhYmxlIG11c3Qgc3RhcnQgd2l0aCAkLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05vZGUodHJpcGxldFsyXSkgfHwgaXNFbGVtZW50KHRyaXBsZXRbMl0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlwbGV0WzJdID0gdHJpcGxldFsyXS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLmxldFZhcmlhYmxlKHRyaXBsZXRbMF0sIHRyaXBsZXRbMV0sIHRyaXBsZXRbMl0sIHRoaXMucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuXG4gICAgTWFjcm8uYWRkKCdwdXQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHNldCBtYWNybyBjYW5ub3QgYmUgZW1wdHkhJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJndW1lbnRzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFyZ3VtZW50c1tpaV0pICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZGF0YSB0eXBlIG9mIGVhY2ggYXJndW1lbnQgcGFzc2VkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0byBNYWNyby5zZXQgbXVzdCBiZSBhIHN0cmluZy4gU2tpcHBpbmcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RyaXBsZXQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZyA9IGFyZ3VtZW50c1tpaV07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BsaXRJbmRleCA9IGFyZy5zZWFyY2goLyhcXCs9fC09fFxcKj18XFwvPXwlPXw9KS8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXRJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnTm8gZXF1YWxzIHR5cGUgd2FzIGZvdW5kIGluIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJndW1lbnQuIFNraXBwaW5nIHRyaXBsZXQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCB0cmlwbGV0ID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdbc3BsaXRJbmRleCArIDFdID09PSAnPScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaXBsZXQucHVzaChhcmcuc2xpY2UoMCwgc3BsaXRJbmRleCkudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaXBsZXQucHVzaChhcmcuc2xpY2Uoc3BsaXRJbmRleCwgc3BsaXRJbmRleCArIDIpLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlwbGV0LnB1c2goYXJnLnNsaWNlKHNwbGl0SW5kZXggKyAyLCBhcmcubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlwbGV0LnB1c2goYXJnLnNsaWNlKDAsIHNwbGl0SW5kZXgpLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlwbGV0LnB1c2goYXJnW3NwbGl0SW5kZXhdLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlwbGV0LnB1c2goYXJnLnNsaWNlKHNwbGl0SW5kZXggKyAxLCBhcmcubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyaXBsZXRbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gdmFyaWFibGUgaW4gdGhlIHNldCBtYWNybyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnd2l0aGluIHRoZSB0cmlwbGV0IGF0IHBvc2l0aW9uICcgKyBpaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvWywuJ1wiKCk8Plxcc10vLnRlc3QodHJpcGxldFswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnQSBkaXNhbGxvd2VkIGNoYXJhY3RlciB3YXMgdXNlZCBpbiB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhcmlhYmxlIG5hbWUsICcgKyB0cmlwbGV0WzBdICsgJy4gVGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXNhbGxvd2VkIGNoYXJhY3RlcnMgYXJlICwgKGNvbW1hKSwgLiwgXFwnLCBcIiwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJygsICksIDwsID4sIG9yIGFueSB3aGl0ZXNwYWNlIGNoYXJhY3Rlci4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlcXVhbFR5cGVzLmluZGV4T2YodHJpcGxldFsxXSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBzZWNvbmQgY29tcG9uZW50IGluIGVhY2ggcGFydCBvZiBhICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzZXQgYXNzaWdubWVudCBtdXN0IGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nOlxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWFsVHlwZXMuam9pbignXFxuJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbGVtZW50UmF3U3RyaW5nKHRyaXBsZXRbMl0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlwbGV0WzJdID0gJCh0cmlwbGV0WzJdKVswXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gc2FmZXJDb21iaW5lZFBhcnNlKHRyaXBsZXRbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZih0ZW1wKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlwbGV0WzJdID0gdGVtcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmlwbGV0WzBdWzBdID09PSAnJCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaXBsZXRbMF0gPSB0cmlwbGV0WzBdLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTm9kZSh0cmlwbGV0WzJdKSB8fCBpc0VsZW1lbnQodHJpcGxldFsyXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyaXBsZXRbMl0gPSB0cmlwbGV0WzJdLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgU3RhdGUucHV0VmFyaWFibGUoXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmlwbGV0WzBdLCB0cmlwbGV0WzFdLCB0cmlwbGV0WzJdLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcblxuICAgIE1hY3JvLmFkZCgncHJpbnQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gJCgnPHR3LW1hdGNoIGNsYXNzPVwicHJpbnRDb250YWluZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoYXJnKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJycpICtcbiAgICAgICAgICAgICAgICAgICAgJzwvdHctbWF0Y2g+JylbMF07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG5cbiAgICBNYWNyby5hZGQoJ2NvbXBpbGUnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gJCgnPHR3LW1hdGNoIGNsYXNzPVwicHJpbnRDb250YWluZXJcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoYXJnKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmpvaW4oJycpICtcbiAgICAgICAgICAgICAgICAgICAgJzwvdHctbWF0Y2g+JylbMF07XG5cbiAgICAgICAgICAgICAgICBDb21waWxlci5jb21waWxlKG1hdGNoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG5cbiAgICBNYWNyby5hZGQoJ3NpbGVudGx5JyxcbiAgICAgICAge1xuICAgICAgICAgICAgaXNEb3VibGVUYWc6IHRydWUsXG4gICAgICAgICAgICBoYW5kbGVyOiBub29wLFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG5cbiAgICBNYWNyby5hZGQoJ2lmJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaXNEb3VibGVUYWc6IHRydWUsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuXG4gICAgICAgICAgICBoYW5kbGVyKGJvb2wsIGlmQm9vbFRydWUsIGlmQm9vbEZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGJvb2wgJiYgYm9vbC50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBib29sID0gc2FmZXJFdmFsKGJvb2wudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJvb2wgPSBzYWZlckV2YWwoYm9vbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGJvb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlmQm9vbFRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlmQm9vbEZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcblxuICAgIE1hY3JvLmFkZCgnZWxzZWlmJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaXNEb3VibGVUYWc6IHRydWUsXG4gICAgICAgICAgICBoYW5kbGVyOiBub29wLFxuICAgICAgICB9KTtcbiAgICBNYWNyby5nbG9iYWxbJ2Vsc2UtaWYnXSA9IE1hY3JvLmdsb2JhbC5lbHNlaWY7XG5cbiAgICBNYWNyby5hZGQoJ2Vsc2UnLFxuICAgICAgICB7XG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGhhbmRsZXI6IG5vb3AsXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcblxuICAgIE1hY3JvLmFkZCgnY2xpY2snLFxuICAgICAgICB7XG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgaGFuZGxlcihsaW5rVGV4dCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGxpbmtUZXh0KSAhPT0gJ3N0cmluZycgfHwgIWxpbmtUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGxpbmtUZXh0IGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5jbGljayBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihjYWxsYmFjaykgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNhbGxiYWNrIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5jbGljayBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCAkbm9kZSA9ICQoJzx0dy1saW5rPjwvdHctbGluaz4nKTtcbiAgICAgICAgICAgICAgICAkbm9kZS5hZGRDbGFzcygnY2xpY2tIYW5kbGVyIGNsaWNrJyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICBzcGFuLnRleHRDb250ZW50ID0gbGlua1RleHQ7XG4gICAgICAgICAgICAgICAgJG5vZGUuYXBwZW5kKHNwYW4pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZGVmZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0dy1kZWZlcnJlcicpO1xuICAgICAgICAgICAgICAgIGRlZmVyLmNsYXNzTmFtZSA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgICAgIGRlZmVyLnRleHRDb250ZW50ID0gY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgJG5vZGUuYXBwZW5kKGRlZmVyKTtcbiAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJG5vZGUuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCAkZGVmZXJyZWQgPSAkbm9kZS5jaGlsZHJlbigndHctZGVmZXJyZXInKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRkZWZlcnJlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0dy1tYXRjaCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcC5pbm5lckhUTUwgPSAkZGVmZXJyZWQudGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvY2tTY29wZSA9IFN0YXRlLmdldEJsb2NrU2NvcGUoJG5vZGVbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrU2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wLmRhdGFzZXQuYmxvY2tEZWZpbml0aW9ucyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGJsb2NrU2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBDb21waWxlci5jb21waWxlKHRlbXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gJG5vZGVbMF07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG5cbiAgICBNYWNyby5hZGQoJ2xpbmtnb3RvJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcih0ZXh0LCBsaW5rTmFtZSkge1xuICAgICAgICAgICAgICAgIGxldCBsaW5rU3RyO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YobGlua05hbWUpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBsaW5rU3RyID0gJzx0dy1saW5rIGNsYXNzPVwicGFzc2FnZVwiIG5hbWU9XCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC90dy1saW5rPic7ICAgXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGlua1N0ciA9ICc8dHctbGluayBjbGFzcz1cInBhc3NhZ2VcIiBuYW1lPVwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICtcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L3R3LWxpbms+JztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbGlua1N0cjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ2xpbmstZ290byddID0gTWFjcm8uZ2xvYmFsLmxpbmtnb3RvO1xuXG4gICAgTWFjcm8uYWRkKCdsaW5rcmV2ZWFsJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaXNEb3VibGVUYWc6IHRydWUsXG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcblxuICAgICAgICAgICAgaGFuZGxlcihsaW5rVGV4dCwgcmV2ZWFsVGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICRub2RlID0gJCgnPHR3LWxpbmsgY2xhc3M9XCJyZXZlYWxcIj48L3R3LWxpbms+Jyk7XG4gICAgICAgICAgICAgICAgJG5vZGUuYWRkQ2xhc3MoJ3JldmVhbCcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJG5vZGUuYXBwZW5kKCc8c3Bhbj4nICsgbGlua1RleHQgKyAnPC9zcGFuPicpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgJG5vZGUuYXBwZW5kKCc8dHctZGVmZXJyZXIgY2xhc3M9XCJoaWRkZW5cIj4nICsgcmV2ZWFsVGV4dCArXG4gICAgICAgICAgICAgICAgICAgICc8L3R3LWRlZmVycmVyPicpO1xuICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAkbm9kZS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0ICRkZWZlcnJlZCA9ICRub2RlLmNoaWxkcmVuKCd0dy1kZWZlcnJlcicpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkZGVmZXJyZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBDb21waWxlci5jb21waWxlKCRkZWZlcnJlZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkbm9kZVswXS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgJGNoaWxkcmVuID0gJGRlZmVycmVkLnJlbW92ZSgpLmNoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkbWF0Y2ggPSAkKCc8dHctbWF0Y2g+PC90dy1tYXRjaD4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWF0Y2guYXBwZW5kKCRjaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG1hdGNoLmluc2VydEFmdGVyKCRub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbm9kZS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuICRub2RlWzBdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnbGluay1yZXZlYWwnXSA9IE1hY3JvLmdsb2JhbC5saW5rcmV2ZWFsO1xuXG4gICAgTWFjcm8uYWRkKCdjeWNsaW5nbGluaycsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0cmluZ0FyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICBsZXQgdmFyaWFibGVOYW1lO1xuICAgICAgICAgICAgICAgIGNvbnN0ICRub2RlID0gJCgnPHR3LWxpbmsgY2xhc3M9XCJjeWNsaW5nXCI+PC90dy1saW5rPicpO1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBjeWNsaW5nbGluayBtYWNybyBuZWVkcyBhdCBsZWFzdCB0d28gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJndW1lbnRzIHRvIGZ1bmN0aW9uLiBDYW5ub3QgY3JlYXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZ0FyZ3MgPSBmcm9tKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhcmd1bWVudHNbMF0pID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdLnRyaW0oKVswXSA9PT0gJyQnKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkbm9kZS5hZGRDbGFzcygnc2V0dGVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZU5hbWUgPSBhcmd1bWVudHNbMF0udHJpbSgpLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nQXJncy51bnNoaWZ0KGFyZ3VtZW50c1swXSlcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nQXJncyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nQXJncy5jb25jYXQoZnJvbShhcmd1bWVudHMpLnNsaWNlKDEsIC0yKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXQgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFzc2FnZU5hbWUgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3V0ID09PSB0cnVlICYmIHR5cGVvZihwYXNzYWdlTmFtZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5vZGUuYWRkQ2xhc3MoJ291dCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdBcmdzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nQXJncy5jb25jYXQoYXJndW1lbnRzLnNsaWNlKDEsIC0yKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdBcmdzID0gZnJvbShhcmd1bWVudHMpLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZhcmlhYmxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VmFyaWFibGVTdGF0ZVt2YXJpYWJsZU5hbWVdID0gc3RyaW5nQXJnc1swXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkbm9kZS5odG1sKGFyZ3NbMF0pO1xuXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgJG5vZGUuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmdBcmdzLnB1c2goc3RyaW5nQXJncy5zaGlmdCgpKTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXgrKztcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAkbm9kZS5odG1sKHN0cmluZ0FyZ3NbMF0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLyogaWYgdGhlIHZhcmlhYmxlIG5hbWUgd2FzIHNldCwgdXBkYXRlIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICAgICAgICAgICAgICAgICAqIHZhcmlhYmxlIHRvIHJlZmxlY3QgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGxpbmsuICovXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YXJpYWJsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRWYXJpYWJsZVN0YXRlW3ZhcmlhYmxlTmFtZV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZ0FyZ3NbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID09PSBjdXJyZW50TGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJG5vZGUuaGFzQ2xhc3MoJ291dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVuZGVyZXIucmVuZGVyKHBhc3NhZ2VOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuICRub2RlWzBdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnY3ljbGluZy1saW5rJ10gPSBNYWNyby5nbG9iYWwuY3ljbGluZ2xpbms7XG5cbiAgICBNYWNyby5hZGQoJ2JyJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWwubmV3bGluZSA9IE1hY3JvLmdsb2JhbC5icjtcbiAgICBNYWNyby5nbG9iYWxbJ25ldy1saW5lJ10gPSBNYWNyby5nbG9iYWwuYnI7XG5cbiAgICBNYWNyby5hZGQoJ2Rpc3BsYXknLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKHBhc3NhZ2VOYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSAndHctcGFzc2FnZWRhdGFbbmFtZT1cIicgKyBwYXNzYWdlTmFtZSArICdcIl0nO1xuICAgICAgICAgICAgICAgIGNvbnN0ICRwYXNzYWdlID0gJChzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgaWYgKCEkcGFzc2FnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGVyZSBpcyBubyBwYXNzYWdlIHRvIGRpc3BsYXkgbmFtZWQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzYWdlTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXCJdJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUmVuZGVyZXIuZG9EaXNwbGF5KCRwYXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcblxuICAgIE1hY3JvLmFkZCgncmVwbGFjZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoc2VsZWN0b3JPck1hdGNoLCByZXBsYWNlVGV4dCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yoc2VsZWN0b3JPck1hdGNoKSAhPT0gJ3N0cmluZycgfHwgIXNlbGVjdG9yT3JNYXRjaClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHBhc3NhZ2VOYW1lT3JNYXRjaFRleHQgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJlcGxhY2UgaXMgbm90IGEgc3RyaW5nIG9yIGlzIGFuIGVtcHR5ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0cmluZy4gQ2Fubm90IHJlcGxhY2UuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihyZXBsYWNlVGV4dCkgIT09ICdzdHJpbmcnIHx8ICFyZXBsYWNlVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSByZXBsYWNlVGV4dCBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmVwbGFjZSBpcyBub3QgYSBzdHJpbmcgb3IgaXMgYW4gZW1wdHkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RyaW5nLiBDYW5ub3QgcmVwbGFjZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0b3JPck1hdGNoID09PSByZXBsYWNlVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBwYXNzYWdlTmFtZU9yTWF0Y2ggYW5kIHJlcGxhY2VUZXh0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyZ3VtZW50cyBwYXNzZWQgdG8gTWFjcm8ucmVwbGFjZSBhcmUgaWRlbnRpY2FsLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdUaGlzIHdpbGwgcmVzdWx0IGluIGFuIGluZmluaXRlIGxvb3AuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCByZXBsYWNlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0ICRlbGVtO1xuICAgICAgICAgICAgICAgIC8vIGRvbid0IHRyeSBzZWFyY2hpbmcgaWYgaXQncyBub3QgYW4gSUQgb3IgY2xhc3Mgc2VsZWN0b3JcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3JPck1hdGNoWzBdID09PSAnIycgfHwgc2VsZWN0b3JPck1hdGNoWzBdID09PSAnLicpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGVsZW0gPSAkKHNlbGVjdG9yT3JNYXRjaCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgLyogZG8gbm90aGluZyAqLyB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCRlbGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICRlbGVtLmh0bWwocmVwbGFjZVRleHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rvck9yTWF0Y2guaW5kZXhPZihyZXBsYWNlVGV4dCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBmaXggdGhpcyBwbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHRleHQgdG8gYmUgcmVwbGFjZWQgY2Fubm90IGNvbnRhaW4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RoZSByZXBsYWNlbWVudCB0ZXh0IGluIGl0LiBDYW5ub3QgcmVwbGFjZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYXNzYWdlID0gJCgndHctcGFzc2FnZS5jdXJyZW50JylbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmICghY3VycmVudFBhc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGUgc3RvcnkgaGFzIGJlY29tZSBjb3JydXB0ZWQg4oCTwqAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGhlIGN1cnJlbnQgcGFzc2FnZSBjYW5ub3QgYmUgZm91bmQuJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHN0b3J5IGhhcyBiZWNvbWUgY29ycnVwdGVkIOKAk8KgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RoZSBjdXJyZW50IHBhc3NhZ2UgY2Fubm90IGJlIGZvdW5kLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dE5vZGVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGdldEFsbENvbnRhaW5lZFRleHROb2RlcyhjdXJyZW50UGFzc2FnZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHRleHROb2Rlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGUgPSB0ZXh0Tm9kZXNbaWldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IG5vZGUudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGV4dC5pbmRleE9mKHNlbGVjdG9yT3JNYXRjaCkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShzZWxlY3Rvck9yTWF0Y2gsIHJlcGxhY2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG5cbiAgICBNYWNyby5hZGQoJ3RleHRjb2xvcicsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlzRG91YmxlVGFnOiB0cnVlLFxuICAgICAgICAgICAgaGFuZGxlcihjb2xvciwgaW5uZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGNvbG9yKSAhPT0gJ3N0cmluZycgfHwgY29sb3IgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNvbG9yIGFyZ3VtZW50IHBhc3NlZCB0byBNYWNyby50ZXh0Y29sb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXMgbm90IGEgc3RyaW5nIG9yIGlzIGFuIGVtcHR5IHN0cmluZy4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGNoYW5nZSB0ZXh0IGNvbG9yLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoaW5uZXIpICE9PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICBpbm5lciA9PT0gJycgJiZcbiAgICAgICAgICAgICAgICAgICAgIWlzRWxlbWVudChpbm5lcikgJiZcbiAgICAgICAgICAgICAgICAgICAgIWlzTm9kZShpbm5lcikpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBpbm5lclRleHQgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnRleHRjb2xvciBpcyBub3QgYSBzdHJpbmcgb3IgaXMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYW4gZW1wdHkgc3RyaW5nLiBDYW5ub3QgY2hhbmdlIHRleHQgY29sb3IuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgJGVsZW07XG4gICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudChpbm5lcikgfHwgaXNOb2RlKGlubmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAkZWxlbSA9ICQoaW5uZXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRlbGVtID0gJCgnPHNwYW4+PC9zcGFuPicpO1xuICAgICAgICAgICAgICAgICAgICAkZWxlbS5jc3MoJ2NvbG9yJywgY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAkZWxlbS50ZXh0KGlubmVyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gJGVsZW1bMF07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWyd0ZXh0LWNvbG9yJ10gPSBNYWNyby5nbG9iYWwudGV4dGNvbG9yO1xuICAgIE1hY3JvLmdsb2JhbC50ZXh0Y29sb3VyID0gTWFjcm8uZ2xvYmFsLnRleHRjb2xvcjtcbiAgICBNYWNyby5nbG9iYWxbJ3RleHQtY29sb3VyJ10gPSBNYWNyby5nbG9iYWwudGV4dGNvbG9yO1xuXG4gICAgTWFjcm8uYWRkKCd0ZXh0c3R5bGUnLFxuICAgICAgICB7XG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGhhbmRsZXIoaW5uZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGlubmVyKSAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgaW5uZXIgPT09ICcnICYmXG4gICAgICAgICAgICAgICAgICAgICFpc0VsZW1lbnQoaW5uZXIpICYmXG4gICAgICAgICAgICAgICAgICAgICFpc05vZGUoaW5uZXIpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgaW5uZXJUZXh0IGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby50ZXh0Y29sb3IgaXMgbm90IGEgc3RyaW5nIG9yIGlzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FuIGVtcHR5IHN0cmluZy4gQ2Fubm90IGNoYW5nZSB0ZXh0IGNvbG9yLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxIHx8ICFhcmd1bWVudHNbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZmlyc3QgdmFsdWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnRleHRzdHlsZSBpcyBub3QgYSBzdHJpbmcgb3IgaXMgYW4gZW1wdHkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RyaW5nLiBDYW5ub3QgY2hhbmdlIHRleHQgc3R5bGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b1NlYXJjaCA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2N1cnNpdmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZhbnRhc3knLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ21vbm9zcGFjZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2Fucy1zZXJpZicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2VyaWYnLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2xhcmdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdsYXJnZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ21lZGl1bScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc21hbGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NtYWxsZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gtbGFyZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gtc21hbGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3h4LWxhcmdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd4eC1zbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdmb250LXN0cmV0Y2gnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29uZGVuc2VkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdleHBhbmRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXh0cmEtY29uZGVuc2VkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdleHRyYS1leHBhbmRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmFycm93ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlbWktY29uZGVuc2VkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZW1pLWV4cGFuZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd1bHRyYS1jb25kZW5zZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3VsdHJhLWV4cGFuZGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd3aWRlcicsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdmb250LXN0eWxlJzogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2l0YWxpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbm9ybWFsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdvYmxpcXVlJyxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc3R5bGUnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnc21hbGwtY2FwcycsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICdmb250LXdlaWdodCc6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdib2xkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdib2xkZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xpZ2h0ZXInLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAndGV4dC1jb21iaW5lLXVwcmlnaHQnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ3RleHQtZGVjb3JhdGlvbic6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICdibGluaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbGluZS10aHJvdWdoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdmVybGluZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAndW5kZXJsaW5lJyxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ3RleHQtb3JpZW50YXRpb24nOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWl4ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NpZGV3YXlzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd1cHJpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgJ3RleHQtb3ZlcmZsb3cnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnY2xpcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZWxsaXBzaXMnLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAndGV4dC1yZW5kZXJpbmcnOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ2VvbWV0cmljUHJlY2lzaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdvcHRpbWl6ZUxlZ2liaWxpdHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ29wdGltaXplU3BlZWQnLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAndGV4dC10cmFuc2Zvcm0nOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnY2FwaXRhbGl6ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbG93ZXJjYXNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd1cHBlcmNhc2UnLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBsZXQgJGVsZW07XG4gICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudChpbm5lcikgfHwgaXNOb2RlKGlubmVyKSkge1xuICAgICAgICAgICAgICAgICAgICAkZWxlbSA9ICQoaW5uZXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRlbGVtID0gJCgnPHNwYW4+PC9zcGFuPicpO1xuICAgICAgICAgICAgICAgICAgICAkZWxlbS50ZXh0KGlubmVyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgc2V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAxOyBpaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhcmd1bWVudHNbaWldO1xuICAgICAgICAgICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eU5hbWVzKHRvU2VhcmNoKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b1NlYXJjaFtuYW1lXS5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZWxlbS5jc3MobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhbHVlKHMpIHBhc3NlZCB0byBNYWNyby50ZXh0c3R5bGUgaXMvYXJlIG5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjdXJyZW50bHkgc3VwcG9ydGVkLiBUaGUgZWxlbWVudCB3aWxsIGJlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXllZCwgYnV0IG5vIHN0eWxlIHJ1bGVzIHdpbGwgYmUgYWRkZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuICRlbGVtWzBdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsndGV4dC1zdHlsZSddID0gTWFjcm8uZ2xvYmFsLnRleHRzdHlsZTtcblxuICAgIC8vIFRPRE86IEFERCBPVEhFUiBTVFlMRVNcbiAgICBNYWNyby5hZGQoJ3RyYW5zaXRpb24nLFxuICAgICAgICB7XG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGhhbmRsZXIodHlwZSwgdHJhbnNpdGlvbkFyZ3NPckluT3JPdXQsIG1pbGxpc2Vjb25kcywgaW5uZXJUZXh0KSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IHR5cGUudHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgbGV0IHN0ciA9XG4gICAgICAgICAgICAgICAgICAgICc8dHctdHJhbnNpdGlvbi1jb250YWluZXI+PC90dy10cmFuc2l0aW9uLWNvbnRhaW5lcj4nO1xuICAgICAgICAgICAgICAgIGNvbnN0ICRub2RlID0gJChzdHIpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGFyZ3M7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdObyBhcmd1bWVudHMgd2VyZSBwcm92aWRlZCBmb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8udHJhbnNpdGlvbi4gQ2Fubm90IHRyYW5zaXRpb24uJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdFaXRoZXIgbm8gdHJhbnNpdGlvbiB0eXBlIHdhcyBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby50cmFuc2l0aW9uLCBvciB0aGVyZSBpcyBub3RoaW5nIHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24uJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHR5cGUgYXJndW1lbnQgcHJvdmlkZWQgdG8gTWFjcm8udHJhbnNpdGlvbiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpcyBub3QgdmFsaWQuIENhbm5vdCB0cmFuc2l0aW9uLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MgPSBbJ3R5cGUnLCAnaW5uZXJUZXh0J107XG4gICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dCA9IHRyYW5zaXRpb25BcmdzT3JJbk9yT3V0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gWyd0eXBlJywgJ3RyYW5zaXRpb25BcmdzT3JJbk9yT3V0JywgJ2lubmVyVGV4dCddO1xuICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQgPSBtaWxsaXNlY29uZHM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJncyA9IFsndHlwZScsICd0cmFuc2l0aW9uQXJnc09ySW5Pck91dCcsICdtaWxsaXNlY29uZHMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2lubmVyVGV4dCddO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhcmdzLmluZGV4T2YoJ3RyYW5zaXRpb25BcmdzT3JJbk9yT3V0JykgIT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25BcmdzT3JJbk9yT3V0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFyZyA9IHRyYW5zaXRpb25BcmdzT3JJbk9yT3V0O1xuICAgICAgICAgICAgICAgICAgICBsZXQgdHJhbnNpdGlvbk9iaiA9IHNhZmVyQ29tYmluZWRQYXJzZShhcmcpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodHJhbnNpdGlvbkFyZ3NPckluT3JPdXQpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpbWVWYWwgPSB0cmFuc2l0aW9uQXJnc09ySW5Pck91dDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MuaW5kZXhPZignbWlsbGlzZWNvbmRzJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJvb2xFdmFsID0gc2FmZXJFdmFsKG1pbGxpc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvb2xFdmFsID09PSB0cnVlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbGxpc2Vjb25kcyA9PT0gJ21pbGxpc2Vjb25kcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lVmFsICs9ICdtcyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZVZhbCArPSAncyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lVmFsICs9ICdzJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgJG5vZGUuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24nOiB0aW1lVmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICctbW96LWFuaW1hdGlvbi1kdXJhdGlvbic6IHRpbWVWYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy1vLWFuaW1hdGlvbi1kdXJhdGlvbic6IHRpbWVWYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FuaW1hdGlvbi1kdXJhdGlvbic6IHRpbWVWYWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZih0cmFuc2l0aW9uT2JqKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zQXJncyA9IHRyYW5zaXRpb25BcmdzT3JJbk9yT3V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpbWVWYWwgPSB0cmFuc0FyZ3MuZHVyYXRpb247XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zVHlwZSA9IHR5cGVvZih0cmFuc0FyZ3MuZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zVHlwZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWlsbHMgPSB0cmFuc0FyZ3MuZHVyYXRpb25Jbk1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5pbmRleE9mKCdtaWxsaXNlY29uZHMnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJvb2xFdmFsID0gc2FmZXJFdmFsKG1pbGxzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvb2xFdmFsID09PSB0cnVlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWxscyA9PT0gJ21pbGxpc2Vjb25kcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVWYWwgKz0gJ21zJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVWYWwgKz0gJ3MnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZVZhbCArPSAncyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lVmFsICs9ICcxcyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICRub2RlLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uJzogdGltZVZhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLW1vei1hbmltYXRpb24tZHVyYXRpb24nOiB0aW1lVmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICctby1hbmltYXRpb24tZHVyYXRpb24nOiB0aW1lVmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhbmltYXRpb24tZHVyYXRpb24nOiB0aW1lVmFsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZih0cmFuc0FyZ3MuZGVsYXkpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lVmFsID0gdHJhbnNBcmdzLmRlbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtaWxscyA9IHRyYW5zQXJncy5kZWxheUluTWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzLmluZGV4T2YoJ21pbGxpc2Vjb25kcycpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYm9vbEV2YWwgPSBzYWZlckV2YWwobWlsbHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9vbEV2YWwgPT09IHRydWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbGxzID09PSAnbWlsbGlzZWNvbmRzJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZVZhbCArPSAnbXMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZVZhbCArPSAncyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lVmFsICs9ICdzJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbm9kZS5jc3MoJ3RyYW5zaXRpb24tZGVsYXknLCB0aW1lVmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZih0cmFuc0FyZ3MudGltaW5nKSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc0FyZ3MudGltaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1pbmcgPSB0cmFuc0FyZ3MudGltaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRub2RlLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24nOiB0aW1pbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctbW96LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24nOiB0aW1pbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICctby1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uJzogdGltaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbic6IHRpbWluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICRub2RlLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb24nOiAnMXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJy1tb3otYW5pbWF0aW9uLWR1cmF0aW9uJzogJzFzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICctby1hbmltYXRpb24tZHVyYXRpb24nOiAnMXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FuaW1hdGlvbi1kdXJhdGlvbic6ICcxcydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdkaXNzb2x2ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgJG5vZGUuYXR0cignZGF0YS10cmFuc2l0aW9uLXR5cGUnLCAnZGlzc29sdmUnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgZGVmYXVsdCBoYW5kbGVyXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGluT3JPdXQgPSBzYWZlckNvbWJpbmVkUGFyc2UodHJhbnNpdGlvbkFyZ3NPckluT3JPdXQpO1xuICAgICAgICAgICAgICAgIGlmIChpbk9yT3V0ICYmIGluT3JPdXQudG9Mb3dlckNhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5Pck91dCA9IGluT3JPdXQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluT3JPdXQgPT09ICdpbicgfHwgaW5Pck91dCA9PT0gJ291dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgJG5vZGUuYXR0cignZGF0YS10cmFuc2l0aW9uLWRpcmVjdGlvbicsIGluT3JPdXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRub2RlLmh0bWwoaW5uZXJUZXh0KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAkbm9kZVswXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcblxuICAgIE1hY3JvLmFkZCgnYXJyYXknLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5ID0gZnJvbShhcmd1bWVudHMpLm1hcChmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2FmZXJDb21iaW5lZFBhcnNlKGluZGV4KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcnJheSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsLmEgPSBNYWNyby5nbG9iYWwuYXJyYXk7XG5cbiAgICBNYWNyby5hZGQoJ2FkZGF0aGVhZCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoYXJyT3JTdHJPclZhck5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFyck9yU3RyT3JWYXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGFyck9yU3RyT3JWYXJOYW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5hZGRhdGhlYWQgaXMgbm90IHZhbGlkLiBDYW5ub3QgYWRkLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgodHlwZW9mKGFyck9yU3RyT3JWYXJOYW1lKSAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZihhcnJPclN0ck9yVmFyTmFtZSkgIT09ICdvYmplY3QnKSB8fFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YoYXJyT3JTdHJPclZhck5hbWUubGVuZ3RoKSAhPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgICAgICAgICAgIWlzRnVuY3Rpb24oYXJyT3JTdHJPclZhck5hbWUuc2xpY2UpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgYXJyT3JTdHJPclZhck5hbWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmFkZGF0aGVhZCBpcyBub3QgYSBzdHJpbmcgb3IgYXJyYXkuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBhZGQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGVyZSBpcyBubyB2YWx1ZSBwcm92aWRlZCB0byBhZGQgdG8gdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FycmF5IG9yIHN0cmluZy4gQ2Fubm90IGFkZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBhcnJPclN0ciA9IGFyck9yU3RyT3JWYXJOYW1lO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFZTID0gU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGU7XG4gICAgICAgICAgICAgICAgbGV0IHNhdmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoYXJyT3JTdHIpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJyT3JTdHJbMF0gPT09ICckJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc21hbGxlciA9IGFyck9yU3RyLnRyaW0oKS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JlZCA9IGN1cnJlbnRWU1tzbWFsbGVyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlb2Yoc3RvcmVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZSA9PT0gJ29iamVjdCcpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mKHN0b3JlZC5sZW5ndGgpID09PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRnVuY3Rpb24oc3RvcmVkLnNsaWNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJPclN0ciA9IHN0b3JlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBUd2luZXNjcmlwdCB2YXJpYWJsZSByZWZlcnJlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvIGJ5IHRoZSBhcnJPclN0ck9yVmFyTmFtZSBhcmd1bWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3NlZCB0byBNYWNyby5hZGRhdGhlYWQgaXMgbm90IGEgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJpbmcgb3IgYXJyYXkuIENhbm5vdCBhZGQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFyck9yU3RyID0gc2FmZXJDb21iaW5lZFBhcnNlKGFyck9yU3RyT3JWYXJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoYXJyT3JTdHIpICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZihhcnJPclN0ci5sZW5ndGgpICE9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpc0Z1bmN0aW9uKGFyck9yU3RyLnNsaWNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJPclN0ciA9IGFyck9yU3RyT3JWYXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBmcm9tKGFyZ3VtZW50cykuc2xpY2UoMSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gc2FmZXJDb21iaW5lZFBhcnNlKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoYXJyT3JTdHIpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSkuY29uY2F0KGFyck9yU3RyKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoYXJyT3JTdHIpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBhcnJPclN0ciA9IHRlbXAuam9pbignJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyT3JTdHIgPSB0ZW1wO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzYXZpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGUuc2V0VmFyaWFibGUoYXJyT3JTdHJPclZhck5hbWUuc2xpY2UoMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAnPScsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJPclN0cixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoYXJyT3JTdHIpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJyT3JTdHIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJPclN0cjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydhZGQtYXQtaGVhZCddID0gTWFjcm8uZ2xvYmFsLmFkZGF0aGVhZDtcblxuICAgIE1hY3JvLmFkZCgnYWRkYXRlbmQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKGFyck9yU3RyT3JWYXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhcnJPclN0ck9yVmFyTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhcnJPclN0ck9yVmFyTmFtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uYWRkYXRlbmQgaXMgbm90IHZhbGlkLiBDYW5ub3QgYWRkLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgodHlwZW9mKGFyck9yU3RyT3JWYXJOYW1lKSAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZihhcnJPclN0ck9yVmFyTmFtZSkgIT09ICdvYmplY3QnKSB8fFxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YoYXJyT3JTdHJPclZhck5hbWUubGVuZ3RoKSAhPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgICAgICAgICAgIWlzRnVuY3Rpb24oYXJyT3JTdHJPclZhck5hbWUuc2xpY2UpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgYXJyT3JTdHJPclZhck5hbWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmFkZGF0ZW5kIGlzIG5vdCBhIHN0cmluZyBvciBhcnJheS4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGFkZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZXJlIGlzIG5vIHZhbHVlIHByb3ZpZGVkIHRvIGFkZCB0byB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJyYXkgb3Igc3RyaW5nLiBDYW5ub3QgYWRkLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGFyck9yU3RyID0gYXJyT3JTdHJPclZhck5hbWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VlMgPSBTdGF0ZS5jdXJyZW50VmFyaWFibGVTdGF0ZTtcbiAgICAgICAgICAgICAgICBsZXQgc2F2aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhcnJPclN0cikgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJPclN0clswXSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbWFsbGVyID0gYXJyT3JTdHIudHJpbSgpLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVkID0gY3VycmVudFZTW3NtYWxsZXJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZihzdG9yZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnb2JqZWN0JykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Yoc3RvcmVkLmxlbmd0aCkgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbihzdG9yZWQuc2xpY2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyck9yU3RyID0gc3RvcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIFR3aW5lc2NyaXB0IHZhcmlhYmxlIHJlZmVycmVkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG8gYnkgdGhlIGFyck9yU3RyT3JWYXJOYW1lIGFyZ3VtZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFzc2VkIHRvIE1hY3JvLmFkZGF0ZW5kIGlzIG5vdCBhIHN0cmluZyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29yIGFycmF5LiBDYW5ub3QgYWRkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhcnJPclN0ciA9IHNhZmVyQ29tYmluZWRQYXJzZShhcnJPclN0ck9yVmFyTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFyck9yU3RyKSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YoYXJyT3JTdHIubGVuZ3RoKSAhPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNGdW5jdGlvbihhcnJPclN0ci5zbGljZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyT3JTdHIgPSBhcnJPclN0ck9yVmFyTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gYXJyT3JTdHIuY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cykuc2xpY2UoMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBzYWZlckNvbWJpbmVkUGFyc2UoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoYXJyT3JTdHIpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFyck9yU3RyKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyT3JTdHIgPSB0ZW1wLmpvaW4oJycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyck9yU3RyID0gdGVtcDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc2F2aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLnNldFZhcmlhYmxlKGFyck9yU3RyT3JWYXJOYW1lLnNsaWNlKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJz0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyT3JTdHIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFyck9yU3RyKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyck9yU3RyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJyT3JTdHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnYWRkLWF0LWVuZCddID0gTWFjcm8uZ2xvYmFsLmFkZGF0ZW5kO1xuXG4gICAgTWFjcm8uYWRkKCdhZGRhdGluZGV4JyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihhcnJPclN0ck9yVmFyTmFtZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFyck9yU3RyT3JWYXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGFyck9yU3RyT3JWYXJOYW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5hZGRhdGluZGV4IGlzIG5vdCB2YWxpZC4gQ2Fubm90IGFkZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKHR5cGVvZihhcnJPclN0ck9yVmFyTmFtZSkgIT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YoYXJyT3JTdHJPclZhck5hbWUpICE9PSAnb2JqZWN0JykgfHxcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mKGFyck9yU3RyT3JWYXJOYW1lLmxlbmd0aCkgIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICAgICAgICAgICFpc0Z1bmN0aW9uKGFyck9yU3RyT3JWYXJOYW1lLnNsaWNlKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGFyck9yU3RyT3JWYXJOYW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5hZGRhdGluZGV4IGlzIG5vdCBhIHN0cmluZyBvciBhcnJheS4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGFkZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZXJlIGlzIG5vIHZhbHVlIHByb3ZpZGVkIHRvIGFkZCB0byB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJyYXkgb3Igc3RyaW5nLiBDYW5ub3QgYWRkLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGFyck9yU3RyID0gYXJyT3JTdHJPclZhck5hbWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VlMgPSBTdGF0ZS5jdXJyZW50VmFyaWFibGVTdGF0ZTtcbiAgICAgICAgICAgICAgICBsZXQgc2F2aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhcnJPclN0cikgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJPclN0clswXSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbWFsbGVyID0gYXJyT3JTdHIudHJpbSgpLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVkID0gY3VycmVudFZTW3NtYWxsZXJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZihzdG9yZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnb2JqZWN0JykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Yoc3RvcmVkLmxlbmd0aCkgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbihzdG9yZWQuc2xpY2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyck9yU3RyID0gc3RvcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIFR3aW5lc2NyaXB0IHZhcmlhYmxlIHJlZmVycmVkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG8gYnkgdGhlIGFyck9yU3RyT3JWYXJOYW1lIGFyZ3VtZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFzc2VkIHRvIE1hY3JvLmFkZGF0aW5kZXggaXMgbm90IGEgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJpbmcgb3IgYXJyYXkuIENhbm5vdCBhZGQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFyck9yU3RyID0gc2FmZXJDb21iaW5lZFBhcnNlKGFyck9yU3RyT3JWYXJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoYXJyT3JTdHIpICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZihhcnJPclN0ci5sZW5ndGgpICE9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpc0Z1bmN0aW9uKGFyck9yU3RyLnNsaWNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJPclN0ciA9IGFyck9yU3RyT3JWYXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGludEluZGV4ID0gTWF0aC5mbG9vcihOdW1iZXIoaW5kZXgpKTtcblxuICAgICAgICAgICAgICAgIGlmIChpbnRJbmRleCA+PSBhcnJPclN0ci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgaW5kZXggcHJvdmlkZWQgaXMgZ3JlYXRlciB0aGFuIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdsZW5ndGggb2YgdGhlIGFycmF5IG9yIHN0cmluZyByZXByZXNlbnRlZCBieSB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJyT3JTdHJPclZhck5hbWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmFkZGF0aW5kZXguIENhbm5vdCBhZGQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IGFyck9yU3RyLnNsaWNlKDAsIGludEluZGV4KVxuICAgICAgICAgICAgICAgICAgICAuY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLnNsaWNlKDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBzYWZlckNvbWJpbmVkUGFyc2UoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFyck9yU3RyKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWwudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChhcnJPclN0ci5zbGljZShpbnRJbmRleCkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhcnJPclN0cikgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyck9yU3RyID0gdGVtcC5qb2luKCcnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcnJPclN0ciA9IHRlbXA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNhdmluZykge1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5zZXRWYXJpYWJsZShhcnJPclN0ck9yVmFyTmFtZS5zbGljZSgxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICc9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyck9yU3RyLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhcnJPclN0cikgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcnJPclN0cik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyck9yU3RyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ2FkZC1hdC1pbmRleCddID0gTWFjcm8uZ2xvYmFsLmFkZGF0aW5kZXg7XG5cbiAgICBNYWNyby5hZGQoJ3JlbW92ZWF0aGVhZCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoYXJyT3JTdHJPclZhck5hbWUsIG51bWJlclRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhcnJPclN0ck9yVmFyTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhcnJPclN0ck9yVmFyTmFtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmVtb3ZlYXRoZWFkIGlzIG5vdCB2YWxpZC4gQ2Fubm90IHJlbW92ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKHR5cGVvZihhcnJPclN0ck9yVmFyTmFtZSkgIT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YoYXJyT3JTdHJPclZhck5hbWUpICE9PSAnb2JqZWN0JykgfHxcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mKGFyck9yU3RyT3JWYXJOYW1lLmxlbmd0aCkgIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICAgICAgICAgICFpc0Z1bmN0aW9uKGFyck9yU3RyT3JWYXJOYW1lLnNsaWNlKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGFyck9yU3RyT3JWYXJOYW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yZW1vdmVhdGhlYWQgaXMgbm90IGEgc3RyaW5nIG9yIGFycmF5LiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDYW5ub3QgcmVtb3ZlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGFyck9yU3RyID0gYXJyT3JTdHJPclZhck5hbWU7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VlMgPSBTdGF0ZS5jdXJyZW50VmFyaWFibGVTdGF0ZTtcbiAgICAgICAgICAgICAgICBsZXQgc2F2aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhcnJPclN0cikgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcnJPclN0clswXSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzbWFsbGVyID0gYXJyT3JTdHIudHJpbSgpLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVkID0gY3VycmVudFZTW3NtYWxsZXJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZihzdG9yZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlID09PSAnb2JqZWN0JykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2Yoc3RvcmVkLmxlbmd0aCkgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbihzdG9yZWQuc2xpY2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyck9yU3RyID0gc3RvcmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIFR3aW5lc2NyaXB0IHZhcmlhYmxlIHJlZmVycmVkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG8gYnkgdGhlIGFyck9yU3RyT3JWYXJOYW1lIGFyZ3VtZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFzc2VkIHRvIE1hY3JvLnJlbW92ZWF0aGVhZCBpcyBub3QgYSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0cmluZyBvciBhcnJheS4gQ2Fubm90IHJlbW92ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXJyT3JTdHIgPSBzYWZlckNvbWJpbmVkUGFyc2UoYXJyT3JTdHJPclZhck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhcnJPclN0cikgIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mKGFyck9yU3RyLmxlbmd0aCkgIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWlzRnVuY3Rpb24oYXJyT3JTdHIuc2xpY2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyck9yU3RyID0gYXJyT3JTdHJPclZhck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG51bWJlclRvUmVtb3ZlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyT3JTdHIgPSBhcnJPclN0ci5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW50VG9SZW1vdmUgPSBNYXRoLmZsb29yKE51bWJlcihudW1iZXJUb1JlbW92ZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGludFRvUmVtb3ZlKSB8fCBpbnRUb1JlbW92ZSA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG51bWJlclRvUmVtb3ZlIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmVtb3ZlYXRoZWFkIGlzIG5vdCBhIHZhbGlkLCA+PSAxICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdudW1iZXIuIENhbm5vdCByZW1vdmUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJyT3JTdHIgPSBhcnJPclN0ci5zbGljZShpbnRUb1JlbW92ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNhdmluZykge1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5zZXRWYXJpYWJsZShhcnJPclN0ck9yVmFyTmFtZS5zbGljZSgxKSwgYXJyT3JTdHIsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoYXJyT3JTdHIpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJyT3JTdHIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJPclN0cjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydyZW1vdmUtYXQtaGVhZCddID0gTWFjcm8uZ2xvYmFsLnJlbW92ZWF0aGVhZDtcblxuICAgIE1hY3JvLmFkZCgncmVtb3ZlYXRlbmQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKGFyck9yU3RyT3JWYXJOYW1lLCBudW1iZXJUb1JlbW92ZSkge1xuICAgICAgICAgICAgICAgIGlmICghYXJyT3JTdHJPclZhck5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgYXJyT3JTdHJPclZhck5hbWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJlbW92ZWF0ZW5kIGlzIG5vdCB2YWxpZC4gQ2Fubm90IHJlbW92ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKHR5cGVvZihhcnJPclN0ck9yVmFyTmFtZSkgIT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YoYXJyT3JTdHJPclZhck5hbWUpICE9PSAnb2JqZWN0JykgfHxcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mKGFyck9yU3RyT3JWYXJOYW1lLmxlbmd0aCkgIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICAgICAgICAgICFpc0Z1bmN0aW9uKGFyck9yU3RyT3JWYXJOYW1lLnNsaWNlKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGFyck9yU3RyT3JWYXJOYW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yZW1vdmVhdGVuZCBpcyBub3QgYSBzdHJpbmcgb3IgYXJyYXkuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCByZW1vdmUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgYXJyT3JTdHIgPSBhcnJPclN0ck9yVmFyTmFtZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWUyA9IFN0YXRlLmN1cnJlbnRWYXJpYWJsZVN0YXRlO1xuICAgICAgICAgICAgICAgIGxldCBzYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFyck9yU3RyKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyck9yU3RyWzBdID09PSAnJCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNtYWxsZXIgPSBhcnJPclN0ci50cmltKCkuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBjdXJyZW50VlNbc21hbGxlcl07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mKHN0b3JlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICdvYmplY3QnKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZihzdG9yZWQubGVuZ3RoKSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Z1bmN0aW9uKHN0b3JlZC5zbGljZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyT3JTdHIgPSBzdG9yZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgVHdpbmVzY3JpcHQgdmFyaWFibGUgcmVmZXJyZWQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0byBieSB0aGUgYXJyT3JTdHJPclZhck5hbWUgYXJndW1lbnQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzZWQgdG8gTWFjcm8ucmVtb3ZlYXRlbmQgaXMgbm90IGEgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHJpbmcgb3IgYXJyYXkuIENhbm5vdCByZW1vdmUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFyck9yU3RyID0gc2FmZXJDb21iaW5lZFBhcnNlKGFyck9yU3RyT3JWYXJOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoYXJyT3JTdHIpICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZihhcnJPclN0ci5sZW5ndGgpICE9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpc0Z1bmN0aW9uKGFyck9yU3RyLnNsaWNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJPclN0ciA9IGFyck9yU3RyT3JWYXJOYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihudW1iZXJUb1JlbW92ZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyck9yU3RyID0gYXJyT3JTdHIuc2xpY2UoMCwgYXJyT3JTdHIubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludFRvUmVtb3ZlID0gTWF0aC5mbG9vcihOdW1iZXIobnVtYmVyVG9SZW1vdmUpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihpbnRUb1JlbW92ZSkgfHwgaW50VG9SZW1vdmUgPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBudW1iZXJUb1JlbW92ZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJlbW92ZWF0ZW5kIGlzIG5vdCBhIHZhbGlkLCA+PSAxICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdudW1iZXIuIENhbm5vdCByZW1vdmUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXJyT3JTdHIgPSBcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyck9yU3RyLnNsaWNlKDAsIGFyck9yU3RyLmxlbmd0aCAtIGludFRvUmVtb3ZlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc2F2aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLnNldFZhcmlhYmxlKGFyck9yU3RyT3JWYXJOYW1lLnNsaWNlKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJz0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyT3JTdHIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFyck9yU3RyKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyck9yU3RyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJyT3JTdHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsncmVtb3ZlLWF0LWVuZCddID0gTWFjcm8uZ2xvYmFsLnJlbW92ZWF0ZW5kO1xuXG4gICAgTWFjcm8uYWRkKCdyZW1vdmVhdGluZGV4JyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihhcnJPclN0ck9yVmFyTmFtZSwgaW5kZXgsIG51bWJlclRvUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhcnJPclN0ck9yVmFyTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhcnJPclN0ck9yVmFyTmFtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmVtb3ZlYXRpbmRleCBpcyBub3QgdmFsaWQuIENhbm5vdCByZW1vdmUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCh0eXBlb2YoYXJyT3JTdHJPclZhck5hbWUpICE9PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mKGFyck9yU3RyT3JWYXJOYW1lKSAhPT0gJ29iamVjdCcpIHx8XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZihhcnJPclN0ck9yVmFyTmFtZS5sZW5ndGgpICE9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgICAgICAgICAhaXNGdW5jdGlvbihhcnJPclN0ck9yVmFyTmFtZS5zbGljZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhcnJPclN0ck9yVmFyTmFtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmVtb3ZlYXRpbmRleCBpcyBub3QgYSBzdHJpbmcgb3IgYXJyYXkuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCByZW1vdmUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgYXJyT3JTdHIgPSBhcnJPclN0ck9yVmFyTmFtZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWUyA9IFN0YXRlLmN1cnJlbnRWYXJpYWJsZVN0YXRlO1xuICAgICAgICAgICAgICAgIGxldCBzYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFyck9yU3RyKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyck9yU3RyWzBdID09PSAnJCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNtYWxsZXIgPSBhcnJPclN0ci50cmltKCkuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBjdXJyZW50VlNbc21hbGxlcl07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gdHlwZW9mKHN0b3JlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICdvYmplY3QnKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZihzdG9yZWQubGVuZ3RoKSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0Z1bmN0aW9uKHN0b3JlZC5zbGljZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyT3JTdHIgPSBzdG9yZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgVHdpbmVzY3JpcHQgdmFyaWFibGUgcmVmZXJyZWQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0byBieSB0aGUgYXJyT3JTdHJPclZhck5hbWUgYXJndW1lbnQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzZWQgdG8gTWFjcm8ucmVtb3ZlYXRpbmRleCBpcyBub3QgYSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N0cmluZyBvciBhcnJheS4gQ2Fubm90IHJlbW92ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXJyT3JTdHIgPSBzYWZlckNvbWJpbmVkUGFyc2UoYXJyT3JTdHJPclZhck5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhcnJPclN0cikgIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mKGFyck9yU3RyLmxlbmd0aCkgIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWlzRnVuY3Rpb24oYXJyT3JTdHIuc2xpY2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyck9yU3RyID0gYXJyT3JTdHJPclZhck5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgaW50SW5kZXggPSBNYXRoLmZsb29yKE51bWJlcihpbmRleCkpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpbnRJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaW50SW5kZXggPSBhcnJPclN0ci5sZW5ndGggKyBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG51bWJlclRvUmVtb3ZlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyT3JTdHIgPSBhcnJPclN0clxuICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDAsIGludEluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChhcnJPclN0ci5zbGljZShpbnRJbmRleCArIDEpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW50VG9SZW1vdmUgPSBNYXRoLmZsb29yKE51bWJlcihudW1iZXJUb1JlbW92ZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGludFRvUmVtb3ZlKSB8fCBpbnRUb1JlbW92ZSA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG51bWJlclRvUmVtb3ZlIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmVtb3ZlYXRpbmRleCBpcyBub3QgYSB2YWxpZCwgPj0gMSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbnVtYmVyLiBDYW5ub3QgcmVtb3ZlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFyck9yU3RyID0gYXJyT3JTdHIuc2xpY2UoMCwgaW50SW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KGFyck9yU3RyLnNsaWNlKGludEluZGV4ICsgaW50VG9SZW1vdmUpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc2F2aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLnNldFZhcmlhYmxlKGFyck9yU3RyT3JWYXJOYW1lLnNsaWNlKDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJz0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyT3JTdHIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFyck9yU3RyKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyck9yU3RyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJyT3JTdHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsncmVtb3ZlLWF0LWluZGV4J10gPSBNYWNyby5nbG9iYWwucmVtb3ZlYXRpbmRleDtcblxuICAgIE1hY3JvLmFkZCgnYXJyYXlmaWx0ZXInLFxuICAgICAgICB7XG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgaGFuZGxlcihhcnJheSwgdmFyaWFibGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFycjtcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGFycmF5IHBhcmFtZXRlciBwYXNzZWQgdG8gTWFjcm8uYXJyYXlmaWx0ZXIgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXMgbm90IHZhbGlkLiBDYW5ub3QgZmlsdGVyLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoYXJyYXkpID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyID0gYXJyYXk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoYXJyYXkpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHIgPSBhcnJheS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHJbMF0gPT09ICckJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyLnNsaWNlKDEpIGluIFN0YXRlLmN1cnJlbnRWYXJpYWJsZVN0YXRlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YXJOYW1lID0gc3RyLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFySW5zdCA9IFN0YXRlLmN1cnJlbnRWYXJpYWJsZVN0YXRlW3Zhck5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhckluc3QgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YodmFySW5zdCkgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xlbmd0aCcgaW4gdmFySW5zdClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIgPSB2YXJJbnN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcCA9IHNhZmVyQ29tYmluZWRQYXJzZShhcnJheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZih0ZW1wKSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGVuZ3RoJyBpbiB0ZW1wKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyciA9IHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhcnIgPSBmcm9tKGFycik7XG4gICAgICAgICAgICAgICAgaWYgKCFhcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgYXJyYXkgYXJndW1lbnQgcGFzc2VkIHRvIE1hY3JvLmFycmF5ZmlsdGVyICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5vdCB2YWxpZC4gQ2Fubm90IGZpbHRlci4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgY2FsbGJhY2sgcGFyYW1ldGVyIHBhc3NlZCB0byAnICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uYXJyYXlmaWx0ZXIgaXMgbm90IHZhbGlkLiBDYW5ub3QgZmlsdGVyLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdmFyaWFibGUgfHwgdHlwZW9mKHZhcmlhYmxlKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdmFyaWFibGUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmFycmF5ZmlsdGVyIGlzIG5vdCB2YWxpZC4gQ2Fubm90IGZpbHRlci4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBjYWxsQ29weTtcbiAgICAgICAgICAgICAgICBpZiAoaXNFbGVtZW50KGNhbGxiYWNrKSB8fCBpc05vZGUoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxDb3B5ID0gY2FsbGJhY2sudGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbENvcHkgPSBjYWxsYmFjay50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXJlZCA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcnIubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdHJpbmcgPSBhcnJbaWldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHN0cikgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBKU09OLnN0cmluZ2lmeShzdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhcmlhYmxlLmluZGV4T2Yoc3RyaW5nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhcmlhYmxlIGFyZ3VtZW50LCAnICsgdmFyaWFibGUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsIGNvbnRhaW5zIGFuIGluY2lkZW5jZSBvZiB0aGUgYXJyYXkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luZGV4LCAnICsgc3RyaW5nICsgJy4gVGhpcyB3aWxsIHJlc3VsdCBpbiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW4gaW5maW5pdGUgbG9vcCB3aGVuIHJlcGxhY2luZyB2YXJpYWJsZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnd2l0aCBpbmRleC4gQ2Fubm90IGZpbHRlci4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpbmcuaW5kZXhPZih2YXJpYWJsZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhcnJheSBpbmRleCwgJyArIHN0cmluZyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJywgY29udGFpbnMgYW4gaW5jaWRlbmNlIG9mIHRoZSB2YXJpYWJsZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJndW1lbnQsICcgKyB2YXJpYWJsZSArICcuIFRoaXMgd2lsbCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncmVzdWx0IGluIGFuIGluZmluaXRlIGxvb3Agd2hlbiByZXBsYWNpbmcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhcmlhYmxlIHdpdGggaW5kZXguIENhbm5vdCBmaWx0ZXIuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQgY2FsbCA9IGNhbGxDb3B5O1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY2FsbC5pbmRleE9mKHZhcmlhYmxlKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGwgPSBjYWxsLnJlcGxhY2UodmFyaWFibGUsIHN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIH0gIFxuXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBQYXJzZXIucGFyc2VUZXh0KGNhbGwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgIT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQudHJpbSgpICE9PSAnZmFsc2UnKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZC5wdXNoKGFycltpaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGZpbHRlcmVkKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ2FycmF5LWZpbHRlciddID0gTWFjcm8uZ2xvYmFsLmFycmF5ZmlsdGVyO1xuXG4gICAgTWFjcm8uYWRkKCdkaWN0JyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCAmJiBhcmd1bWVudHMubGVuZ3RoICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBNYWNyby5kaWN0IGNvbnN0cnVjdG9yIG11c3QgaGF2ZSBhbiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdldmVuIG51bWJlciBvZiBhcmd1bWVudHMgaW4gdGhlIGZvcm0ga2V5LCB2YWx1ZSwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAna2V5LCB2YWx1ZSwgZXRjLiBDYW5ub3QgY29uc3RydWN0LicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgZGljdCA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc2FmZXJDb21iaW5lZFBhcnNlKGFyZ3VtZW50c1tpaSArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgZGljdFthcmd1bWVudHNbaWldXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkaWN0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWwuZGljdGlvbmFyeSA9IE1hY3JvLmdsb2JhbC5kaWN0O1xuICAgIE1hY3JvLmdsb2JhbC5kYXRhbWFwID0gTWFjcm8uZ2xvYmFsLmRpY3Q7XG5cbiAgICBNYWNyby5hZGQoJ2luJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcih0b1NlYXJjaCwga2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZih0b1NlYXJjaCkgPT09ICd1bmRlZmluZWQnIHx8IHRvU2VhcmNoID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoID0gc2FmZXJDb21iaW5lZFBhcnNlKHRvU2VhcmNoKTtcblxuICAgICAgICAgICAgICAgIGlmICghc2VhcmNoIHx8IHR5cGVvZihzZWFyY2gpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB0b1NlYXJjaCBhcmd1bWVudCBwYXNzZWQgdG8gTWFjcm8uaW4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXMgbm90IGFuIG9iamVjdCBhbmQgY2Fubm90IGJlIHBhcnNlZCB0byBvbmUuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmluIGNhbiBvbmx5IGJlIHVzZWQgb24gb2JqZWN0cyBvciBzdHJpbmcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAncmVwcmVzZW50YXRpb25zIHRoZXJlb2YuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleSBpbiB0b1NlYXJjaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG5cbiAgICBNYWNyby5hZGQoJ3N0cmluZ2NvbnRhaW5zJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihzdHIsIHN1YnN0cikge1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnTm8gYXJndW1lbnRzIHdlcmUgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnN0cmluZ2NvbnRhaW5zLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKHN0cikgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHN0ciBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uc3RyaW5nY29udGFpbnMgaXMgbm90IGEgc3RyaW5nLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXN0cikge1xuICAgICAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1RoZSBzdHIgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnN0cmluZ2NvbnRhaW5zIGlzIGFuIGVtcHR5IHN0cmluZy4gQ2Fubm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2V4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgc3Vic3RyIGFyZ3VtZW50IHdhcyBub3QgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uc3RyaW5nY29udGFpbnMuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Yoc3Vic3RyKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgc3Vic3RyIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5zdHJpbmdjb250YWlucyBpcyBub3QgYSBzdHJpbmcuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghc3Vic3RyKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhdGVseUxvZygnVGhlIHN1YnN0ciBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uc3RyaW5nY29udGFpbnMgaXMgYW4gZW1wdHkgc3RyaW5nLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBzdHIuaW5kZXhPZihzdWJzdHIpICE9PSAtMTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ3N0cmluZy1jb250YWlucyddID0gTWFjcm8uZ2xvYmFsLnN0cmluZ2NvbnRhaW5zO1xuICAgIE1hY3JvLmdsb2JhbFsnc3RyY29udGFpbnMnXSA9IE1hY3JvLmdsb2JhbC5zdHJpbmdjb250YWlucztcbiAgICBNYWNyby5nbG9iYWxbJ3N0ci1jb250YWlucyddID0gTWFjcm8uZ2xvYmFsLnN0cmluZ2NvbnRhaW5zO1xuXG4gICAgTWFjcm8uYWRkKCdvYmplY3Rjb250YWlucycsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIob2JqLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnTm8gYXJndW1lbnRzIHdlcmUgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ub2JqZWN0Y29udGFpbnMuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhbHVlIGFyZ3VtZW50IHdhcyBub3QgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ub2JqZWN0Y29udGFpbnMuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Yob2JqKSAhPT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mKG9iaikgIT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgb2JqIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5vYmplY3Rjb250YWlucyBpcyBub3QgYW4gb2JqZWN0IG9yIHN0cmluZy4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgb2JqIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5vYmplY3Rjb250YWlucyBpcyBub3QgdmFsaWQuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhbHVlIGFyZ3VtZW50IHdhcyBub3QgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ub2JqZWN0Y29udGFpbnMuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoID0gc2FmZXJDb21iaW5lZFBhcnNlKG9iaik7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkVmFsID0gc2FmZXJKU09OUGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IEpTT04uc3RyaW5naWZ5KHBhcnNlZFZhbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKHNlYXJjaCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG5hbWVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gbmFtZXNbaWldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJWYWwgPSBKU09OLnN0cmluZ2lmeShzZWFyY2hbbmFtZV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VyVmFsID09PSB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnb2JqZWN0LWNvbnRhaW5zJ10gPSBNYWNyby5nbG9iYWwub2JqZWN0Y29udGFpbnM7XG4gICAgTWFjcm8uZ2xvYmFsWydvYmpjb250YWlucyddID0gTWFjcm8uZ2xvYmFsLm9iamVjdGNvbnRhaW5zO1xuICAgIE1hY3JvLmdsb2JhbFsnb2JqZWN0LWNvbnRhaW5zJ10gPSBNYWNyby5nbG9iYWwub2JqZWN0Y29udGFpbnM7XG5cbiAgICBNYWNyby5hZGQoJ2FycmF5Y29uY2F0JyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICBsZXQgYXJyYXkgPSBbXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cykuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gc2FmZXJDb21iaW5lZFBhcnNlKGFyZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZihwYXJzZWQpID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGdW5jdGlvbihwYXJzZWQuY29uY2F0KSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkgPSBhcnJheS5jb25jYXQocGFyc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5hcnJheWNvbmNhdCwgJyArIGFyZyArICcsIGlzIG5vdCBhbiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbm9uLW51bGwgb2JqZWN0LCBhbmQvb3IgbGFja3MgYSBjb25jYXQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21ldGhvZC4gU2tpcHBpbmcgYXJndW1lbnQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcnJheSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydhcnJheS1jb25jYXQnXSA9IE1hY3JvLmdsb2JhbC5hcnJheWNvbmNhdDtcbiAgICBNYWNyby5nbG9iYWwuYXJyY29uY2F0ID0gTWFjcm8uZ2xvYmFsLmFycmF5Y29uY2F0O1xuICAgIE1hY3JvLmdsb2JhbFsnYXJyLWNvbmNhdCddID0gTWFjcm8uZ2xvYmFsLmFycmF5Y29uY2F0O1xuXG4gICAgTWFjcm8uYWRkKCdzdHJpbmdjb25jYXQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKGFyZ3VtZW50cykuam9pbignJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWwuc3RyY29uY2F0ID0gTWFjcm8uZ2xvYmFsLnN0cmluZ2NvbmNhdDtcbiAgICBNYWNyby5nbG9iYWxbJ3N0ci1jb25jYXQnXSA9IE1hY3JvLmdsb2JhbC5zdHJpbmdjb25jYXQ7XG5cbiAgICBNYWNyby5hZGQoJ2ZvcmVhY2gnLFxuICAgICAgICB7XG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgcG9pbnRlclBhc3N0aHJvdWdoOiBbMF0sXG4gICAgICAgICAgICBoYW5kbGVyKGNvbGxlY3Rpb24sIGtleSwgdmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb2Nlc3NlZENvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihjb2xsZWN0aW9uKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpbW1lZCA9IGNvbGxlY3Rpb24udHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJpbW1lZC5zdGFydHNXaXRoKCdbJykgJiYgdHJpbW1lZC5lbmRzV2l0aCgnXScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRDb2xsZWN0aW9uID0gc2FmZXJFdmFsKGNvbGxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZENvbGxlY3Rpb24gPSBzYWZlckpTT05QYXJzZShjb2xsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJvY2Vzc2VkQ29sbGVjdGlvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkQ29sbGVjdGlvbiA9PT0gY29sbGVjdGlvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihwcm9jZXNzZWRDb2xsZWN0aW9uKSAhPT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YocHJvY2Vzc2VkQ29sbGVjdGlvbikgIT09ICdzdHJpbmcnKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb24uaW5kZXhPZignLCcpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNvbGxlY3Rpb24gcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uZm9yZWFjaCBjYW5ub3QgYmUgcGFyc2VkIG9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZXZhbGxlZCwgYW5kIGlzIG5vdCBjb21tYS1zZXBhcmF0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRDb2xsZWN0aW9uID0gY29sbGVjdGlvbi5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoY29sbGVjdGlvbikgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNvbGxlY3Rpb24gYXJndW1lbnQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAncGFzc2VkIHRvIE1hY3JvLmZvcmVhY2ggaXMgbm90IGFuIG9iamVjdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdvciBzdHJpbmcuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHBvaW50ZXI7XG4gICAgICAgICAgICAgICAgaWYgKFN0YXRlLmlzUG9pbnRlcihwcm9jZXNzZWRDb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBwb2ludGVyID0gcHJvY2Vzc2VkQ29sbGVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkQ29sbGVjdGlvbiA9IFN0YXRlLmdldFZhcmlhYmxlKHBvaW50ZXIsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBrZXlWYWw7XG4gICAgICAgICAgICAgICAgaWYgKGtleSAmJiB0eXBlb2Yoa2V5KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5VmFsID0ga2V5LnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleVZhbFswXSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlWYWwgPSBrZXlWYWwuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgdmFsdWVWYWw7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZih2YWx1ZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlVmFsID0gdmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVWYWxbMF0gPT09ICckJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVWYWwgPSB2YWx1ZVZhbC5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2sgfHwgdHlwZW9mKGNhbGxiYWNrKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUT0RPOiBmb3JlYWNoIGNhbGxiYWNrIGVycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzc2VkQ29sbGVjdGlvbi50eXBlID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkQ29sbGVjdGlvbiA9IHByb2Nlc3NlZENvbGxlY3Rpb24uY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9jZXNzZWRDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVE9ETzogZm9yZWFjaCB3bUNvbGxlY3Rpb24gZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9jZXNzZWRDb2xsZWN0aW9uKS5cbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgcmV0dXJuIHRoZSBsZW5ndGggcHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXkgIT09ICdsZW5ndGgnO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc2VkQ29sbGVjdGlvbltrZXldO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcmV0dXJuRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3R3LW1hdGNoJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuRWxlbS5jbGFzc05hbWUgPSAnZWFjaENvbnRhaW5lcic7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwga2V5cy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3R3LW1hdGNoJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldE5vZGUuaW5uZXJIVE1MID0gY2FsbGJhY2s7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleVZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGtleXNbaWldO1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGUubGV0VmFyaWFibGUoa2V5VmFsLCAnPScsIG5hbWUsIHJldE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvY2tTY29wZSA9IFN0YXRlLmdldEJsb2NrU2NvcGUodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9ja1Njb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eU5hbWVzKGJsb2NrU2NvcGUpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTdGF0ZS5pc1BvaW50ZXIoYmxvY2tTY29wZVtuYW1lXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGUubGV0VmFyaWFibGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJz0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGUuZ2V0UG9pbnRlcihibG9ja1Njb3BlW25hbWVdLnBhdGggKyAnWycgKyBuYW1lICsgJ10nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlLmxldFZhcmlhYmxlKG5hbWUsICc9JywgYmxvY2tTY29wZVtuYW1lXSwgcmV0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHZhbHVlc1tpaV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2ludGVyICYmIHZhbCAmJiB0eXBlb2YodmFsKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGF0ZS5sZXRWYXJpYWJsZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVWYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGUuZ2V0UG9pbnRlcihwb2ludGVyLnBhdGggKyAnWycgKyBrZXlzW2lpXSArICddJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGF0ZS5sZXRWYXJpYWJsZSh2YWx1ZVZhbCwgJz0nLCB2YWwsIHJldE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgQ29tcGlsZXIuY29tcGlsZShyZXROb2RlKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm5FbGVtLmFwcGVuZENoaWxkKHJldE5vZGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5FbGVtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnZm9yLWVhY2gnXSA9IE1hY3JvLmdsb2JhbC5mb3JlYWNoO1xuXG4gICAgTWFjcm8uYWRkKCdyYW5nZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobG93ZXIsIHVwcGVyLCBzdGVwKSB7XG4gICAgICAgICAgICAgICAgLyohIGh0dHA6Ly9tdGhzLmJlL2NvZGVwb2ludGF0IHYwLjEuMCBieSBAbWF0aGlhcyAqL1xuICAgICAgICAgICAgICAgIGlmICghU3RyaW5nLnByb3RvdHlwZS5jb2RlUG9pbnRBdCkge1xuICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAndXNlIHN0cmljdCc7IC8vIG5lZWRlZCB0byBzdXBwb3J0IGBhcHBseWAvYGNhbGxgIHdpdGggYHVuZGVmaW5lZGAvYG51bGxgXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50QXQgPSBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHJpbmcgPSBTdHJpbmcodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpemUgPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGBUb0ludGVnZXJgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gcG9zaXRpb24gPyBOdW1iZXIocG9zaXRpb24pIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT0gaW5kZXgpIHsgLy8gYmV0dGVyIGBpc05hTmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBY2NvdW50IGZvciBvdXQtb2YtYm91bmRzIGluZGljZXM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBzaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgZmlyc3QgY29kZSB1bml0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0ID0gc3RyaW5nLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWNvbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAvLyBjaGVjayBpZiBpdOKAmXMgdGhlIHN0YXJ0IG9mIGEgc3Vycm9nYXRlIHBhaXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3QgPj0gMHhEODAwICYmIGZpcnN0IDw9IDB4REJGRiAmJiAvLyBoaWdoIHN1cnJvZ2F0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplID4gaW5kZXggKyAxIC8vIHRoZXJlIGlzIGEgbmV4dCBjb2RlIHVuaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kID0gc3RyaW5nLmNoYXJDb2RlQXQoaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY29uZCA+PSAweERDMDAgJiYgc2Vjb25kIDw9IDB4REZGRikgeyAvLyBsb3cgc3Vycm9nYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmcjc3Vycm9nYXRlLWZvcm11bGFlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGZpcnN0IC0gMHhEODAwKSAqIDB4NDAwICsgc2Vjb25kIC0gMHhEQzAwICsgMHgxMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsICdjb2RlUG9pbnRBdCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlJzogY29kZVBvaW50QXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZy5wcm90b3R5cGUuY29kZVBvaW50QXQgPSBjb2RlUG9pbnRBdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogKi9cblxuICAgICAgICAgICAgICAgIC8qISBodHRwOi8vbXRocy5iZS9mcm9tY29kZXBvaW50IHYwLjEuMCBieSBAbWF0aGlhcyAqL1xuICAgICAgICAgICAgICAgIGlmICghU3RyaW5nLmZyb21Db2RlUG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElFIDggb25seSBzdXBwb3J0cyBgT2JqZWN0LmRlZmluZVByb3BlcnR5YCBvbiBET00gZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAkZGVmaW5lUHJvcGVydHkob2JqZWN0LCBvYmplY3QsIG9iamVjdCkgJiYgJGRlZmluZVByb3BlcnR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2goZXJyb3IpIHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmbG9vciA9IE1hdGguZmxvb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJvbUNvZGVQb2ludCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBNQVhfU0laRSA9IDB4NDAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZVVuaXRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhpZ2hTdXJyb2dhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvd1N1cnJvZ2F0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZVBvaW50ID0gTnVtYmVyKGFyZ3VtZW50c1tpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNGaW5pdGUoY29kZVBvaW50KSB8fCAgICAgICAvLyBgTmFOYCwgYCtJbmZpbml0eWAsIG9yIGAtSW5maW5pdHlgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPCAwIHx8ICAgICAgICAgICAgICAvLyBub3QgYSB2YWxpZCBVbmljb2RlIGNvZGUgcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVQb2ludCA+IDB4MTBGRkZGIHx8ICAgICAgIC8vIG5vdCBhIHZhbGlkIFVuaWNvZGUgY29kZSBwb2ludFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvb3IoY29kZVBvaW50KSAhPSBjb2RlUG9pbnQgLy8gbm90IGFuIGludGVnZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQ6ICcgKyBjb2RlUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPD0gMHhGRkZGKSB7IC8vIEJNUCBjb2RlIHBvaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlVW5pdHMucHVzaChjb2RlUG9pbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBBc3RyYWwgY29kZSBwb2ludDsgc3BsaXQgaW4gc3Vycm9nYXRlIGhhbHZlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cDovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZyNzdXJyb2dhdGUtZm9ybXVsYWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaFN1cnJvZ2F0ZSA9IChjb2RlUG9pbnQgPj4gMTApICsgMHhEODAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93U3Vycm9nYXRlID0gKGNvZGVQb2ludCAlIDB4NDAwKSArIDB4REMwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVVbml0cy5wdXNoKGhpZ2hTdXJyb2dhdGUsIGxvd1N1cnJvZ2F0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICsgMSA9PSBsZW5ndGggfHwgY29kZVVuaXRzLmxlbmd0aCA+IE1BWF9TSVpFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGNvZGVVbml0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlVW5pdHMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KFN0cmluZywgJ2Zyb21Db2RlUG9pbnQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YWx1ZSc6IGZyb21Db2RlUG9pbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ29kZVBvaW50ID0gZnJvbUNvZGVQb2ludDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogKi9cblxuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnTm8gYXJndW1lbnRzIHdlcmUgcHJvdmlkZWQgdG8gTWFjcm8ucmFuZ2UuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YobG93ZXIpICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGxvd2VyKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGxvd2VyIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yYW5nZSBpcyBub3QgYSBudW1iZXIgb3Igc3RyaW5nLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2V4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBsb3dlciBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZ2UgaXMgYSBzdHJpbmcsIGJ1dCBpcyBub3Qgb2YgbGVuZ3RoICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoTnVtYmVyLmlzTmFOKGxvd2VyKSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBsb3dlciBhcmd1bWVudCBwcm92aWRlZCB0byBNYWNyby5yYW5nZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpcyBOYU4uIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb3dlciA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGxvd2VyIGFyZ3VtZW50IHByb3ZpZGVkIHRvIE1hY3JvLnJhbmdlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIHBvc2l0aXZlIEluZmluaXR5LiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG93ZXIgPT09IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBsb3dlciBhcmd1bWVudCBwcm92aWRlZCB0byBNYWNyby5yYW5nZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpcyBuZWdhdGl2ZSBJbmZpbml0eS4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdXBwZXIgYXJndW1lbnQgd2FzIG5vdCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yYW5nZS4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHVwcGVyKSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZih1cHBlcikgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB1cHBlciBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZ2UgaXMgbm90IGEgbnVtYmVyIG9yIHN0cmluZy4gQ2Fubm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVwcGVyLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdXBwZXIgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmdlIGlzIGEgc3RyaW5nLCBidXQgaXMgbm90IG9mIGxlbmd0aCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMS4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE51bWJlci5pc05hTih1cHBlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdXBwZXIgYXJndW1lbnQgcHJvdmlkZWQgdG8gTWFjcm8ucmFuZ2UgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXMgTmFOLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodXBwZXIgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB1cHBlciBhcmd1bWVudCBwcm92aWRlZCB0byBNYWNyby5yYW5nZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpcyBwb3NpdGl2ZSBJbmZpbml0eS4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVwcGVyID09PSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdXBwZXIgYXJndW1lbnQgcHJvdmlkZWQgdG8gTWFjcm8ucmFuZ2UgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXMgbmVnYXRpdmUgSW5maW5pdHkuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihsb3dlcikgIT09IHR5cGVvZih1cHBlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdHlwZSBvZiB0aGUgbG93ZXIgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZ2UgZG9lcyBub3QgbWF0Y2ggdGhhdCBvZiB0aGUgdXBwZXIgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXJndW1lbnQuIEVpdGhlciBib3RoIG11c3QgYmUgYSBudW1iZXIsIG9yIGJvdGggJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbXVzdCBiZSBhIHN0cmluZy4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yoc3RlcCkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yoc3RlcCkgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBzdGVwIGFyZ3VtZW50IGlzIHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yYW5nZSwgYnV0IGlzIG5vdCBhIG51bWJlci4gQ2Fubm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE51bWJlci5pc05hTihzdGVwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgc3RlcCBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZ2UgaXMgTmFOLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGVwID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHN0ZXAgYXJndW1lbnQgcHJvdmlkZWQgdG8gTWFjcm8ucmFuZ2UgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIHBvc2l0aXZlIEluZmluaXR5LiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGVwID09PSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHN0ZXAgYXJndW1lbnQgcHJvdmlkZWQgdG8gTWFjcm8ucmFuZ2UgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5lZ2F0aXZlIEluZmluaXR5LiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGVwIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHN0ZXAgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmdlIG11c3QgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDAuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IFtdO1xuICAgICAgICAgICAgICAgIGxldCBzdGVwTnVtID0gc3RlcDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHN0ZXApID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBzdGVwTnVtID0gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGxvd2VyKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvd2VyID49IHVwcGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBsb3dlciBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmdlIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VwcGVyIGFyZ3VtZW50LiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBsb3dlcjtcblxuICAgICAgICAgICAgICAgICAgICAvLyB1cHBlci1leGNsdXNpdmUgYm91bmRcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGluZGV4IDwgdXBwZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IHN0ZXBOdW07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihsb3dlcikgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyQ29kZVBvaW50ID0gbG93ZXIuY29kZVBvaW50QXQoMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwcGVyQ29kZVBvaW50ID0gdXBwZXIuY29kZVBvaW50QXQoMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvd2VyQ29kZVBvaW50ID49IHVwcGVyQ29kZVBvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBsb3dlciBjaGFyYWN0ZXIgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yYW5nZSBoYXMgYSBjb2RlIHBvaW50IGdyZWF0ZXIgdGhhbiBvciAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZXF1YWwgdG8gdGhlIHVwcGVyIGNoYXJhY3RlciBhcmd1bWVudFxcJ3MgY29kZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9pbnQuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0ZXBOdW0gJSAxICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBzdGVwIHByb3ZpZGVkIHRvIE1hY3JvLnJhbmdlIGlzIG5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbiBpbnRlZ2VyLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IGxvd2VyQ29kZVBvaW50O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwcGVyLWluY2x1c2l2ZSBib3VuZFxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaW5kZXggPD0gdXBwZXJDb2RlUG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyID0gU3RyaW5nLmZyb21Db2RlUG9pbnQoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnB1c2goc3RyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZm9sbG93aW5nIGVycm9yIHdhcyBlbmNvdW50ZXJlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3doZW4gdHJ5aW5nIHRvIHByb2R1Y2UgYSBzdHJpbmcgZnJvbSB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdmb2xsb3dpbmcgY29kZXBvaW50OiAnICsgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gc3RlcE51bTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShjb250YWluZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuXG4gICAgTWFjcm8uYWRkKCdlaXRoZXInLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKGFycmF5bGlrZSkge1xuICAgICAgICAgICAgICAgIGxldCBhcnJheTtcblxuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgd2VyZSBubyBhcmd1bWVudHMgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uZWl0aGVyLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFycmF5bGlrZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgb25seSBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uZWl0aGVyIGlzIG5laXRoZXIgYW4gb2JqZWN0IG5vciBhICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcobm9uLWVtcHR5KSBzdHJpbmcuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihhcnJheWxpa2UpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoJ2xlbmd0aCcgaW4gYXJyYXlsaWtlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnQW4gb2JqZWN0IHdhcyBwcm92aWRlZCBhcyB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvbmx5IGFyZ3VtZW50IHRvIE1hY3JvLmVpdGhlciwgYnV0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXQgaGFzIG5vIGxlbmd0aCBwcm9wZXJ0eS4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghYXJyYXlsaWtlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnQW4gYXJyYXktbGlrZSBvYmplY3Qgd2FzIHByb3ZpZGVkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXMgdGhlIG9ubHkgYXJndW1lbnQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5laXRoZXIsIGJ1dCBpdCBpcyBlbXB0eS4gQ2Fubm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5ID0gYXJyYXlsaWtlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihhcnJheWxpa2UpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXkgPSBzYWZlckNvbWJpbmVkUGFyc2UoYXJyYXlsaWtlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhcnJheSB8fCB0eXBlb2YoYXJyYXkpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG9ubHkgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5laXRoZXIgZG9lcyBub3QgcGFyc2UgdG8gYSBub24tbnVsbCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29iamVjdC4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghKCdsZW5ndGgnIGluIGFycmF5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnQW4gc3RyaW5nIHdhcyBwcm92aWRlZCBhcyB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvbmx5IGFyZ3VtZW50IHRvIE1hY3JvLmVpdGhlciwgYnV0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGhlIG9iamVjdCBwYXJzZWQgZnJvbSBpdCBoYXMgbm8gbGVuZ3RoICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvcGVydHkuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnQW4gc3RyaW5nIHdhcyBwcm92aWRlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FzIHRoZSBvbmx5IGFyZ3VtZW50IHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uZWl0aGVyLCBidXQgdGhlIGFycmF5LWxpa2Ugb2JqZWN0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFyc2VkIGZyb20gaXQgaXMgZW1wdHkuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnT25seSBvbmUgYXJndW1lbnQgd2FzIHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uZWl0aGVyLCBhbmQgdGhpcyBhcmd1bWVudCBpcyBub3QgYW4gYXJyYXkgb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FycmF5bGlrZSBvYmplY3QuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyYXkubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlaXRoZXIgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGVpdGhlcikgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlaXRoZXIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlaXRoZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuXG4gICAgTWFjcm8uYWRkKCdyYW5kb20nLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKGZsb29yLCBjZWlsaW5nLCBmbG9hdCwgZXhjbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihmbG9vcikgIT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZihmbG9vcikgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZmxvb3IgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZG9tIGlzIG5vdCBhIG51bWJlci4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE51bWJlci5pc05hTihmbG9vcikpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZmxvb3IgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZG9tIGlzIE5hTi4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZsb29yID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZmxvb3IgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZG9tIGlzIHBvc2l0aXZlIEluZmluaXR5LiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxvb3IgPT09IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBmbG9vciBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yYW5kb20gaXMgbmVnYXRpdmUgSW5maW5pdHkuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoY2VpbGluZykgIT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZihjZWlsaW5nKSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBjZWlsaW5nIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmRvbSBpcyBub3QgYSBudW1iZXIuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChOdW1iZXIuaXNOYU4oY2VpbGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgY2VpbGluZyBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yYW5kb20gaXMgTmFOLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2VpbGluZyA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNlaWxpbmcgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZG9tIGlzIHBvc2l0aXZlIEluZmluaXR5LiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2VpbGluZyA9PT0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNlaWxpbmcgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZG9tIGlzIG5lZ2F0aXZlIEluZmluaXR5LiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBmbG9vclZhbCA9IGZsb29yO1xuICAgICAgICAgICAgICAgIGxldCBjZWlsaW5nVmFsID0gY2VpbGluZztcblxuICAgICAgICAgICAgICAgIGlmIChmbG9vclZhbCA+PSBjZWlsaW5nVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGZsb29yIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmRvbSBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIG9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2VxdWFsIHRvIHRoZSBjZWlsaW5nIGFyZ3VtZW50LiBDYW5ub3QgY3JlYXRlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3JhbmRvbSBudW1iZXIuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGZsb29yKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZmxvb3JWYWwgPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoY2VpbGluZykgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNlaWxpbmdWYWwgPSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBmbG9hdFZhbCA9IGZsb2F0ID09PSB0cnVlIHx8XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YoZmxvYXQpID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZmxvYXQudG9Mb3dlckNhc2UoKSA9PT0gJ2Zsb2F0Jyk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZXhjbHVzaXZlVmFsO1xuICAgICAgICAgICAgICAgIGlmIChleGNsdXNpdmUgPT09IHRydWUgfHxcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihleGNsdXNpdmUpID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZXhjbHVzaXZlLnRvTG93ZXJDYXNlKCkgPT09ICdleGNsdXNpdmUnKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGV4Y2x1c2l2ZVZhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoZXhjbHVzaXZlKSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgZXhjbHVzaXZlLnRvTG93ZXJDYXNlKCkgPT09ICdmbG9vcicpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBleGNsdXNpdmVWYWwgPSAnZmxvb3InO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGV4Y2x1c2l2ZSkgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgIGV4Y2x1c2l2ZS50b0xvd2VyQ2FzZSgpID09PSAnY2VpbGluZycpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBleGNsdXNpdmVWYWwgPSAnY2VpbGluZyc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFmbG9hdFZhbCAmJlxuICAgICAgICAgICAgICAgICAgICBmbG9vclZhbCArIDEgPj0gY2VpbGluZ1ZhbCAmJlxuICAgICAgICAgICAgICAgICAgICBleGNsdXNpdmVWYWwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhcmd1bWVudHMgZm9yIE1hY3JvLnJhbmRvbSBpbmRpY2F0ZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbiBpbnRlZ2VyIHByb2R1Y3Qgd2l0aCBleGNsdXNpdmUgYm91bmRzLCBidXQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGhlIGNlaWxpbmcgYXJndW1lbnQgaXMgMSBvciBsZXNzIGdyZWF0ZXIgdGhhbiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0aGUgZmxvb3IgYXJndW1lbnQuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHJhbmQgPSBNYXRoLnJhbmRvbSgpICogKGNlaWxpbmdWYWwgLSBmbG9vclZhbCkgKyBmbG9vclZhbDtcblxuICAgICAgICAgICAgICAgIGlmICghZmxvYXRWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZCA9IE1hdGgucm91bmQocmFuZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJhbmQgPD0gZmxvb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZCA9IGZsb29yO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChleGNsdXNpdmVWYWwgPT09IHRydWUgfHwgZXhjbHVzaXZlVmFsID09PSAnZmxvb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmxvYXRWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kICs9IE51bWJlci5FUFNJTE9OO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJhbmQgPj0gY2VpbGluZykge1xuICAgICAgICAgICAgICAgICAgICByYW5kID0gY2VpbGluZztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVzaXZlVmFsID09PSB0cnVlIHx8IGV4Y2x1c2l2ZVZhbCA9PT0gJ2NlaWxpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmxvYXRWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kIC09IE51bWJlci5FUFNJTE9OO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5kLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmFuZCA9PT0gLTApIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsLnJhbmQgPSBNYWNyby5nbG9iYWwucmFuZG9tO1xuXG4gICAgTWFjcm8uYWRkKCdyYW5kb21mbG9hdCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoZmxvb3IsIGNlaWxpbmcsIGV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoZmxvb3IpICE9PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YoZmxvb3IpICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGZsb29yIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmRvbWZsb2F0IGlzIG5vdCBhIG51bWJlci4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE51bWJlci5pc05hTihmbG9vcikpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZmxvb3IgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZG9tZmxvYXQgaXMgTmFOLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmxvb3IgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBmbG9vciBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yYW5kb21mbG9hdCBpcyBwb3NpdGl2ZSBJbmZpbml0eS4gQ2Fubm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2V4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZsb29yID09PSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZmxvb3IgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZG9tZmxvYXQgaXMgbmVnYXRpdmUgSW5maW5pdHkuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoY2VpbGluZykgIT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZihjZWlsaW5nKSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBjZWlsaW5nIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmRvbWZsb2F0IGlzIG5vdCBhIG51bWJlci4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE51bWJlci5pc05hTihjZWlsaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBjZWlsaW5nIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmRvbWZsb2F0IGlzIE5hTi4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNlaWxpbmcgPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBjZWlsaW5nIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmRvbWZsb2F0IGlzIHBvc2l0aXZlIEluZmluaXR5LiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2VpbGluZyA9PT0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNlaWxpbmcgYXJndW1lbnQgcHJvdmlkZWQgdG8gTWFjcm8ucmFuZG9tICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5lZ2F0aXZlIEluZmluaXR5LiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBmbG9vclZhbCA9IGZsb29yO1xuICAgICAgICAgICAgICAgIGxldCBjZWlsaW5nVmFsID0gY2VpbGluZztcblxuICAgICAgICAgICAgICAgIGlmIChmbG9vclZhbCA+PSBjZWlsaW5nVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGZsb29yIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmRvbWZsb2F0IGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndG8gdGhlIGNlaWxpbmcgYXJndW1lbnQuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihmbG9vcikgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsb29yVmFsID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGNlaWxpbmcpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBjZWlsaW5nVmFsID0gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgZXhjbHVzaXZlVmFsO1xuICAgICAgICAgICAgICAgIGlmIChleGNsdXNpdmUgPT09IHRydWUgfHxcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihleGNsdXNpdmUpID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZXhjbHVzaXZlLnRvTG93ZXJDYXNlKCkgPT09ICdleGNsdXNpdmUnKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGV4Y2x1c2l2ZVZhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoZXhjbHVzaXZlKSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgZXhjbHVzaXZlLnRvTG93ZXJDYXNlKCkgPT09ICdmbG9vcicpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBleGNsdXNpdmVWYWwgPSAnZmxvb3InO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGV4Y2x1c2l2ZSkgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgIGV4Y2x1c2l2ZS50b0xvd2VyQ2FzZSgpID09PSAnY2VpbGluZycpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBleGNsdXNpdmVWYWwgPSAnY2VpbGluZyc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHJhbmQgPSBNYXRoLnJhbmRvbSgpICogKGNlaWxpbmdWYWwgLSBmbG9vclZhbCkgKyBmbG9vclZhbDtcblxuICAgICAgICAgICAgICAgIGlmIChyYW5kID09PSBmbG9vcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVzaXZlVmFsID09PSB0cnVlIHx8IGV4Y2x1c2l2ZVZhbCA9PT0gJ2Zsb29yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZCArPSBOdW1iZXIuRVBTSUxPTjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZCA9PT0gY2VpbGluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVzaXZlVmFsID09PSB0cnVlIHx8IGV4Y2x1c2l2ZVZhbCA9PT0gJ2NlaWxpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5kIC09IE51bWJlci5FUFNJTE9OO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJhbmQgPT09IC0wKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmQgPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiByYW5kO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsncmFuZG9tLWZsb2F0J10gPSBNYWNyby5nbG9iYWwucmFuZG9tZmxvYXQ7XG4gICAgTWFjcm8uZ2xvYmFsLnJhbmRmbG9hdCA9IE1hY3JvLmdsb2JhbC5yYW5kb21mbG9hdDtcbiAgICBNYWNyby5nbG9iYWxbJ3JhbmQtZmxvYXQnXSA9IE1hY3JvLmdsb2JhbC5yYW5kb21mbG9hdDtcblxuICAgIE1hY3JvLmFkZCgncmFuZG9taW50ZWdlcicsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoZmxvb3IsIGNlaWxpbmcsIGV4Y2x1c2l2ZSwgbmVnYXRpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGZsb29yKSAhPT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mKGZsb29yKSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBmbG9vciBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yYW5kb21pbnRlZ2VyIGlzIG5vdCBhIG51bWJlci4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE51bWJlci5pc05hTihmbG9vcikpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZmxvb3IgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZG9taW50ZWdlciBpcyBOYU4uIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmbG9vciA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGZsb29yIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmRvbWludGVnZXIgaXMgcG9zaXRpdmUgSW5maW5pdHkuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmbG9vciA9PT0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGZsb29yIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmRvbWludGVnZXIgaXMgbmVnYXRpdmUgSW5maW5pdHkuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoY2VpbGluZykgIT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZihjZWlsaW5nKSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBjZWlsaW5nIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJhbmRvbWludGVnZXIgaXMgbm90IGEgbnVtYmVyLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoTnVtYmVyLmlzTmFOKGNlaWxpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNlaWxpbmcgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZG9taW50ZWdlciBpcyBOYU4uIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjZWlsaW5nID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgY2VpbGluZyBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yYW5kb21pbnRlZ2VyIGlzIHBvc2l0aXZlIEluZmluaXR5LiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2VpbGluZyA9PT0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNlaWxpbmcgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucmFuZG9taW50ZWdlciBpcyBuZWdhdGl2ZSBJbmZpbml0eS4gQ2Fubm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2V4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgZmxvb3JWYWwgPSBmbG9vcjtcbiAgICAgICAgICAgICAgICBsZXQgY2VpbGluZ1ZhbCA9IGNlaWxpbmc7XG5cbiAgICAgICAgICAgICAgICBpZiAoZmxvb3JWYWwgPj0gY2VpbGluZ1ZhbCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBmbG9vciBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yYW5kb21pbnRlZ2VyIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXF1YWwgdG8gdGhlIGNlaWxpbmcgYXJndW1lbnQuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihmbG9vcikgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZsb29yVmFsID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGNlaWxpbmcpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBjZWlsaW5nVmFsID0gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgZXhjbHVzaXZlVmFsO1xuICAgICAgICAgICAgICAgIGlmIChleGNsdXNpdmUgPT09IHRydWUgfHxcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihleGNsdXNpdmUpID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZXhjbHVzaXZlLnRvTG93ZXJDYXNlKCkgPT09ICdleGNsdXNpdmUnKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGV4Y2x1c2l2ZVZhbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoZXhjbHVzaXZlKSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgZXhjbHVzaXZlLnRvTG93ZXJDYXNlKCkgPT09ICdmbG9vcicpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBleGNsdXNpdmVWYWwgPSAnZmxvb3InO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGV4Y2x1c2l2ZSkgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgIGV4Y2x1c2l2ZS50b0xvd2VyQ2FzZSgpID09PSAnY2VpbGluZycpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBleGNsdXNpdmVWYWwgPSAnY2VpbGluZyc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGZsb29yVmFsICsgMSA+PSBjZWlsaW5nVmFsICYmIGV4Y2x1c2l2ZVZhbCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhcmd1bWVudHMgZm9yIE1hY3JvLnJhbmRvbWludGVnZXIgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnaW5kaWNhdGUgZXhjbHVzaXZlIGJvdW5kcywgYnV0IHRoZSBjZWlsaW5nICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyZ3VtZW50IGlzIDEgb3IgbGVzcyBncmVhdGVyIHRoYW4gdGhlIGZsb29yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FyZ3VtZW50LiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCByYW5kID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICpcbiAgICAgICAgICAgICAgICAgICAgKGNlaWxpbmdWYWwgLSBmbG9vclZhbCkgK1xuICAgICAgICAgICAgICAgICAgICBmbG9vclZhbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmFuZCA9PT0gZmxvb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2x1c2l2ZVZhbCA9PT0gdHJ1ZSB8fCBleGNsdXNpdmVWYWwgPT09ICdmbG9vcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmQrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmFuZCA9PT0gY2VpbGluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhjbHVzaXZlVmFsID09PSB0cnVlIHx8IGV4Y2x1c2l2ZVZhbCA9PT0gJ2NlaWxpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5kLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmFuZCA9PT0gLTApIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhbmQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydyYW5kb20taW50ZWdlciddID0gTWFjcm8uZ2xvYmFsLnJhbmRvbWludGVnZXI7XG4gICAgTWFjcm8uZ2xvYmFsLnJhbmRvbWludCA9IE1hY3JvLmdsb2JhbC5yYW5kb21pbnRlZ2VyO1xuICAgIE1hY3JvLmdsb2JhbFsncmFuZG9tLWludCddID0gTWFjcm8uZ2xvYmFsLnJhbmRvbWludGVnZXI7XG4gICAgTWFjcm8uZ2xvYmFsLnJhbmRpbnRlZ2VyID0gTWFjcm8uZ2xvYmFsLnJhbmRvbWludGVnZXI7XG4gICAgTWFjcm8uZ2xvYmFsWydyYW5kLWludGVnZXInXSA9IE1hY3JvLmdsb2JhbC5yYW5kb21pbnRlZ2VyO1xuICAgIE1hY3JvLmdsb2JhbC5yYW5kaW50ID0gTWFjcm8uZ2xvYmFsLnJhbmRvbWludGVnZXI7XG4gICAgTWFjcm8uZ2xvYmFsWydyYW5kLWludCddID0gTWFjcm8uZ2xvYmFsLnJhbmRvbWludGVnZXI7XG5cbiAgICBNYWNyby5hZGQoJ3JvbGxkaWNlJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihkaWNlLCByZXR1cm5UeXBlLCBkaXNjYXJkKSB7XG4gICAgICAgICAgICAgICAgLyogUHJvZHVjdGlvbiBzdGVwcyBvZiBFQ01BLTI2MiwgRWRpdGlvbiA1LCAxNS40LjQuMjFcbiAgICAgICAgICAgICAgICAgKiBSZWZlcmVuY2U6IGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4MTUuNC40LjIxICovXG4gICAgICAgICAgICAgICAgaWYgKCFBcnJheS5wcm90b3R5cGUucmVkdWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgPSBmdW5jdGlvbihjYWxsYmFjayAvKiwgaW5pdGlhbFZhbHVlKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5wcm90b3R5cGUucmVkdWNlIGNhbGxlZCBvbiBudWxsIG9yIHVuZGVmaW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoY2FsbGJhY2sgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IE9iamVjdCh0aGlzKSwgbGVuID0gdC5sZW5ndGggPj4+IDAsIGsgPSAwLCB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGsgPCBsZW4gJiYgIShrIGluIHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGsrKzsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrID49IGxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdFtrKytdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IGsgPCBsZW47IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrIGluIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBjYWxsYmFjayh2YWx1ZSwgdFtrXSwgaywgdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiAqL1xuXG4gICAgICAgICAgICAgICAgbGV0IGRpY2VWYWw7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihkaWNlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgZGljZVZhbCA9IHNhZmVyQ29tYmluZWRQYXJzZShkaWNlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGRpY2VWYWwpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGljZVZhbCA9IGRpY2Uuc3BsaXQoJyAnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGljZVZhbCB8fCB0eXBlb2YoZGljZVZhbCkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBkaWNlIGFyZ3VtZW50IHByb3ZpZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJvbGxkaWNlIGlzIG5vdCB2YWxpZC4gQSB2YWxpZCBhcmd1bWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXMgZWl0aGVyIGFuIGFycmF5LWxpa2Ugb2JqZWN0IG9yIGEgc3RyaW5nLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGljZVZhbCA9IGZyb20oZGljZVZhbCk7ICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEoJ2xlbmd0aCcgaW4gZGljZVZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgb2JqZWN0IHByb3ZpZGVkIHRvIE1hY3JvLnJvbGxkaWNlIGFzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RoZSBkaWNlIGFyZ3VtZW50IGRvZXMgbm90IGhhdmUgYSBsZW5ndGggcHJvcGVydHkuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGljZVZhbC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgYXJyYXkgcHJvdmlkZWQgdG8gTWFjcm8ucm9sbGRpY2UgYXMgdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpY2UgYXJndW1lbnQgaXMgZW1wdHkuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBkaWNlVmFsLmZpbHRlcihmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZihhYSkgPT09ICdzdHJpbmcnICYmIGFhLnRyaW0oKSAhPT0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGRpY2UgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJvbGxkaWNlIGlzIG5vdCB2YWxpZC4gQSB2YWxpZCBhcmd1bWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXMgZWl0aGVyIGFuIGFycmF5IG9yIHN0cmluZywgZWl0aGVyIGNvbnRhaW5pbmcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSBvciBtb3JlIHN0cmluZ3Mgb2YgdGhlIHR5cGUgWGRZLCB3aGVyZSBYICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRvIHJvbGwgdGhhdCBkaWUsIGFuZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnWSBpcyB0aGUgbnVtYmVyIG9mIGZhY2VzIG9uIHRoYXQgZGllLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHJvbGxzID0gW107XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSAvXFxkK2RcXGQrLztcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZGljZVZhbC5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9ydGlvbiA9IGRpY2VWYWxbaWldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHBvcnRpb24pICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgcG9ydGlvbiBvZiB0aGUgZGljZSBhcmd1bWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvdmlkZWQgdG8gTWFjcm8uZGljZXJvbGwsICcgKyBwb3J0aW9uICsgJywgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5vdCBhIHN0cmluZy4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghcG9ydGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgcG9ydGlvbiBvZiB0aGUgZGljZSBhcmd1bWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncHJvdmlkZWQgdG8gTWFjcm8uZGljZXJvbGwgaXMgZW1wdHkuIElnbm9yaW5nICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwb3J0aW9uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXJlZ2V4LnRlc3QocG9ydGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHBvcnRpb24gb2YgdGhlIGRpY2UgYXJndW1lbnQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3ZpZGVkIHRvIE1hY3JvLmRpY2Vyb2xsLCAnICsgcG9ydGlvbiArICcsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkb2VzIG5vdCBtYXRjaCB0aGUgdmFsaWQgZGljZSBwYXR0ZXJuLiBUaGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbGlkIHBhdHRlcm4gaXMgYW4gaW50ZWdlciwgaW1tZWRpYXRlbHkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbGxvd2VkIGJ5IHRoZSBsZXR0ZXIgZCwgaW1tZWRpYXRlbHkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbGxvd2VkIGJ5IGFub3RoZXIgaW50ZWdlciwgZS5nLiAyZDYsIG9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxMWQ0LCBvciAxMmQxOC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBvcnRpb24ubGVuZ3RoICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgcG9ydGlvbi5tYXRjaChyZWdleClbMF0ubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBwb3J0aW9uIG9mIHRoZSBkaWNlIGFyZ3VtZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm92aWRlZCB0byBNYWNyby5kaWNlcm9sbCwgJyArIHBvcnRpb24gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsIGlzIG5vdCB2YWxpZC4gSXQgY29udGFpbnMgY2hhcmFjdGVycyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZXh0cmFuZW91cyB0byB0aGUgdmFsaWQgZGljZSBwYXR0ZXJuLiBUaGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbGlkIHBhdHRlcm4gaXMgYW4gaW50ZWdlciwgaW1tZWRpYXRlbHkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbGxvd2VkIGJ5IHRoZSBsZXR0ZXIgZCwgaW1tZWRpYXRlbHkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbGxvd2VkIGJ5IGFub3RoZXIgaW50ZWdlciwgZS5nLiAzZDQsIG9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc2ZDExLCBvciAxMGQxMi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BsaXQgPSBwb3J0aW9uLnNwbGl0KCdkJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzID0gTnVtYmVyKHNwbGl0WzBdKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2lkZXMgPSBOdW1iZXIoc3BsaXRbMV0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGpqID0gMDsgamogPCB0aW1lczsgamorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9sbHMucHVzaChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzaWRlcykgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJvbGxzID0gcm9sbHMuc29ydCgpO1xuICAgICAgICAgICAgICAgIGlmIChkaXNjYXJkICYmIHR5cGVvZihkaXNjYXJkKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpc2NhcmRWYWwgPSBkaXNjYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1sgLi1dL2csICcnKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGxpdCA9IGRpc2NhcmRWYWwudG9TdHJpbmcoKS5zcGxpdCgvXFxkLyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb25zdGFudCA9IGRpc2NhcmRWYWwuc3BsaXQoL1teXFxkJV0vKS5zbGljZSgtMSlbMF07XG4gICAgICAgICAgICAgICAgICAgIGxldCBwZXJjZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25zdGFudFtjb25zdGFudC5sZW5ndGggLSAxXSA9PT0gJyUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0YW50ID0gTnVtYmVyKGNvbnN0YW50LnNsaWNlKDAsIC0xKSkgLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdGFudCA9IE51bWJlcihjb25zdGFudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlcmNlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdFswXSA9PT0gJ2xvd2VzdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3dJbmRleCA9IE1hdGgucm91bmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGxzLmxlbmd0aCAqIGNvbnN0YW50KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGxzID0gcm9sbHMuc2xpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGxzLmxlbmd0aCAqIE51bWJlcihzcGxpdFsxXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcGxpdFswXSA9PT0gJ2hpZ2hlc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGlnaEluZGV4ID0gTWF0aC5yb3VuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sbHMubGVuZ3RoIC0gcm9sbHMubGVuZ3RoICogY29uc3RhbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sbHMgPSByb2xscy5zbGljZSgwLCBoaWdoSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcGxpdFswXSA9PT0gJ2JvdGgnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG93SW5kZXggPSBNYXRoLnJvdW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xscy5sZW5ndGggKiBjb25zdGFudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGlnaEluZGV4ID0gTWF0aC5yb3VuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sbHMubGVuZ3RoIC0gcm9sbHMubGVuZ3RoICogY29uc3RhbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sbHMgPSByb2xscy5zbGljZShsb3dJbmRleCwgaGlnaEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZGlzY2FyZCBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJvbGxkaWNlIGlzIG5vdCB2YWxpZC4gUmV0dXJuaW5nIGFzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXMuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXRbMF0gPT09ICdsb3dlc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG93SW5kZXggPSBjb25zdGFudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGxzID0gcm9sbHMuc2xpY2UobG93SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcGxpdFswXSA9PT0gJ2hpZ2hlc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGlnaEluZGV4ID0gcm9sbHMubGVuZ3RoIC0gY29uc3RhbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xscyA9IHJvbGxzLnNsaWNlKDAsIGhpZ2hJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNwbGl0WzBdID09PSAnYm90aCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3dJbmRleCA9IGNvbnN0YW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpZ2hJbmRleCA9IHJvbGxzLmxlbmd0aCAtIGNvbnN0YW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sbHMgPSByb2xscy5zbGljZShsb3dJbmRleCwgaGlnaEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZGlzY2FyZCBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnJvbGxkaWNlIGlzIG5vdCB2YWxpZC4gUmV0dXJuaW5nIGFzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaXMuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXJldHVyblR5cGUgfHxcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihyZXR1cm5UeXBlKSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGUudG9Mb3dlckNhc2UoKSA9PT0gJ3N1bScpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvbGxzLnJlZHVjZShmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhICsgYjsgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvbGxzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsncm9sbC1kaWNlJ10gPSBNYWNyby5nbG9iYWwucm9sbGRpY2U7XG4gICAgTWFjcm8uZ2xvYmFsLmRpY2Vyb2xsID0gTWFjcm8uZ2xvYmFsLnJvbGxkaWNlO1xuICAgIE1hY3JvLmdsb2JhbFsnZGljZS1yb2xsJ10gPSBNYWNyby5nbG9iYWwucm9sbGRpY2U7XG5cbiAgICBNYWNyby5hZGQoJ2Z1bmN0aW9uJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaXNEb3VibGVUYWc6IHRydWUsXG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIGhhbmRsZXIobmFtZSkge1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ0F0IGxlYXN0IHR3byBhcmd1bWVudHMsIHRoZSBmdW5jdGlvbiBuYW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FuZCB0aGUgY2FsbGJhY2ssIG11c3QgYmUgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uZnVuY3Rpb24gdG8gY3JlYXRlIGEgZnVuY3Rpb24vd2lkZ2V0LicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgYXJnTmFtZXMgPSBmcm9tKGFyZ3VtZW50cykuc2xpY2UoMSwgLTEpLm1hcChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvb2wgPSBCb29sZWFuKG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4obmFtZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgU3RhdGUuYWRkRnVuY3Rpb24uY2FsbCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYXJnTmFtZXMsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbC53aWRnZXQgPSBNYWNyby5nbG9iYWwuZnVuY3Rpb247XG5cbiAgICBNYWNyby5hZGQoJ2Z1bmN0aW9ub3ZlcnJpZGUnLFxuICAgICAgICB7XG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgaGFuZGxlcihuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnQXQgbGVhc3QgdHdvIGFyZ3VtZW50cywgdGhlIGZ1bmN0aW9uIG5hbWUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYW5kIHRoZSBjYWxsYmFjaywgbXVzdCBiZSBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5mdW5jdGlvbiB0byBjcmVhdGUgYSBmdW5jdGlvbi93aWRnZXQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBhcmdOYW1lcyA9IGZyb20oYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgIC5zbGljZSgxLCAtMSlcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9vbCA9IEJvb2xlYW4obmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQm9vbGVhbihuYW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBTdGF0ZS5hZGRGdW5jdGlvbi5jYWxsKHRoaXMsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGFyZ05hbWVzLFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ2Z1bmN0aW9uLW92ZXJyaWRlJ10gPSBNYWNyby5nbG9iYWwuZnVuY3Rpb25vdmVycmlkZTtcbiAgICBNYWNyby5nbG9iYWwud2lkZ2V0b3ZlcnJpZGUgPSBNYWNyby5nbG9iYWwuZnVuY3Rpb25vdmVycmlkZTtcbiAgICBNYWNyby5nbG9iYWxbJ3dpZGdldC1vdmVycmlkZSddID0gTWFjcm8uZ2xvYmFsLmZ1bmN0aW9ub3ZlcnJpZGU7XG4gICAgXG4gICAgTWFjcm8uYWRkKCdyZXR1cm4nLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFTdGF0ZS5jdXJyZW50VGhlbWUuZGVidWcuZmFpbEhhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdSZXR1cm4gc3RhdGVtZW50cyBjYW4gb25seSBiZSB1c2VkIHdpdGggJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnU3RhdGUuY3VycmVudFRoZW1lLmRlYnVnLmZhaWxIYXJkIHNldCB0byB0cnVlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghJCh0aGlzKS5wYXJlbnRzKCcuZnVuY3Rpb25Db250YWluZXInKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2F1c2VzIGVycm9yLCBhYm9ydHNcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdJbGxlZ2FsIHJldHVybiBzdGF0ZW1lbnQuIFJldHVybnMgbXVzdCBiZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250YWluZWQgaW4gdXNlci1jcmVhdGVkIGZ1bmN0aW9ucy93aWRnZXRzLicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHctYXJndW1lbnQnKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNOb2RlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaC5hcHBlbmRDaGlsZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2guaW5uZXJIVE1MID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcmV0dXJuaW5nID0gJCh0aGlzKS5wYXJlbnRzKCcuZnVuY3Rpb25Db250YWluZXInKVswXTtcbiAgICAgICAgICAgICAgICBpZiAocmV0dXJuaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuZnVuY3Rpb25zUmV0dXJuaW5nLnB1c2gocmV0dXJuaW5nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG5cbiAgICBNYWNyby5hZGQoJ2JpbmQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgaGFuZGxlcihuYW1lLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmICghbmFtZSB8fCB0eXBlb2YobmFtZSkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG5hbWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmdsb2JhbC5iaW5kIGlzIG5vdCB2YWxpZC4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFjYWxsYmFjayB8fCB0eXBlb2YoY2FsbGJhY2spICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZXJlIHdhcyBubyBjYWxsYmFjayBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5nbG9iYWwuYmluZC4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lVmFsID0gbmFtZS50cmltKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0dy1iaW5kaW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZChtYXRjaCk7XG4gICAgICAgICAgICAgICAgbWF0Y2guc2V0QXR0cmlidXRlKCdkYXRhLWJpbmRpbmctbmFtZScsIG5hbWVWYWwpO1xuICAgICAgICAgICAgICAgIG1hdGNoLmlubmVySFRNTCA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgICAgIENvbXBpbGVyLmNvbXBpbGUobWF0Y2gpO1xuXG4gICAgICAgICAgICAgICAgU3RhdGUuYWRkQmluZGluZyhuYW1lVmFsLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuXG4gICAgTWFjcm8uYWRkKCd1cGRhdGViaW5kaW5nJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lIHx8IHR5cGVvZihuYW1lKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbmFtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8udXBkYXRlYmluZGluZyBpcyBub3QgdmFsaWQuIE5vdCB1cGRhdGluZy4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIShuYW1lIGluIFN0YXRlLmJpbmRpbmdTdG9yZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbmFtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8udXBkYXRlYmluZGluZyBkb2VzIG5vdCBjb3JyZXNwb25kIHdpdGggYSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjdXJyZW50IGJpbmRpbmcuIENhbm5vdCB1cGRhdGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lVmFsID0gbmFtZS50cmltKCk7XG4gICAgICAgICAgICAgICAgU3RhdGUudXBkYXRlQmluZGluZyhuYW1lKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ3VwZGF0ZS1iaW5kaW5nJ10gPSBNYWNyby5nbG9iYWwudXBkYXRlYmluZGluZztcblxuICAgIE1hY3JvLmFkZCgndXBkYXRlYmluZGluZ3MnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgIFN0YXRlLnVwZGF0ZUJpbmRpbmdzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWyd1cGRhdGUtYmluZGluZ3MnXSA9IE1hY3JvLmdsb2JhbC51cGRhdGViaW5kaW5ncztcblxuICAgIE1hY3JvLmFkZCgnZ2V0YmluZGluZycsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICghbmFtZSB8fCB0eXBlb2YobmFtZSkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG5hbWUgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uZ2xvYmFsLmdldGJpbmRpbmcgaXMgbm90IGEgdmFsaWQgc3RyaW5nLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVWYWwgPSBuYW1lLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZVZhbCBpbiBTdGF0ZS5jdXJyZW50QmluZGluZ1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShTdGF0ZS5jdXJyZW50QmluZGluZ1N0YXRlW25hbWVWYWxdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gbm90aGluZywgZXZhbHVhdGluZyBhcyBmYWxzZSwgaWYgdGhlcmUgaXMgbm9uZVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydnZXQtYmluZGluZyddID0gTWFjcm8uZ2xvYmFsLmdldGJpbmRpbmc7XG5cbiAgICBNYWNyby5hZGQoJ3JlcXVlc3RhbmltYXRpb25mcmFtZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlzRG91YmxlVGFnOiB0cnVlLFxuICAgICAgICAgICAgZGVmZXI6IHRydWUsXG4gICAgICAgICAgICBoYW5kbGVyKGNhbGxiYWNrKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCAkc3BhbiA9ICQoJzxzcGFuPjwvc3Bhbj4nKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNvbnRlbnRzKClcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihfLCBub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhVHlwZSA9ICQobm9kZSkuYXR0cignZGF0YS10eXBlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVR5cGUgIT09ICdvcGVuVGFnVGVybWluYXRvcic7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbygkc3Bhbik7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBmdW5jID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIENvbXBpbGVyLmNvbXBpbGUoJHNwYW5bMF0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuYyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gJHNwYW5bMF07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydyZXF1ZXN0LWFuaW1hdGlvbi1mcmFtZSddID1cbiAgICAgICAgTWFjcm8uZ2xvYmFsLnJlcXVlc3RhbmltYXRpb25mcmFtZTtcbiAgICBNYWNyby5nbG9iYWwucmVxdWVzdGFuaW1mcmFtZSA9IE1hY3JvLmdsb2JhbC5yZXF1ZXN0YW5pbWF0aW9uZnJhbWU7XG4gICAgTWFjcm8uZ2xvYmFsWydyZXF1ZXN0LWFuaW0tZnJhbWUnXSA9IE1hY3JvLmdsb2JhbC5yZXF1ZXN0YW5pbWF0aW9uZnJhbWU7XG4gICAgTWFjcm8uZ2xvYmFsLnJhZiA9IE1hY3JvLmdsb2JhbC5yZXF1ZXN0YW5pbWF0aW9uZnJhbWU7XG5cbiAgICBNYWNyby5hZGQoJ2xpdmUnLFxuICAgICAgICB7XG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgaGFuZGxlcih0aW1lLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmICghdGltZSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB0aW1lIGFyZ3VtZW50IHBhc3NlZCB0byBNYWNyby5saXZlIGlzIG5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd2YWxpZC4gQ2Fubm90IHBlcmZvcm0gbGl2ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWNhbGxiYWNrIHx8IHR5cGVvZihjYWxsYmFjaykgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNhbGxiYWNrIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5nbG9iYWwubGl2ZSBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgdGltZU9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgYW10OiAwLFxuICAgICAgICAgICAgICAgICAgICB1bml0OiAnbXMnXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodGltZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWUgPSB0aW1lLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGltZS5lbmRzV2l0aCgnbXMnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIodGltZS5zcGxpdCgnbXMnKS5zbGljZSgwLCAtMSkuam9pbigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4obnVtKSB8fCBudW0gPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHRpbWUgdmFsdWUgcGFzc2VkIHRvIE1hY3JvLmxpdmUsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lICsgJywgaXMgbm90IHZhbGlkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZU9iai5hbXQgPSBudW07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGltZS5lbmRzV2l0aCgncycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBudW0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlcih0aW1lLnNwbGl0KCdzJykuc2xpY2UoMCwgLTEpLmpvaW4oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG51bSkgfHwgbnVtIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB0aW1lIHZhbHVlIHBhc3NlZCB0byBNYWNyby5saXZlLCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZSArICcsIGlzIG5vdCB2YWxpZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lT2JqLmFtdCA9IG51bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVPYmoudW5pdCA9ICdzJztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHRpbWUgdmFsdWUgcGFzc2VkIHRvIE1hY3JvLmxpdmUsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgKyAnLCBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZih0aW1lKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdGltZSBhcmd1bWVudCBwYXNzZWQgdG8gTWFjcm8ubGl2ZSBtdXN0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdiZSBncmVhdGVyIHRoYW4gemVyby4gQ2Fubm90IHBlcmZvcm0gbGl2ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRpbWVPYmouYW10ID0gdGltZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkaXNwbGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgZGlzcGxheWVyLmNsYXNzTmFtZSA9ICdpbnRlcnZhbERpc3BsYXllcic7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkZWZlcnJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3R3LWRlZmVycmVyJyk7XG4gICAgICAgICAgICAgICAgZGVmZXJyZXIuY2xhc3NOYW1lID0gJ2hpZGRlbic7XG4gICAgICAgICAgICAgICAgZGVmZXJyZXIudGV4dENvbnRlbnQgPSBjYWxsYmFjaztcblxuICAgICAgICAgICAgICAgIGxldCB0aW1lVmFsID0gdGltZU9iai5hbXQ7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWVPYmoudW5pdCA9PT0gJ3MnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVWYWwgKj0gMTAwMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpbnRJRCA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheWVyLmlubmVySFRNTCA9IGRlZmVycmVyLmlubmVySFRNTDtcblxuICAgICAgICAgICAgICAgICAgICBDb21waWxlci5jb21waWxlKGRpc3BsYXllcik7XG4gICAgICAgICAgICAgICAgfSwgdGltZVZhbCk7XG5cbiAgICAgICAgICAgICAgICBkaXNwbGF5ZXIuZGF0YXNldC5pbnRlcnZhbElkID0gaW50SUQ7XG4gICAgICAgICAgICAgICAgZGVmZXJyZXIuZGF0YXNldC5pbnRlcnZhbElkID0gaW50SUQ7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGRpc3BsYXllcik7XG4gICAgICAgICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKGRlZmVycmVyKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsLmludGVydmFsID0gTWFjcm8uZ2xvYmFsLmxpdmU7XG4gICAgTWFjcm8uZ2xvYmFsLnNldGludGVydmFsID0gTWFjcm8uZ2xvYmFsLmxpdmU7XG4gICAgTWFjcm8uZ2xvYmFsWydzZXQtaW50ZXJ2YWwnXSA9IE1hY3JvLmdsb2JhbC5saXZlO1xuXG4gICAgTWFjcm8uYWRkKCdkZWxheScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlzRG91YmxlVGFnOiB0cnVlLFxuICAgICAgICAgICAgZGVmZXI6IHRydWUsXG4gICAgICAgICAgICBoYW5kbGVyKHRpbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHRpbWUgYXJndW1lbnQgcGFzc2VkIHRvIE1hY3JvLmxpdmUgaXMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbm90IHZhbGlkLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNhbGxiYWNrIGFyZ3VtZW50IHBhc3NlZCB0byBNYWNyby5saXZlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5vdCB2YWxpZC4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgdGltZU9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgYW10OiAwLFxuICAgICAgICAgICAgICAgICAgICB1bml0OiAnbXMnLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHRpbWUpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB0aW1lID0gdGltZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWUuZW5kc1dpdGgoJ21zJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyKHRpbWUuc3BsaXQoJ21zJykuc2xpY2UoMCwgLTEpLmpvaW4oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG51bSkgfHwgbnVtIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB0aW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmxpdmUsICcgKyB0aW1lICsgJywgaXMgbm90IHZhbGlkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZU9iai5hbXQgPSBudW07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGltZS5lbmRzV2l0aCgncycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBudW0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlcih0aW1lLnNwbGl0KCdzJykuc2xpY2UoMCwgLTEpLmpvaW4oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG51bSkgfHwgbnVtIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB0aW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmxpdmUsICcgKyB0aW1lICsgJywgaXMgbm90IHZhbGlkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZU9iai5hbXQgPSBudW07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lT2JqLnVuaXQgPSAncyc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB0aW1lIGFyZ3VtZW50IHBhc3NlZCB0byBNYWNyby5saXZlLCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lICsgJywgaXMgbm90IHZhbGlkLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKHRpbWUpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGltZSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB0aW1lIGFyZ3VtZW50IHBhc3NlZCB0byBNYWNyby5saXZlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtdXN0IGJlIGdyZWF0ZXIgdGhhbiB6ZXJvLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRpbWVPYmouYW10ID0gdGltZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkaXNwbGF5ZXIgPSAkKCc8c3Bhbj48L3NwYW4+JylbMF07XG5cbiAgICAgICAgICAgICAgICBjb25zdCBkZWZlcnJlciA9XG4gICAgICAgICAgICAgICAgICAgICQoJzx0dy1kZWZlcnJlciBjbGFzcz1cImhpZGRlblwiPjwvdHctZGVmZXJyZXI+JylbMF07XG4gICAgICAgICAgICAgICAgZGVmZXJyZXIuaW5uZXJIVE1MID0gY2FsbGJhY2s7XG5cbiAgICAgICAgICAgICAgICBsZXQgdGltZVZhbCA9IHRpbWVPYmouYW10O1xuICAgICAgICAgICAgICAgIGlmICh0aW1lT2JqLnVuaXQgPT09ICdzJykge1xuICAgICAgICAgICAgICAgICAgICB0aW1lVmFsICo9IDEwMDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgaW50SUQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheWVyLmlubmVySFRNTCA9IGRlZmVycmVyLmlubmVySFRNTDtcblxuICAgICAgICAgICAgICAgICAgICBDb21waWxlci5jb21waWxlKGRpc3BsYXllcik7XG5cbiAgICAgICAgICAgICAgICAgICAgJChkaXNwbGF5ZXIpLnBhcmVudCgpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0sIHRpbWVWYWwpO1xuXG4gICAgICAgICAgICAgICAgJChkaXNwbGF5ZXIpLmF0dHIoJ2RhdGEtdGltZW91dC1pZCcsIGludElEKTtcbiAgICAgICAgICAgICAgICAkKGRlZmVycmVyKS5hdHRyKCdkYXRhLXRpbWVvdXQtaWQnLCBpbnRJRCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzcGFuID0gJCgnPHNwYW4+PC9zcGFuPicpWzBdO1xuICAgICAgICAgICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoZGlzcGxheWVyKTtcbiAgICAgICAgICAgICAgICBzcGFuLmFwcGVuZENoaWxkKGRlZmVycmVyKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzcGFuO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbC50aW1lb3V0ID0gTWFjcm8uZ2xvYmFsLmRlbGF5O1xuICAgIE1hY3JvLmdsb2JhbC5zZXR0aW1lb3V0ID0gTWFjcm8uZ2xvYmFsLmRlbGF5O1xuICAgIE1hY3JvLmdsb2JhbFsnc2V0LXRpbWVvdXQnXSA9IE1hY3JvLmdsb2JhbC5kZWxheTtcblxuICAgIE1hY3JvLmFkZCgnc3RvcCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSAnW2RhdGEtaW50ZXJ2YWwtaWRdLCBbZGF0YS10aW1lb3V0LWlkXSc7XG4gICAgICAgICAgICAgICAgY29uc3QgJGVsZW0gPSAkKHRoaXMpLnBhcmVudHMoc2VsZWN0b3IpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEkZWxlbS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdNYWNyby5zdG9wL2NsZWFyIGNhbiBvbmx5IGJlIHVzZWQgd2l0aGluICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ21hY3JvcyB0aGF0IGFsc28gY29udGFpbiBhIGxpdmUvaW50ZXJ2YWwgb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGVsYXkvdGltZW91dCBtYWNyby4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgaWQgPSAkZWxlbS5hdHRyKCdkYXRhLWludGVydmFsLWlkJyk7XG4gICAgICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVydmFsSURQYXJzZWQgPSBNYXRoLmZsb29yKE51bWJlcihpZCkpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChpbnRlcnZhbElEUGFyc2VkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZCA9ICRlbGVtLmF0dHIoJ2RhdGEtdGltZW91dC1pZCcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lb3V0SURQYXJzZWQgPSBNYXRoLmZsb29yKE51bWJlcihpZCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICRlbGVtLnBhcmVudCgpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbC5jbGVhciA9IE1hY3JvLmdsb2JhbC5zdG9wO1xuICAgIC8vTWFjcm8uZ2xvYmFsLmNsZWFydGltZW91dCA9IE1hY3JvLmdsb2JhbC5zdG9wO1xuICAgIC8vTWFjcm8uZ2xvYmFsWydjbGVhci10aW1lb3V0J10gPSBNYWNyby5nbG9iYWwuc3RvcDtcbiAgICBNYWNyby5nbG9iYWwuY2xlYXJpbnRlcnZhbCA9IE1hY3JvLmdsb2JhbC5zdG9wO1xuICAgIE1hY3JvLmdsb2JhbFsnY2xlYXItaW50ZXJ2YWwnXSA9IE1hY3JvLmdsb2JhbC5zdG9wO1xuXG4gICAgTWFjcm8uYWRkKCdzY3JpcHQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGRlZmVyOiB0cnVlLFxuICAgICAgICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJndW1lbnRzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJvY2Vzc2VkID0gKGFyZ3VtZW50c1tpaV0gfHwgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1tcXG5cXHJcXHRdL2csICcnKTtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZhbChwcm9jZXNzZWQpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG5cbiAgICBNYWNyby5hZGQoJ3RvanNvbicsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlzRG91YmxlVGFnOiB0cnVlLFxuICAgICAgICAgICAgZGVmZXI6IHRydWUsXG4gICAgICAgICAgICBoYW5kbGVyKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb2Nlc3NlZCA9IHZhbHVlLnJlcGxhY2UoL1tcXG5cXHJcXHRdL2csICcnKTtcblxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBob29rc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1kaWFsZWN0JykgPT09ICdoYXJsb3dlJykge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSBwcm9jZXNzZWQucmVwbGFjZSgvXlxccypcXFt8XFxzKl0kL2csICcnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQgPSAnKCcgKyBwcm9jZXNzZWQgKyAnKSc7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXZhbChwcm9jZXNzZWQpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWyd0by1qc29uJ10gPSBNYWNyby5nbG9iYWwudG9qc29uO1xuICAgIE1hY3JvLmdsb2JhbC5qc29uc3RyaW5naWZ5ID0gTWFjcm8uZ2xvYmFsLnRvanNvbjtcbiAgICBNYWNyby5nbG9iYWxbJ2pzb24tc3RyaW5naWZ5J10gPSBNYWNyby5nbG9iYWwudG9qc29uO1xuXG4gICAgTWFjcm8uYWRkKCdhbGVydCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoZnJvbShhcmd1bWVudHMpLmpvaW4oJyAnKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG5cbiAgICBNYWNyby5hZGQoJ2xvZycsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZnJvbShhcmd1bWVudHMpLmpvaW4oJyAnKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsLmNvbnNvbGVsb2cgPSBNYWNyby5nbG9iYWwubG9nO1xuICAgIE1hY3JvLmdsb2JhbFsnY29uc29sZS1sb2cnXSA9IE1hY3JvLmdsb2JhbC5sb2c7XG5cbiAgICBNYWNyby5hZGQoJ3Bhc3NhZ2VpbmZvJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihwcm9wTmFtZSwgcGFzc2FnZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFzc2FnZTtcbiAgICAgICAgICAgICAgICBpZiAocGFzc2FnZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFzc2FnZSA9IHBhc3NhZ2VOYW1lO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhc3NhZ2UgPSBTdGF0ZS5jdXJyZW50UGFzc2FnZU5hbWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSAndHctcGFzc2FnZWRhdGFbbmFtZT1cIicgK1xuICAgICAgICAgICAgICAgICAgICBwYXNzYWdlICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiXSc7XG4gICAgICAgICAgICAgICAgY29uc3QgJGN1clBhc3MgPSAkKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoISRjdXJQYXNzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFzc2FnZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gdHctcGFzc2FnZWRhdGEgZWxlbWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29ycmVzcG9uZGluZyB0byB0aGUgbmFtZSwgJyArIHBhc3NhZ2VOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLCBwYXNzZWQgdG8gTWFjcm8ucGFzc2FnZWluZm8uIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdXaGVuIGNhbGxpbmcgTWFjcm8ucGFzc2FnZWluZm8sIGl0IHdhcyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGV0ZXJtaW5lZCB0aGF0IHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RvcnkgaGFzIGJlY29tZSBjb3JydXB0ZWQgYW5kIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU3RhdGUuY3VycmVudFBhc3NhZ2VOYW1lIHByb3BlcnR5IGlzIGluYWNjdXJhdGUuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHBhc3NPYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIHBpZDogJGN1clBhc3MuYXR0cigncGlkJyksXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHBhc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6ICRjdXJQYXNzLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgaHRtbDogJGN1clBhc3MuaHRtbCgpLFxuICAgICAgICAgICAgICAgICAgICB0YWdzOiAkY3VyUGFzcy5hdHRyKCd0YWdzJyksXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAkY3VyUGFzcy5hdHRyKCdwb3NpdGlvbicpLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHByb3BOYW1lKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihwYXNzT2JqW3Byb3BOYW1lXSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZXJlIGlzIG5vICcgKyBwcm9wTmFtZSArICcgcHJvcGVydHkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3dpdGhpbiB0aGUgZ2VuZXJhdGVkIHBhc3NhZ2Ugb2JqZWN0LiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IHJldHJpZXZlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHBhc3NPYmpbcHJvcE5hbWVdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocGFzc09iaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsncGFzc2FnZS1pbmZvJ10gPSBNYWNyby5nbG9iYWwucGFzc2FnZWluZm87XG5cbiAgICBNYWNyby5hZGQoJ2dldHByb3BlcnR5JyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihvYmplY3QsIHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9iajtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG9iamVjdCkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ0Egc3RyaW5nIHdhcyBwcm92aWRlZCBhcyB0aGUgb2JqZWN0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmd1bWVudCB0byBNYWNyby5nZXRwcm9wZXJ0eSwgYnV0IGl0IGlzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbXB0eS4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvYmogPSBNYWNyby5zYWZlckNvbWJpbmVkUGFyc2Uob2JqKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9iaiB8fCB0eXBlb2Yob2JqKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHN0cmluZyBwcm92aWRlZCBhcyB0aGUgb2JqZWN0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmd1bWVudCB0byBNYWNyby5nZXRwcm9wZXJ0eSBjYW5ub3QgYmUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BhcnNlZCBvciBldmFsbGVkIGludG8gYSB2YWxpZCBvYmplY3QuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKG9iamVjdCkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ0FuIG9iamVjdCB3YXMgcHJvdmlkZWQgYXMgdGhlIG9iamVjdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJndW1lbnQgdG8gTWFjcm8uZ2V0cHJvcGVydHksIGJ1dCBpdCBpcyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbnVsbCwgYW5kIG51bGwgZG9lcyBub3QgaGF2ZSBwcm9wZXJ0aWVzLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvYmogPSBvYmplY3Q7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgb2JqZWN0IGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmdldHByb3BlcnR5IGlzIG5laXRoZXIgYW4gb2JqZWN0IG5vciBhICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0cmluZy4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXByb3BOYW1lIHx8IHR5cGVvZihwcm9wTmFtZSkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHByb3BOYW1lIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmdldHByb3BlcnR5IGlzIG5vdCBhIHN0cmluZywgb3IgaXMgYW4gZW1wdHkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RyaW5nLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIShwcm9wTmFtZSBpbiBvYmopKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gJyArIHByb3BOYW1lICsgJyBwcm9wZXJ0eSBpbiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0aGUgb2JqZWN0IGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmdldHByb3BlcnR5LiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqZWN0W3Byb3BOYW1lXSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmplY3RbcHJvcE5hbWVdKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcE5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnZ2V0LXByb3BlcnR5J10gPSBNYWNyby5nbG9iYWwuZ2V0cHJvcGVydHk7XG4gICAgTWFjcm8uZ2xvYmFsLmdldHByb3AgPSBNYWNyby5nbG9iYWwuZ2V0cHJvcGVydHk7XG4gICAgTWFjcm8uZ2xvYmFsWydnZXQtcHJvcCddID0gTWFjcm8uZ2xvYmFsLmdldHByb3BlcnR5O1xuXG4gICAgTWFjcm8uYWRkKCdtYXRoJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocHJvcE5hbWUpICE9PSAnc3RyaW5nJyB8fCAhcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgcHJvcE5hbWUgYXJndW1lbnQgcGFzc2VkIHRvIE1hY3JvLm1hdGggaXMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbm90IHZhbGlkLiBDYW5ub3QgcGVyZm9ybSBhY3Rpb24uJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wID0gTWF0aFtwcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHByb3BOYW1lIGFyZ3VtZW50IHBhc3NlZCB0byBNYWNyby5tYXRoIGRvZXMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbm90IGNvcnJlc3BvbmQgdG8gYSBwcm9wZXJ0eSB3aXRoaW4gdGhlIE1hdGggJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnb2JqZWN0LiBDYW5ub3QgcGVyZm9ybSBhY3Rpb24uJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcC5hcHBseShudWxsLCBmcm9tKGFyZ3VtZW50cykuc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcblxuICAgIE1hY3JvLmFkZCgnbnVtYmVyJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocHJvcE5hbWUpICE9PSAnc3RyaW5nJyB8fCAhcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgcHJvcE5hbWUgYXJndW1lbnQgcGFzc2VkIHRvIE1hY3JvLm51bWJlciAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpcyBub3QgdmFsaWQuIENhbm5vdCBwZXJmb3JtIGFjdGlvbi4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSBOdW1iZXJbcHJvcE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmICghcHJvcCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBwcm9wTmFtZSBhcmd1bWVudCBwYXNzZWQgdG8gTWFjcm8ubnVtYmVyICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2RvZXMgbm90IGNvcnJlc3BvbmQgdG8gYSBwcm9wZXJ0eSB3aXRoaW4gdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ051bWJlciBvYmplY3QuIENhbm5vdCBwZXJmb3JtIGFjdGlvbi4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wLmFwcGx5KG51bGwsIGZyb20oYXJndW1lbnRzKS5zbGljZSgxKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuXG4gICAgTWFjcm8uYWRkKCdhY2Nlc3MnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wTmFtZSB8fCB0eXBlb2YocHJvcE5hbWUpICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBwcm9wTmFtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uYWNjZXNzIGlzIG5vdCB2YWxpZC4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzcGxpdCA9IHByb3BOYW1lLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICAgICAgbGV0IHBhcmVudCA9IHNhZmVyRXZhbChzcGxpdFswXSk7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gcGFyZW50W3NwbGl0WzFdXTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMjsgaWkgPCBzcGxpdC5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkID0gcGFyZW50W3NwbGl0W2lpXV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHByb3AgPSBjaGlsZDtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocGFyZW50KSA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mKGNoaWxkKSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm9wID0gc2FmZXJFdmFsKHByb3BOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHByb3ApID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBwcm9wTmFtZSBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5hY2Nlc3MgZG9lcyBub3QgY29ycmVzcG9uZCB0byBhbnkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAncHJvcGVydGllcy4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHByb3AuYXBwbHkocGFyZW50LCBmcm9tKGFyZ3VtZW50cykuc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHByb3A7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihyZXN1bHQpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcblxuICAgIE1hY3JvLmFkZCgnYWRkdHJhY2VyeWdyYW1tYXInLFxuICAgICAgICB7XG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGhhbmRsZXIobmFtZSwgZ3JhbW1hciwgbW9kaWZpZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihuYW1lKSAhPT0gJ3N0cmluZycgfHwgbmFtZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbmFtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ucHJpbnR0cmFjZXJ5Z3JhbW1hciBpcyBub3QgdmFsaWQuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhZGQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFncmFtbWFyKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGdyYW1tYXIgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnByaW50dHJhY2VyeWdyYW1tYXIgaXMgbm90IHZhbGlkLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYWRkLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFN0YXRlLmFkZFRyYWNlcnlHcmFtbWFyKG5hbWUsIGdyYW1tYXIsIG1vZGlmaWVycyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydhZGQtdHJhY2VyeS1ncmFtbWFyJ10gPSBNYWNyby5nbG9iYWwuYWRkdHJhY2VyeWdyYW1tYXI7XG5cbiAgICBNYWNyby5hZGQoJ3NldGdyYW1tYXJtb2RpZmllcnMnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKG5hbWUsIG1vZGlmaWVycykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YobmFtZSkgIT09ICdzdHJpbmcnIHx8IG5hbWUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG5hbWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnNldGdyYW1tYXJtb2RpZmllcnMgaXMgbm90IHZhbGlkLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbW9kaWZ5LicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghKG5hbWUgaW4gU3RhdGUudHJhY2VyeVN0b3JlKSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZXJlIGlzIG5vIHRyYWNlcnkgZ3JhbW1lciBieSB0aGUgbmFtZSAnICsgbmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnIGluIFN0YXRlLnRyYWNlcnlTdG9yZS4gQWRkIHRoZSBncmFtbWFyIGJlZm9yZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhdHRlbXB0aW5nIHRvIG1vZGlmeSBpdC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIW1vZGlmaWVycykge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBtb2RpZmllcnMgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnNldGdyYW1tYXJtb2RpZmllcnMgaXMgbm90IHZhbGlkLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbW9kaWZ5LicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGpzb24gPSBTdGF0ZS50cmFjZXJ5U3RvcmVbbmFtZV0udG9KU09OKCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIFN0YXRlLnRyYWNlcnlTdG9yZVtuYW1lXTtcbiAgICAgICAgICAgICAgICBTdGF0ZS5hZGRUcmFjZXJ5R3JhbW1hcihuYW1lLCBtb2RpZmllcnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnc2V0LWdyYW1tYXItbW9kaWZpZXJzJ10gPSBNYWNyby5nbG9iYWwuc2V0Z3JhbW1hcm1vZGlmaWVycztcblxuICAgIE1hY3JvLmFkZCgncHJpbnR0cmFjZXJ5Z3JhbW1hcicsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobmFtZSwgcnVsZSwgYWxsb3dFc2NhcGVDaGFycykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YobmFtZSkgIT09ICdzdHJpbmcnIHx8IG5hbWUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG5hbWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnByaW50dHJhY2VyeWdyYW1tYXIgaXMgbm90IHZhbGlkLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAncHJpbnQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEobmFtZSBpbiBTdGF0ZS50cmFjZXJ5U3RvcmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gdHJhY2VyeSBncmFtbWVyIGJ5IHRoZSBuYW1lICcgKyBuYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgaW4gU3RhdGUudHJhY2VyeVN0b3JlLiBBZGQgdGhlIGdyYW1tYXIgYmVmb3JlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2F0dGVtcHRpbmcgdG8gcHJpbnQgaXQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JhbW1hciA9IFN0YXRlLnRyYWNlcnlTdG9yZVtuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoIXJ1bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVsZSA9ICcjb3JpZ2luIyc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyYW1tYXIuZmxhdHRlbihydWxlLCBhbGxvd0VzY2FwZUNoYXJzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ3ByaW50LXRyYWNlcnktZ3JhbW1hciddID0gTWFjcm8uZ2xvYmFsLnByaW50dHJhY2VyeWdyYW1tYXI7XG5cbiAgICBNYWNyby5hZGQoJ21vdXNlZXZlbnQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihwcm9wTmFtZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cubW91c2VFdmVudFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvcE5hbWUgaW4gd2luZG93Lm1vdXNlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5tb3VzZUV2ZW50W3Byb3BOYW1lXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZXJlIGlzIG5vICcgKyBwcm9wTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnIHByb3BlcnR5IGluIHdpbmRvdy5tb3VzZUV2ZW50LicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydtb3VzZS1ldmVudCddID0gTWFjcm8uZ2xvYmFsLm1vdXNlZXZlbnQ7XG5cbiAgICBNYWNyby5hZGQoJ2tleWJvYXJkZXZlbnQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKGtleSwgcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWtleSB8fCBrZXkgPT09ICcqJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmtleUV2ZW50cztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gd2luZG93LmtleUV2ZW50cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gJyArIGtleSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBwcm9wZXJ0eSBpbiB3aW5kb3cua2V5RXZlbnRzLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcm9wTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5rZXlFdmVudHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wTmFtZSBpbiB3aW5kb3cua2V5RXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmtleUV2ZW50c1trZXldW3Byb3BOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gJyArIHByb3BOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIHByb3BlcnR5IGluIHdpbmRvdy5rZXlFdmVudHMuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ2tleWJvYXJkLWV2ZW50J10gPSBNYWNyby5nbG9iYWwua2V5Ym9hcmRldmVudDtcblxuICAgIE1hY3JvLmFkZCgnbWFrZWVsZW1lbnQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKHN0cikge1xuICAgICAgICAgICAgICAgIGlmICghaXNFbGVtZW50UmF3U3RyaW5nKHN0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgc3RyIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5tYWtlZWxlbWVudCBpcyBub3QgdmFsaWQuIENhbm5vdCBtYWtlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbSA9ICQoc3RyKVswXTtcbiAgICAgICAgICAgICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1nYXRlbHknLCAnJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydtYWtlLWVsZW1lbnQnXSA9IE1hY3JvLmdsb2JhbC5tYWtlZWxlbWVudDtcblxuICAgIE1hY3JvLmFkZCgnbWFrZXRleHRub2RlJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNvbnRlbnQgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLm1ha2V0ZXh0bm9kZSBpcyBub3QgdmFsaWQuIENhbm5vdCBtYWtlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvbnRlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnbWFrZS10ZXh0LW5vZGUnXSA9IE1hY3JvLmdsb2JhbC5tYWtldGV4dG5vZGU7XG5cbiAgICBNYWNyby5hZGQoJ3NldGVsZW1lbnRjb250ZW50JyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihlbGVtZW50LCBjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50IHx8XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YoZWxlbWVudCkgIT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhaXNFbGVtZW50KGVsZW1lbnQpKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGVsZW1lbnQgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnNldGVsZW1lbnRjb250ZW50IGlzIG5vdCB2YWxpZC4gQ2Fubm90IHNldCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdlbGVtZW50IGNvbnRlbnQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNvbnRlbnQgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnNldGVsZW1lbnRjb250ZW50IGlzIG5vdCB2YWxpZC4gQ2Fubm90IHNldCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdlbGVtZW50IGNvbnRlbnQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHZhbGlkRWxlbWVudCkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHZhbGlkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgLyogZG8gbm90aGluZyAqLyB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudChjb250ZW50KSB8fCBpc05vZGUoY29udGVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50KS5jb250ZW50cygpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnc2V0LWVsZW1lbnQtY29udGVudCddID0gTWFjcm8uZ2xvYmFsLnNldGVsZW1lbnRjb250ZW50O1xuXG4gICAgTWFjcm8uYWRkKCdhcHBlbmRub2RlJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihwYXJlbnRFbGVtZW50LCBjaGlsZEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudEVsZW1lbnQgfHxcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihwYXJlbnRFbGVtZW50KSAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc0VsZW1lbnQocGFyZW50RWxlbWVudCkpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgcGFyZW50RWxlbWVudCBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uYXBwZW5kZWxlbWVudCBpcyBub3QgdmFsaWQuIENhbm5vdCBhcHBlbmQuJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghY2hpbGRFbGVtZW50IHx8XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YoY2hpbGRFbGVtZW50KSAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc0VsZW1lbnQoY2hpbGRFbGVtZW50KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzTm9kZShjaGlsZEVsZW1lbnQpKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGNoaWxkRWxlbWVudCBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uYXBwZW5kZWxlbWVudCBpcyBub3QgdmFsaWQuIENhbm5vdCBhcHBlbmQuJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkUGFyZW50ID0gcGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHZhbGlkUGFyZW50KSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkUGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYXJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAvKiBkbyBub3RoaW5nICovIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkUGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBzdHJpbmcgcGFzc2VkIGFzIHRoZSBwYXJlbnRFbGVtZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmd1bWVudCB0byBNYWNyby5hcHBlbmRlbGVtZW50IGlzIG5vdCBhICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YWxpZCBzZWxlY3Rvci4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCB2YWxpZENoaWxkID0gY2hpbGRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodmFsaWRDaGlsZCkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkQ2hpbGQgPSAkKGNoaWxkRWxlbWVudClbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBzdHJpbmcgcGFzc2VkIGFzIHRoZSBjaGlsZEVsZW1lbnQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FyZ3VtZW50IHRvIE1hY3JvLmFwcGVuZGVsZW1lbnQgaXMgbm90IGEgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbGlkIHNlbGVjdG9yLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFsaWRQYXJlbnQuYXBwZW5kQ2hpbGQodmFsaWRDaGlsZCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWRDaGlsZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ2FwcGVuZC1ub2RlJ10gPSBNYWNyby5nbG9iYWwuYXBwZW5kbm9kZTtcblxuICAgIE1hY3JvLmFkZCgncmVtb3Zlbm9kZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobm9kZSkge1xuICAgICAgICAgICAgICAgIGlmICghbm9kZSB8fFxuICAgICAgICAgICAgICAgICAgICAodHlwZW9mKG5vZGUpICE9PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzTm9kZShub2RlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzRWxlbWVudChub2RlKSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBub2RlIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yZW1vdmVub2RlIGlzIG5vdCB2YWxpZC4gQ2Fubm90IGFwcGVuZC4nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFub2RlLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbm9kZS5wYXJlbnRFbGVtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5yZW1vdmVlbGVtZW50IGlzIG5vdCB2YWxpZC4gQ2Fubm90IGFwcGVuZC4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgdmFsaWROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG5vZGUpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWROb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHN0cmluZyBwYXNzZWQgYXMgdGhlIGNoaWxkRWxlbWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJndW1lbnQgdG8gTWFjcm8ucmVtb3ZlZWxlbWVudCBpcyBub3QgYSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmFsaWQgc2VsZWN0b3IuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YWxpZE5vZGUucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh2YWxpZE5vZGUpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkTm9kZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ3JlbW92ZS1ub2RlJ10gPSBNYWNyby5nbG9iYWwucmVtb3Zlbm9kZTtcblxuICAgIE1hY3JvLmFkZCgnZWxlbWVudHNjc3MnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKGVsZW1lbnRzT3JTZWxlY3RvciwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50c09yU2VsZWN0b3IgfHxcbiAgICAgICAgICAgICAgICAgICAgKHR5cGVvZihlbGVtZW50c09yU2VsZWN0b3IpICE9PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzRWxlbWVudChlbGVtZW50c09yU2VsZWN0b3IpKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGVsZW1lbnRzT3JTZWxlY3RvciBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uZWxlbWVudHNjc3MgaXMgbm90IHZhbGlkLiBDYW5ub3QgY2hhbmdlIGNzcy4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50UmF3U3RyaW5nKHZhbGlkRWxlbWVudHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIE1hY3JvLmVsZW1lbnRzY3NzIG1ldGhvZCBjYW4gb25seSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdiZSB1c2VkIHRvIG1vZGlmeSB0aGUgaW5saW5lIHN0eWxlIG9mICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3ByZS1leGlzdGluZyBlbGVtZW50cywgbm90IGNvbnN0cnVjdCBuZXcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZWxlbWVudHMuIENhbm5vdCBjaGFuZ2UgY3NzLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghcHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgcHJvcGVydHkgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmVsZW1lbnRzY3NzIGlzIG5vdCB2YWxpZC4gQ2Fubm90IGNoYW5nZSBjc3MuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZih2YWx1ZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhbHVlIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5lbGVtZW50c2NzcyBpcyBub3Qgc2V0LiBDYW5ub3QgY2hhbmdlIGNzcy4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0ICR2YWxpZEVsZW1lbnRzID0gJChlbGVtZW50c09yU2VsZWN0b3IpO1xuXG4gICAgICAgICAgICAgICAgJHZhbGlkRWxlbWVudHMuY3NzKHByb3BlcnR5LCB2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbSgkKGVsZW1lbnRzT3JTZWxlY3RvcikpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnZWxlbWVudHMtY3NzJ10gPSBNYWNyby5nbG9iYWwuZWxlbWVudHNjc3M7XG5cbiAgICBNYWNyby5hZGQoJ2VsZW1lbnRzYXR0cicsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoZWxlbWVudHNPclNlbGVjdG9yLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRzT3JTZWxlY3RvciB8fFxuICAgICAgICAgICAgICAgICAgICAodHlwZW9mKGVsZW1lbnRzT3JTZWxlY3RvcikgIT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhaXNFbGVtZW50KGVsZW1lbnRzT3JTZWxlY3RvcikpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZWxlbWVudHNPclNlbGVjdG9yIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5lbGVtZW50c2F0dHIgaXMgbm90IHZhbGlkLiBDYW5ub3QgY2hhbmdlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2F0dHIuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzRWxlbWVudFJhd1N0cmluZyh2YWxpZEVsZW1lbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBNYWNyby5lbGVtZW50c2F0dHIgbWV0aG9kIGNhbiBvbmx5ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2JlIHVzZWQgdG8gbW9kaWZ5IHRoZSBhdHRyaWJ1dGVzIG9mICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3ByZS1leGlzdGluZyBlbGVtZW50cywgbm90IGNvbnN0cnVjdCBuZXcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZWxlbWVudHMuIENhbm5vdCBjaGFuZ2UgYXR0ci4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHByb3BlcnR5IGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5lbGVtZW50c2F0dHIgaXMgbm90IHZhbGlkLiBDYW5ub3QgY2hhbmdlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2F0dHIuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZih2YWx1ZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhbHVlIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5lbGVtZW50c2F0dHIgaXMgbm90IHNldC4gQ2Fubm90IGNoYW5nZSBhdHRyLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgJHZhbGlkRWxlbWVudHMgPSAkKGVsZW1lbnRzT3JTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgICAgICAkdmFsaWRFbGVtZW50cy5hdHRyKHByb3BlcnR5LCB2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbSgkKGVsZW1lbnRzT3JTZWxlY3RvcikpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnZWxlbWVudHMtYXR0ciddID0gTWFjcm8uZ2xvYmFsLmVsZW1lbnRzYXR0cjtcblxuICAgIE1hY3JvLmFkZCgnanF1ZXJ5JyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihzZWxlY3RvciwgZXh0ZW5zaW9uLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICRqcU9iaiA9ICQoc2VsZWN0b3IpO1xuICAgICAgICAgICAgICAgIGlmIChleHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZXh0ZW5zaW9uIGluICAkanFPYmopKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBwcm9wZXJ0eSAnICsgZXh0ZW5zaW9uICsgJyBkb2VzIG5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZXhpc3QgaW4gdGhlIGpRdWVyeSAoJCkgb2JqZWN0LicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKE1hY3JvLmlzRnVuY3Rpb24oJGpxT2JqW2V4dGVuc2lvbl0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGpxT2JqW2V4dGVuc2lvbl0odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZih2YWx1ZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRqcU9ialtleHRlbnNpb25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSAnICsgZXh0ZW5zaW9uICsgJyBwcm9wZXJ0eSBpbiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RoZSBqUXVlcnkgb2JqZWN0IGlzIG5vdCBhIGZ1bmN0aW9uLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkanFPYmo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbC4kID0gTWFjcm8uZ2xvYmFsLmpxdWVyeTtcblxuICAgIE1hY3JvLmFkZCgnYWRkbWFjcm9hbGlhcycsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobWFjcm9OYW1lLCBhbGlhc05hbWUsIGRpc3Bvc2VBZnRlclBhc3NhZ2UsIG92ZXJyaWRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtYWNyb05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbWFjcm9OYW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5hZGRtYWNyb2FsaWFzIGlzIG5vdCB2YWxpZC4gQ2Fubm90IGFkZCBtYWNybyBhbGlhcy4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWFsaWFzTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhbGlhc05hbWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmFkZG1hY3JvYWxpYXMgaXMgbm90IHZhbGlkLiBDYW5ub3QgYWRkIG1hY3JvIGFsaWFzLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgU3RhdGUuYWRkTWFjcm9BbGlhcyhcbiAgICAgICAgICAgICAgICAgICAgbWFjcm9OYW1lLFxuICAgICAgICAgICAgICAgICAgICBhbGlhc05hbWUsXG4gICAgICAgICAgICAgICAgICAgIGRpc3Bvc2VBZnRlclBhc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ2FkZC1tYWNyby1hbGlhcyddID0gTWFjcm8uZ2xvYmFsLmFkZG1hY3JvYWxpYXM7XG5cbiAgICBNYWNyby5hZGQoJ3ByaW50bWFjcm9pbmZvJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihtYWNyb05hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1hY3JvTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBtYWNyb05hbWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnByaW50bWFjcm9pbmZvIGlzIG5vdCB2YWxpZC4gQ2Fubm90IHByaW50LicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYWNyb05hbWUgaW4gTWFjcm8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFjcm8gPSBNYWNyb1ttYWNyb05hbWVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2lzRG91YmxlVGFnOiAnICsgKG1hY3JvLmlzRG91YmxlVGFnIHx8IGZhbHNlKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGVmZXI6ICcgKyAobWFjcm8uZGVmZXIgfHwgZmFsc2UpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzb3VyY2U6ICcgKyAobWFjcm8uaGFuZGxlci50b1N0cmluZygpIHx8ICdFbXB0eSEnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1hY3JvTmFtZSBpbiBTdGF0ZS5tYWNyb0FsaWFzU3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWFjcm9OYW1lIGluIFN0YXRlLmZ1bmN0aW9uU3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gb2JqZWN0IGJ5IHRoZSBuYW1lICcgKyBtYWNyb05hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyBpbiB0aGUgTWFjcm8gb2JqZWN0LCB0aGUgU3RhdGUubWFjcm9BbGlhc1N0b3JlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ29iamVjdCwgb3IgdGhlIFN0YXRlLmZ1bmN0aW9uU3RvcmUgb2JqZWN0LiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAncHJpbnQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydwcmludC1tYWNyby1pbmZvJ10gPSBNYWNyby5nbG9iYWwucHJpbnRtYWNyb2luZm87XG5cbiAgICBNYWNyby5hZGQoJ2VkaXR0aGVtZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIocHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBwcm9wZXJ0eSBhcmd1bWVudCBwYXNzZWQgdG8gTWFjcm8uY29uZmlnICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5vdCB2YWxpZC4gQ2Fubm90IGFsdGVyIGNvbmZpZ3VyYXRpb24uJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZih2YWx1ZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhbHVlIGFyZ3VtZW50IHBhc3NlZCB0byBNYWNyby5jb25maWcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXMgbm90IHZhbGlkLiBDYW5ub3QgYWx0ZXIgY29uZmlndXJhdGlvbi4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICAgICAgICAgIG9ialtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBDb25maWcuZWRpdFRoZW1lKG9iaik7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydlZGl0LXRoZW1lJ10gPSBNYWNyby5nbG9iYWwuc2V0dGhlbWU7XG5cbiAgICBNYWNyby5hZGQoJ3NhdmV0aGVtZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobmFtZSwgdGhlbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbmFtZSBhcmd1bWVudCBwYXNzZWQgdG8gTWFjcm8uc2F2ZXRoZW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5vdCB2YWxpZCBvciB3YXMgbm90IHByb3ZpZGVkLiBDYW5ub3Qgc2F2ZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0aGVtZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmFtZSBpbiBTdGF0ZS50aGVtZVN0b3JlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG5hbWUgYXJndW1lbnQgcGFzc2VkIHRvIE1hY3JvLnNhdmV0aGVtZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbHJlYWR5IGV4aXN0cyB3aXRoaW4gU3RhdGUudGhlbWVTdG9yZS4gQ2Fubm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NhdmUgdGhlbWUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgdGhlbWVPYmogPSB0aGVtZSB8fCBTdGF0ZS5jdXJyZW50VGhlbWU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZih0aGVtZU9iaikgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoZW1lT2JqID0gc2FmZXJKU09OUGFyc2UodGhlbWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghdGhlbWVPYmogfHwgdHlwZW9mKHRoZW1lT2JqKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdGhlbWUgb2JqZWN0IGlzIGVpdGhlciBub3QgYSB2YWxpZCBvYmplY3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnb3IgaXMgYSBzdHJpbmcgdGhhdCBjYW5ub3QgYmUgcGFyc2VkIGludG8gYSB2YWxpZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdvYmplY3QuIENhbm5vdCBzYXZlIHRoZW1lLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgU3RhdGUuc2F2ZVRoZW1lKG5hbWUsIHRoZW1lT2JqKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ3NhdmUtdGhlbWUnXSA9IE1hY3JvLmdsb2JhbC5zYXZldGhlbWU7XG5cbiAgICBNYWNyby5hZGQoJ3NhdmV0aGVtZW92ZXJyaWRlJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihuYW1lLCB0aGVtZSkge1xuICAgICAgICAgICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBuYW1lIGFyZ3VtZW50IHBhc3NlZCB0byBNYWNyby5zYXZldGhlbWUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXMgbm90IHZhbGlkIG9yIHdhcyBub3QgcHJvdmlkZWQuIENhbm5vdCBzYXZlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RoZW1lLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHRoZW1lT2JqID0gdGhlbWUgfHwgU3RhdGUuY3VycmVudFRoZW1lO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodGhlbWVPYmopID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB0aGVtZU9iaiA9IHNhZmVySlNPTlBhcnNlKHRoZW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoZW1lT2JqIHx8IHR5cGVvZih0aGVtZU9iaikgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHRoZW1lIG9iamVjdCBpcyBlaXRoZXIgbm90IGEgdmFsaWQgb2JqZWN0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ29yIGlzIGEgc3RyaW5nIHRoYXQgY2Fubm90IGJlIHBhcnNlZCBpbnRvIGEgdmFsaWQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnb2JqZWN0LiBDYW5ub3Qgc2F2ZSB0aGVtZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIFN0YXRlLnNldFRoZW1lKG5hbWUsIHRoZW1lT2JqKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ3NhdmUtdGhlbWUtb3ZlcnJpZGUnXSA9IE1hY3JvLmdsb2JhbC5zYXZldGhlbWVvdmVycmlkZTtcblxuICAgIE1hY3JvLmFkZCgnbG9hZHRoZW1lJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG5hbWUgYXJndW1lbnQgcHJvdmlkZWQgdG8gTWFjcm8ubG9hZHRoZW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5vdCB2YWxpZCBvciB3YXMgbm90IHByb3ZpZGVkLiBDYW5ub3QgbG9hZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0aGVtZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIShuYW1lIGluIFN0YXRlLnRoZW1lU3RvcmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG5hbWUgYXJndW1lbnQgcHJvdmlkZWQgdG8gTWFjcm8ubG9hZHRoZW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2RvZXMgbm90IG1hdGNoIGFueSBjdXJyZW50bHkgc2F2ZWQgdGhlbWUuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdsb2FkIHRoZW1lLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgU3RhdGUubG9hZFRoZW1lKG5hbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnbG9hZC10aGVtZSddID0gTWFjcm8uZ2xvYmFsLmxvYWR0aGVtZTtcblxuICAgIE1hY3JvLmFkZCgnY29uZmlncmVuZGVydHlwZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBDb25maWcuZWRpdFJlbmRlclR5cGUodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnY29uZmlnLXJlbmRlci10eXBlJ10gPSBNYWNyby5nbG9iYWwuY29uZmlncmVuZGVydHlwZTtcblxuICAgIE1hY3JvLmFkZCgnY29uZmlnbmV3bGluZXR5cGUnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgQ29uZmlnLmVkaXROZXdsaW5lVHlwZSh2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydjb25maWctbmV3bGluZS10eXBlJ10gPSBNYWNyby5nbG9iYWwuY29uZmlnbmV3bGluZXR5cGU7XG5cbiAgICBNYWNyby5hZGQoJ2NvbmZpZ3Jld2luZCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBDb25maWcuZWRpdFJld2luZCh2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydjb25maWctcmV3aW5kJ10gPSBNYWNyby5nbG9iYWwuY29uZmlncmV3aW5kO1xuXG4gICAgTWFjcm8uYWRkKCdjb25maWdmYXN0Zm9yd2FyZCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBDb25maWcuZWRpdEZhc3RGb3J3YXJkKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyb1snY29uZmlnLWZhc3QtZm9yd2FyZCddID0gTWFjcm8uZ2xvYmFsLmNvbmZpZ2Zhc3Rmb3J3YXJkO1xuXG4gICAgTWFjcm8uYWRkKCdjb25maWdlcnJvcmxldmVsJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIENvbmZpZy5lZGl0RXJyb3JMZXZlbCh2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydjb25maWctZXJyb3ItbGV2ZWwnXSA9IE1hY3JvLmdsb2JhbC5jb25maWdlcnJvcmxldmVsO1xuXG4gICAgTWFjcm8uYWRkKCdjb25maWdzdHlsZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlzRG91YmxlVGFnOiB0cnVlLFxuICAgICAgICAgICAgZGVmZXI6IHRydWUsXG4gICAgICAgICAgICBoYW5kbGVyKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgQ29uZmlnLmVkaXRTdHlsZSh2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydjb25maWctc3R5bGUnXSA9IE1hY3JvLmdsb2JhbC5jb25maWdzdHlsZTtcblxuICAgIE1hY3JvLmFkZCgnY29uZmlncHJlcmVuZGVyJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaXNEb3VibGVUYWc6IHRydWUsXG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIGhhbmRsZXIodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBDb25maWcuZWRpdFByZXJlbmRlcih2YWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydjb25maWctcHJlcmVuZGVyJ10gPSBNYWNyby5nbG9iYWwuY29uZmlncHJlcmVuZGVyO1xuXG4gICAgTWFjcm8uYWRkKCdjb25maWdwb3N0cmVuZGVyJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaXNEb3VibGVUYWc6IHRydWUsXG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIGhhbmRsZXIodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBDb25maWcuZWRpdFBvc3RyZW5kZXIodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnY29uZmlnLXBvc3RyZW5kZXInXSA9IE1hY3JvLmdsb2JhbC5jb25maWdwb3N0cmVuZGVyO1xuXG4gICAgTWFjcm8uYWRkKCdzdG9yeXZvbHVtZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIodm9sdW1lKSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9IE1hdGguZmxvb3IoTnVtYmVyKHZvbHVtZSkpO1xuICAgICAgICAgICAgICAgIGlmICh2b2x1bWUgPT09ICdxdWlldGVyJykge1xuICAgICAgICAgICAgICAgICAgICB2YWwgPSBNYXRoLm1heCgwLCBNaXhlci5nZXRTdG9yeVZvbHVtZSgpIC0gMC4xKTtcbiAgICAgICAgICAgICAgICAgICAgTWl4ZXIuc2V0U3RvcnlWb2x1bWUodmFsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZvbHVtZSA9PT0gJ2xvdWRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gTWF0aC5taW4oMSwgTWl4ZXIuZ2V0U3RvcnlWb2x1bWUoKSArIDAuMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWwgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB2b2x1bWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLnNvdW5kdm9sdW1lIGlzIG5vdCBhIHZhbGlkLCBwb3NpdGl2ZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdudW1iZXIuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBNaXhlci5zZXRTdG9yeVZvbHVtZSh2YWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnc3Rvcnktdm9sdW1lJ10gPSBNYWNyby5nbG9iYWwuc3Rvcnl2b2x1bWU7XG5cbiAgICBNYWNyby5hZGQoJ25ld3NvdW5kJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihuYW1lLCBjaGFubmVsLCBzcmMsIGF1dG9wbGF5LCBsb29wLCB2b2x1bWUsIGZhZGUpIHtcbiAgICAgICAgICAgICAgICBuZXcgU291bmQobmFtZSwgY2hhbm5lbCwgc3JjLCBhdXRvcGxheSwgbG9vcCwgdm9sdW1lLCBmYWRlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ25ldy1zb3VuZCddID0gTWFjcm8uZ2xvYmFsLm5ld3NvdW5kO1xuXG4gICAgTWFjcm8uYWRkKCdzb3VuZGR1cmF0aW9uJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihzb3VuZE5hbWUsIGR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291bmQgPSBNaXhlci5zb3VuZHNbc291bmROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoIXNvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gc291bmQgaW4gTWl4ZXIuc291bmRzIHdpdGggdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUgJyArIHNvdW5kTmFtZSArICcuIENhbm5vdCBhbHRlciBkdXJhdGlvbi4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IE1hdGguZmxvb3IoTnVtYmVyKGR1cmF0aW9uKSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGR1cmF0aW9uIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5zb3VuZGR1cmF0aW9uIGlzIG5vdCBhIHZhbGlkLCBwb3NpdGl2ZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdudW1iZXIuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzb3VuZC5kdXJhdGlvbiA9IHZhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ3NvdW5kLWR1cmF0aW9uJ10gPSBNYWNyby5nbG9iYWwuc291bmRkdXJhdGlvbjtcblxuICAgIE1hY3JvLmFkZCgnc291bmRjaGFubmVsJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihzb3VuZE5hbWUsIGNoYW5uZWxOYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291bmQgPSBNaXhlci5zb3VuZHNbc291bmROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoIXNvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gc291bmQgaW4gTWl4ZXIuc291bmRzIHdpdGggdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUgJyArIHNvdW5kTmFtZSArICcuIENhbm5vdCBhc3NpZ24gdG8gY2hhbm5lbC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWwgPSBNaXhlci5jaGFubmVsc1tjaGFubmVsTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKCFjaGFubmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gY2hhbm5lbCBpbiBNaXhlci5jaGFubmVscyB3aXRoICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RoZSBuYW1lICcgKyBjaGFubmVsTmFtZSArICcuIENhbm5vdCBhc3NpZ24gdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnY2hhbm5lbC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNvdW5kLmNoYW5uZWwgPSBjaGFubmVsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnc291bmQtY2hhbm5lbCddID0gTWFjcm8uZ2xvYmFsLnNvdW5kY2hhbm5lbDtcblxuICAgIE1hY3JvLmFkZCgnc291bmRzcmMnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKHNvdW5kTmFtZSwgc3JjKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291bmQgPSBNaXhlci5zb3VuZHNbc291bmROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoIXNvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gc291bmQgaW4gTWl4ZXIuc291bmRzIHdpdGggdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUgJyArIHNvdW5kTmFtZSArICcuIENhbm5vdCBhc3NpZ24gdG8gY2hhbm5lbC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHNyYyBhcmd1bWVudCBwYXNzZWQgdG8gTWFjcm8uc291bmRzcmMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXMgbm90IGEgdmFsaWQsIG5vbi1lbXB0eSBzdHJpbmcuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzb3VuZC5hdWRpb0VsZW1lbnQuc3JjID0gc3JjO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnc291bmQtc3JjJ10gPSBNYWNyby5nbG9iYWwuc291bmRzcmM7XG5cbiAgICBNYWNyby5hZGQoJ3NvdW5kbG9vcCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoc291bmROYW1lLCBsb29wKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291bmQgPSBNaXhlci5zb3VuZHNbc291bmROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoIXNvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gc291bmQgaW4gTWl4ZXIuc291bmRzIHdpdGggdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUgJyArIHNvdW5kTmFtZSArICcuIENhbm5vdCBhc3NpZ24gdG8gY2hhbm5lbC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChsb29wIHx8IHR5cGVvZihsb29wKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgc291bmQubG9vcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdW5kLnVubG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ3NvdW5kLWxvb3AnXSA9IE1hY3JvLmdsb2JhbC5zb3VuZGxvb3A7XG5cbiAgICBNYWNyby5hZGQoJ3NvdW5kdm9sdW1lJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihzb3VuZE5hbWUsIHZvbHVtZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdW5kID0gTWl4ZXIuc291bmRzW3NvdW5kTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKCFzb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZXJlIGlzIG5vIHNvdW5kIGluIE1peGVyLnNvdW5kcyB3aXRoIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICduYW1lICcgKyBzb3VuZE5hbWUgKyAnLiBDYW5ub3QgYWRqdXN0IHZvbHVtZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCB2YWwgPSBNYXRoLmZsb29yKE51bWJlcih2b2x1bWUpKTtcbiAgICAgICAgICAgICAgICBpZiAodmFsID09PSAncXVpZXRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgc291bmQucXVpZXRlcigpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsID09PSAnbG91ZGVyJykge1xuICAgICAgICAgICAgICAgICAgICBzb3VuZC5sb3VkZXIoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZvbHVtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uc291bmR2b2x1bWUgaXMgbm90IGEgdmFsaWQsIHBvc2l0aXZlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ251bWJlci4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdW5kLnNldFZvbHVtZSh2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ3NvdW5kLXZvbHVtZSddID0gTWFjcm8uZ2xvYmFsLnNvdW5kdm9sdW1lO1xuXG4gICAgTWFjcm8uYWRkKCdzb3VuZGZhZGUnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKHNvdW5kTmFtZSwgZmFkZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdW5kID0gTWl4ZXIuc291bmRzW3NvdW5kTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKCFzb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZXJlIGlzIG5vIHNvdW5kIGluIE1peGVyLnNvdW5kcyB3aXRoIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICduYW1lICcgKyBzb3VuZE5hbWUgKyAnLiBDYW5ub3QgYXNzaWduIHRvIGNoYW5uZWwuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWZhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZmFkZSBhcmd1bWVudCBwYXNzZWQgdG8gTWFjcm8uc291bmRmYWRlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5vdCB2YWxpZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNvdW5kLnNldEZhZGUoZmFkZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydzb3VuZC1mYWRlJ10gPSBNYWNyby5nbG9iYWwuc291bmRmYWRlO1xuXG4gICAgTWFjcm8uYWRkKCdjcm9zc2ZhZGUnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKG91dFNvdW5kTmFtZSwgaW5Tb3VuZE5hbWUsIHdoaWNoKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0U291bmQgPSBNaXhlci5zb3VuZHNbb3V0U291bmROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoIW91dFNvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gc291bmQgaW4gTWl4ZXIuc291bmRzIHdpdGggJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGhlIG5hbWUgJyArIG91dFNvdW5kTmFtZSArICcuIENhbm5vdCBjcm9zc2ZhZGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBpblNvdW5kID0gTWl4ZXIuc291bmRzW2luU291bmROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoIWluU291bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGVyZSBpcyBubyBzb3VuZCBpbiBNaXhlci5zb3VuZHMgd2l0aCB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSAnICsgaW5Tb3VuZE5hbWUgKyAnLiBDYW5ub3QgY3Jvc3NmYWRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3V0U291bmQuY3Jvc3NmYWRlKGluU291bmQsIHdoaWNoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ2Nyb3NzLWZhZGUnXSA9IE1hY3JvLmdsb2JhbC5jcm9zc2ZhZGU7XG5cbiAgICBNYWNyby5hZGQoJ25ld2NoYW5uZWwnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKG5hbWUsIGRlZmF1bHRWb2x1bWUsIHNvdW5kcykge1xuICAgICAgICAgICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBuYW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5uZXdjaGFubmVsIGlzIG5vdCB2YWxpZC4gQ2Fubm90IGNyZWF0ZSBuZXcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnY2hhbm5lbC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdW5kT2JqcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNvdW5kcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc291bmQgPSBzb3VuZHNbaWldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc291bmQgaW4gTWl4ZXIuc291bmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VuZE9ianMucHVzaChNaXhlci5zb3VuZHNbc291bmRdKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhdGVseUxvZygnQ291bGQgbm90IGZpbmQgc291bmQ6ICcgKyBzb3VuZCArICcuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDYW5ub3QgYWRkIHRvIG5ldyBjaGFubmVsOiAnICsgbmFtZSArICcuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBuZXcgQ2hhbm5lbChuYW1lLCBkZWZhdWx0Vm9sdW1lLCBzb3VuZE9ianMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnbmV3LWNoYW5uZWwnXSA9IE1hY3JvLmdsb2JhbC5uZXdjaGFubmVsO1xuXG4gICAgTWFjcm8uYWRkKCdjaGFubmVsdm9sdW1lJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihjaGFubmVsTmFtZSwgdm9sdW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbm5lbCA9IE1peGVyLmNoYW5uZWxzW2NoYW5uZWxOYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoIXNvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gY2hhbm5lbCBpbiBNaXhlci5jaGFubmVscyB3aXRoICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RoZSBuYW1lICcgKyBjaGFubmVsTmFtZSArICcuIENhbm5vdCBhZGp1c3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndm9sdW1lLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHZhbCA9IE1hdGguZmxvb3IoTnVtYmVyKHZvbHVtZSkpO1xuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09ICdxdWlldGVyJykge1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsLnF1aWV0ZXIoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gJ2xvdWRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC5sb3VkZXIoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZvbHVtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uc291bmR2b2x1bWUgaXMgbm90IGEgdmFsaWQsIHBvc2l0aXZlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ251bWJlci4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuc2V0Vm9sdW1lKHZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnY2hhbm5lbC12b2x1bWUnXSA9IE1hY3JvLmdsb2JhbC5jaGFubmVsdm9sdW1lOyBcblxuICAgIE1hY3JvLmFkZCgnbWFrZWZhZGUnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKGlzRmFkaW5nLCBlYXNpbmcsIHRpbWluZywgc3RlcHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmYWRlID0gbmV3IEZhZGUoaXNGYWRpbmcsIGVhc2luZywgdGltaW5nLCBzdGVwcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGZhZGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnbWFrZS1mYWRlJ10gPSBNYWNyby5nbG9iYWwubWFrZWZhZGU7XG5cbiAgICBNYWNyby5hZGQoJ2NvbXBpbGVyb2ZmJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICBTdGF0ZS5jb21waWxlclN0YXR1cy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG4gICAgTWFjcm8uZ2xvYmFsWydjb21waWxlci1vZmYnXSA9IE1hY3JvLmdsb2JhbC5jb21waWxlcm9mZjtcbiAgICBNYWNyby5nbG9iYWwubm9jb21waWxlID0gTWFjcm8uZ2xvYmFsLmNvbXBpbGVyb2ZmO1xuICAgIE1hY3JvLmdsb2JhbFsnbm8tY29tcGlsZSddID0gTWFjcm8uZ2xvYmFsLmNvbXBpbGVyb2ZmO1xuICAgIE1hY3JvLmdsb2JhbC5ub2NvbXBpbGVyID0gTWFjcm8uZ2xvYmFsLmNvbXBpbGVyb2ZmO1xuICAgIE1hY3JvLmdsb2JhbFsnbm8tY29tcGlsZXInXSA9IE1hY3JvLmdsb2JhbC5jb21waWxlcm9mZjtcbiAgICBNYWNyby5nbG9iYWwuY29tcGlsZXJzdG9wID0gTWFjcm8uZ2xvYmFsLmNvbXBpbGVyb2ZmO1xuICAgIE1hY3JvLmdsb2JhbFsnY29tcGlsZXItc3RvcCddID0gTWFjcm8uZ2xvYmFsLmNvbXBpbGVyb2ZmO1xuXG4gICAgTWFjcm8uYWRkKCdjb21waWxlcm9uJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICBTdGF0ZS5jb21waWxlclN0YXR1cy5ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ2NvbXBpbGVyLW9uJ10gPSBNYWNyby5nbG9iYWwuY29tcGlsZXJvbjtcbiAgICBNYWNyby5nbG9iYWwueWVzY29tcGlsZSA9IE1hY3JvLmdsb2JhbC5jb21waWxlcm9uO1xuICAgIE1hY3JvLmdsb2JhbFsneWVzLWNvbXBpbGUnXSA9IE1hY3JvLmdsb2JhbC5jb21waWxlcm9uO1xuICAgIE1hY3JvLmdsb2JhbC55ZXNjb21waWxlciA9IE1hY3JvLmdsb2JhbC5jb21waWxlcm9uO1xuICAgIE1hY3JvLmdsb2JhbFsneWVzLWNvbXBpbGVyJ10gPSBNYWNyby5nbG9iYWwuY29tcGlsZXJvbjtcbiAgICBNYWNyby5nbG9iYWwuY29tcGlsZXJzdGFydCA9IE1hY3JvLmdsb2JhbC5jb21waWxlcm9uO1xuICAgIE1hY3JvLmdsb2JhbFsnY29tcGlsZXItc3RhcnQnXSA9IE1hY3JvLmdsb2JhbC5jb21waWxlcm9uO1xuXG4gICAgTWFjcm8uYWRkKCdhc2lzJyxcbiAgICAgICAge1xuICAgICAgICAgICAgZGVmZXI6IHRydWUsXG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGhhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oYXJndW1lbnRzKS5qb2luKCcnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ2FzLWlzJ10gPSBNYWNyby5nbG9iYWwuYXNpcztcblxuICAgIE1hY3JvLmFkZCgnZmFpbHNvZnQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBkZWZlcjogdHJ1ZSxcbiAgICAgICAgICAgIGlzRG91YmxlVGFnOiB0cnVlLFxuICAgICAgICAgICAgaGFuZGxlcihjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoY2FsbGJhY2spID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VGhlbWUuZGVidWcuZmFpbEhhcmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IFN0YXRlLmN1cnJlbnRUaGVtZS5kZWJ1Zy5mYWlsSGFyZDtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudFRoZW1lLmRlYnVnLmZhaWxIYXJkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pbm5lckhUTUwgPSBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgICAgQ29tcGlsZXIuY29tcGlsZShwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudFRoZW1lLmRlYnVnLmZhaWxIYXJkID0gb3JpZ2luYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ2dsb2JhbCcpO1xuICAgIE1hY3JvLmdsb2JhbFsnZmFpbC1zb2Z0J10gPSBNYWNyby5nbG9iYWwuZmFpbHNvZnQ7XG5cbiAgICBNYWNyby5hZGQoJ2ZhaWxoYXJkJyxcbiAgICAgICAge1xuICAgICAgICAgICAgZGVmZXI6IHRydWUsXG4gICAgICAgICAgICBpc0RvdWJsZVRhZzogdHJ1ZSxcbiAgICAgICAgICAgIGhhbmRsZXIoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgIGlmICh0eXBlb2YoY2FsbGJhY2spID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VGhlbWUuZGVidWcuZmFpbEhhcmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gU3RhdGUuY3VycmVudFRoZW1lLmRlYnVnLmZhaWxIYXJkO1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VGhlbWUuZGVidWcuZmFpbEhhcmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaW5uZXJIVE1MID0gY2FsbGJhY2s7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbXBpbGVyLmNvbXBpbGUocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRUaGVtZS5kZWJ1Zy5mYWlsSGFyZCA9IG9yaWdpbmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICdnbG9iYWwnKTtcbiAgICBNYWNyby5nbG9iYWxbJ2ZhaWwtaGFyZCddID0gTWFjcm8uZ2xvYmFsLmZhaWxoYXJkO1xuXG4gICAgTWFjcm8uYWRkKCd0aHJvdycsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGxldCBtc2cgPSBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIGlmICghbXNnKSB7XG4gICAgICAgICAgICAgICAgICAgIG1zZyA9ICcnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdpZGVBbGVydChtc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnZ2xvYmFsJyk7XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBsZXQgdW51c2VkTWF0Y2hJZCA9IDA7XG5cbiAgICB3aW5kb3cuTWF0Y2hlcyA9IHtcbiAgICAgICAgY3VycmVudE1hdGNoOiBudWxsLFxuXG4gICAgICAgIGNyZWF0ZU1hdGNoT2JqZWN0KGRhdGFUeXBlLCBwYXJlbnQsIGRpYWxlY3QsIG1hY3JvVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogZGF0YVR5cGUsXG4gICAgICAgICAgICAgICAgbWFjcm9UeXBlOiBtYWNyb1R5cGUsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgICAgIGlkOiBNYXRjaGVzLmdldE5ld01hdGNoSWQoKSxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFN0YXJ0VGFnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkaWFsZWN0OiBkaWFsZWN0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRDdXJyZW50TWF0Y2hJZCgpIHtcbiAgICAgICAgICAgIGlmIChNYXRjaGVzLmN1cnJlbnRNYXRjaCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRjaGVzLmN1cnJlbnRNYXRjaC5pZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0TmV3TWF0Y2hJZCgpIHtcbiAgICAgICAgICAgIHJldHVybiB1bnVzZWRNYXRjaElkKys7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0RGF0YVR5cGUobWF0Y2gpIHtcbiAgICAgICAgICAgIGlmIChtYXRjaCAmJlxuICAgICAgICAgICAgICAgIG1hdGNoLmdldEF0dHJpYnV0ZSAmJlxuICAgICAgICAgICAgICAgIG1hdGNoLmdldEF0dHJpYnV0ZSgnZGF0YS10eXBlJykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdHlwZScpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mcXVvdDt8W1wiJ10vZywgJycpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaCAmJiBtYXRjaC5kYXRhVHlwZSAmJiBtYXRjaC5kYXRhVHlwZS5yZXBsYWNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoLmRhdGFUeXBlLnJlcGxhY2UoLyZxdW90O3xbXCInXS9nLCAnJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGdldE1hY3JvVHlwZShtYXRjaCkge1xuICAgICAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmdldEF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWFjcm8tdHlwZScpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaCAmJiBtYXRjaC5tYWNyb1R5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2gubWFjcm9UeXBlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBnZXRNYWNyb09iamVjdCh0eXBlKSB7XG4gICAgICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCB0eXBlIHJlY2VpdmVkIGJ5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnTWF0Y2hlcy5nZXRNYWNyb09iamVjdC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG5hbWVzcGFjZTtcbiAgICAgICAgICAgIGxldCBtYWNyb09iajtcbiAgICAgICAgICAgIGNvbnN0IHR5cGVTcGxpdCA9IHR5cGUuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGlmICh0eXBlU3BsaXQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgbmFtZXNwYWNlID0gTWFjcm8uZ2xvYmFsO1xuICAgICAgICAgICAgICAgIG1hY3JvT2JqID0gTWFjcm8uZ2xvYmFsW3R5cGVdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2UgPSBNYWNyb1t0eXBlU3BsaXRbMF1dO1xuICAgICAgICAgICAgICAgIG1hY3JvT2JqID0gbmFtZXNwYWNlW3R5cGVTcGxpdC5zbGljZSgxKS5qb2luKCcuJyldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbWFjcm9PYmo7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0Q3VycmVudFBhcmVudChtYXRjaCkge1xuICAgICAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaC5wYXJlbnQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoICYmIG1hdGNoLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2gucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNEb3VibGVUYWdNYWNyb09wZW5lcihtYXRjaCkge1xuICAgICAgICAgICAgaWYgKCFtYXRjaCB8fFxuICAgICAgICAgICAgICAgICFtYXRjaC5kYXRhVHlwZSB8fFxuICAgICAgICAgICAgICAgIG1hdGNoLmRhdGFUeXBlICE9PSAnbWFjcm8nIHx8XG4gICAgICAgICAgICAgICAgbWF0Y2guZmluaXNoZWRTdGFydFRhZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG1hY3JvID0gTWF0Y2hlcy5nZXRNYWNyb09iamVjdChtYXRjaC5tYWNyb1R5cGUpO1xuICAgICAgICAgICAgcmV0dXJuIG1hY3JvICYmIG1hY3JvLmlzRG91YmxlVGFnO1xuICAgICAgICB9LFxuXG4gICAgICAgIGlzRmluaXNoZWRTdGFydFRhZyhtYXRjaCkge1xuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoLmZpbmlzaGVkU3RhcnRUYWc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZXNlcnZlZFdvcmRMb29rdXA6IHtcbiAgICAgICAgICAgIC8qICdlcSc6ICc9PScsXG4gICAgICAgICAgICAnbmVxJzogJyE9JywgKi9cbiAgICAgICAgICAgICdpcyc6ICc9PT0nLFxuICAgICAgICAgICAgJ2lzbm90JzogJyE9PScsXG4gICAgICAgICAgICAnZ3QnOiAnPicsXG4gICAgICAgICAgICAnZ3RlJzogJz49JyxcbiAgICAgICAgICAgICdsdCc6ICc8JyxcbiAgICAgICAgICAgICdsdGUnOiAnPD0nLFxuICAgICAgICAgICAgJ2FuZCc6ICcmJicsXG4gICAgICAgICAgICAnb3InOiAnfHwnLFxuICAgICAgICAgICAgJ25vdCc6ICchJyxcbiAgICAgICAgICAgICd0byc6ICc9JyxcbiAgICAgICAgICAgICdpdCc6ICdpdCcsXG4gICAgICAgICAgICAnKyc6ICcrJyxcbiAgICAgICAgfSxcblxuICAgICAgICBoYXJsb3dlUGFyZW50aGVzZXM6IDAsXG5cbiAgICAgICAgZnVuY3Rpb25zUmV0dXJuaW5nOiBbXSxcblxuICAgICAgICBtYWNybyhtYXRjaCkge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50cyA9ICQobWF0Y2gpLnBhcmVudHMoJy5mdW5jdGlvbkNvbnRhaW5lcicpO1xuICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IE1hdGNoZXMuZnVuY3Rpb25zUmV0dXJuaW5nLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldCA9IE1hdGNoZXMuZnVuY3Rpb25zUmV0dXJuaW5nW2lpXTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50cy5pbmRleChyZXQpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG1hdGNoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnU29tZXRoaW5nIHdlbnQgd3JvbmchIFRoZSBtYXRjaCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdNYXRjaGVzLm1hY3JvIGlzIHVuZGVmaW5lZC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB0eXBlID0gTWF0Y2hlcy5nZXRNYWNyb1R5cGUobWF0Y2gpO1xuICAgICAgICAgICAgbGV0IG1hY3JvT2JqID0gTWF0Y2hlcy5nZXRNYWNyb09iamVjdCh0eXBlKTtcblxuICAgICAgICAgICAgaWYgKCFtYWNyb09iaikge1xuICAgICAgICAgICAgICAgIG1hY3JvT2JqID0gU3RhdGUubWFjcm9BbGlhc1N0b3JlW3R5cGVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW1hY3JvT2JqKSB7XG4gICAgICAgICAgICAgICAgbWFjcm9PYmogPSBTdGF0ZS5mdW5jdGlvblN0b3JlW3R5cGVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW1hY3JvT2JqKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGVyZSBpcyBubyBtYWNybyBvYmplY3QsIGFsaWFzLCBvciAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2Z1bmN0aW9uL3dpZGdldCBmb3IgYSB0b2tlbiBvZiB0eXBlOiAnICsgdHlwZSArICcuJyk7XG4gICAgICAgICAgICAgICAgLy9tYXRjaC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG1hY3JvSGFuZGxlciA9IG1hY3JvT2JqLmhhbmRsZXI7XG4gICAgICAgICAgICBpZiAoIW1hY3JvSGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gbWFjcm8gaGFuZGxlciBmb3IgYSB0b2tlbiBvZiB0eXBlOiAnICtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSArICcuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2lmJykge1xuICAgICAgICAgICAgICAgIE1hdGNoZXMuaWYobWF0Y2gpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHRva2VuSFRNTCA9ICcnO1xuICAgICAgICAgICAgY29uc3QgdG9rZW5zID0gbWF0Y2guY2hpbGROb2RlcztcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGxldCBhbGxOdW1iZXJzID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBzZWVuTm9uUGx1c09wZXJhdG9yID0gbnVsbDtcbiAgICAgICAgICAgIGxldCB1bnRyYW5zZm9ybWVkID0gJyc7XG4gICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgdG9rZW5zLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgIGxldCB2YXJUb1NldDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaWkgPCB0b2tlbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFUeXBlID0gTWF0Y2hlcy5nZXREYXRhVHlwZSh0b2tlbnNbaWldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFUeXBlID09PSAnY29tbWEnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZSA9PT0gJ29wZW5UYWdUZXJtaW5hdG9yJylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRva2Vuc1tpaV0udGV4dENvbnRlbnQudHJpbSgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnNbaWldLm5vZGVUeXBlID09PSAzKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YVR5cGUgPT09ICd2YXJpYWJsZScgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC9eKHNldHxsZXR8cHV0KSQvLnRlc3QodHlwZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuSFRNTC5pbmRleE9mKCc9JykgPT09IC0xKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnNbaWldLmlubmVySFRNTCA9IHRva2Vuc1tpaV0uZGF0YXNldC52YXJpYWJsZU5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YVR5cGUgPT09ICdyZXNlcnZlZFdvcmQnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnNbaWldLnRleHRDb250ZW50ID09PSAnaXQnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJUb1NldClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHZhbCA9IHZhclRvU2V0LnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxbMF0gPT09ICckJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbC5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gU3RhdGUuZ2V0VmFyaWFibGUodmFsLCBtYXRjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxUeXBlID0gdHlwZW9mKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsVHlwZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwudHlwZSAhPT0gJ2dhdGVseVBvaW50ZXInKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IFN0YXRlLmdldFBvaW50ZXIodmFsLCBtYXRjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxUeXBlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vuc1tpaV0uaW5uZXJIVE1MID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vuc1tpaV0uZGF0YXNldC5qYXZhc2NyaXB0VHlwZSA9IHZhbFR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vuc1tpaV0uaW5uZXJIVE1MID0gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zW2lpXS5kYXRhc2V0LmphdmFzY3JpcHRUeXBlID0gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIHdoYXQgaXMgdGhpcz9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodmFyaWFibGUpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vuc1tpaV0uaW5uZXJIVE1MID0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIicgKyB2YXJpYWJsZS5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JykgKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2tlbnNbaWldLmlubmVySFRNTCA9IHZhcmlhYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSAqL1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVR5cGUgPT09ICd2YXJpYWJsZScgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vuc1tpaV0uZGF0YXNldC5qYXZhc2NyaXB0VHlwZSA9PT0gJ29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW2lpXS5maXJzdENoaWxkLmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhVHlwZSB8fCB0b2tlbnNbaWldLnRhZ05hbWUgPT09ICdUVy1BUkdVTUVOVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW2lpXS5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW5zW2lpXS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRva2Vuc1tpaV0uaGFzQXR0cmlidXRlKCdnYXRlbHknKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW2lpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbaWldLm91dGVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b2tlbnNbaWldLm5vZGVUeXBlID09PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0b2tlbiA9ICc8IS0tICcgKyB0b2tlbnNbaWldLnRleHRDb250ZW50ICsgJy0tPic7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2Vuc1tpaV0udGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHRva2VuKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW2lpXS50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ3NpbmdsZVF1b3RlJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKHRva2VuLnN0YXJ0c1dpdGgoXCInXCIpICYmIHRva2VuLmVuZHNXaXRoKFwiJ1wiKSkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW4uc2xpY2UoMSwgLTEpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGFUeXBlID09PSAnZG91YmxlUXVvdGUnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAodG9rZW4uc3RhcnRzV2l0aCgnXCInKSAmJiB0b2tlbi5lbmRzV2l0aCgnXCInKSkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW4uc2xpY2UoMSwgLTEpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpbSA9IHRva2VuLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyaW0ubGVuZ3RoICE9PSAxIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhL1srXFwtKlxcLyVdLy50ZXN0KHRyaW1bMF0pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAvXihzZXR8bGV0fHB1dCkkLy50ZXN0KHR5cGUpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL15bKClcXGQrXFwtKlxcLyVdLiQvLnRlc3QodHJpbSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxOdW1iZXJzID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE51bWJlcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbkhUTUwgKz0gdG9rZW47XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHJpbS5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC9bXFwtKlxcLyUoKV0vLnRlc3QodHJpbVswXSkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlZW5Ob25QbHVzT3BlcmF0b3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdW50cmFuc2Zvcm1lZCArPSB0b2tlbjtcblxuICAgICAgICAgICAgICAgICAgICBpaSsrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHNraXAgZW1wdHkgYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgaWYgKCF0b2tlbkhUTUwudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHVzZSBldmFsIGlmIGFuZCBvbmx5IGlmIGFyaXRobWV0aWMgaXMgYmVpbmcgcGVyZm9ybWVkXG4gICAgICAgICAgICAgICAgaWYgKGFsbE51bWJlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5IVE1MID0gc2FmZXJFdmFsKHVudHJhbnNmb3JtZWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Vlbk5vblBsdXNPcGVyYXRvcikge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbkhUTUwgPSAnTmFOJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBhcmdzLnB1c2godG9rZW5IVE1MKTtcbiAgICAgICAgICAgICAgICB0b2tlbkhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICB1bnRyYW5zZm9ybWVkID0gJyc7XG4gICAgICAgICAgICAgICAgYWxsTnVtYmVycyA9IG51bGw7XG4gICAgICAgICAgICAgICAgc2Vlbk5vblBsdXNPcGVyYXRvciA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmdzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvaW50ZXIgPSBzYWZlckpTT05QYXJzZShhcmdzW2lpXSk7XG4gICAgICAgICAgICAgICAgaWYgKFN0YXRlLmlzUG9pbnRlcihwb2ludGVyKSAmJiAhbWFjcm9PYmoucG9pbnRlclBhc3N0aHJvdWdoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbaWldID0gU3RhdGUuZ2V0VmFyaWFibGUocG9pbnRlci5wYXRoLCBtYXRjaCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmV0VmFsO1xuICAgICAgICAgICAgY29uc3QgdHlwZVNwbGl0ID0gdHlwZS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgY29uc3QgYWN0aW9uVHlwZSA9IHR5cGVTcGxpdC5zbGljZSgtMSlbMF07XG4gICAgICAgICAgICBsZXQgbmFtZXNwYWNlO1xuICAgICAgICAgICAgaWYgKHR5cGVTcGxpdC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2UgPSBNYWNyby5nbG9iYWw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5hbWVzcGFjZSA9IE1hY3JvO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbnMgPSB0eXBlU3BsaXQuc2xpY2UoMCwgdHlwZVNwbGl0Lmxlbmd0aCAtIDEpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG5zLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UgPSBuYW1lc3BhY2VbbnNbaWldXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobmFtZXNwYWNlID09PSBNYWNybykge1xuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2UgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKG5hbWVzcGFjZS5oYW5kbGVyKSkge1xuICAgICAgICAgICAgICAgIHJldFZhbCA9IG5hbWVzcGFjZS5oYW5kbGVyLmFwcGx5KFxuICAgICAgICAgICAgICAgICAgICBtYXRjaCwgW2FjdGlvblR5cGVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldFZhbCA9IG1hY3JvSGFuZGxlci5hcHBseShtYXRjaCwgYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YocmV0VmFsKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXRWYWwgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbWF0Y2guaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICBpZiAoaXNOb2RlKHJldFZhbCkgfHwgaXNFbGVtZW50KHJldFZhbCkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaC5hcHBlbmRDaGlsZChyZXRWYWwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXRjaC5pbm5lckhUTUwgPSByZXRWYWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cuREVCVUcgfHxcbiAgICAgICAgICAgICAgICAoU3RhdGUucmVjb3JkaW5nVHJhbnNjcmlwdCAmJiBPcHRpb25zLnJlY29yZGluZ0xldmVscy5yZW5kZXIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGh0bWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0dy1wYXNzYWdlLmN1cnJlbnQnKTtcbiAgICAgICAgICAgICAgICBsZXQgaHRtbHR4dDtcbiAgICAgICAgICAgICAgICBpZiAoaHRtbCkge1xuICAgICAgICAgICAgICAgICAgICBodG1sdHh0ID0gaHRtbC5vdXRlckhUTUw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW0gPSBtYXRjaDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGVsZW0gJiYgZWxlbS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtID0gZWxlbS5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaHRtbHR4dCA9IGVsZW0uaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3dOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wID0gU3RhdGVbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb3dOYW1lLmluZGV4T2YoJ2JpbmRpbmcnKSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvd05hbWUuaW5kZXhPZigndHJhbnNjcmlwdCcpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbG93TmFtZS5zdGFydHNXaXRoKCdjdXJyZW50JykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc0Z1bmN0aW9uKHByb3ApKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZVtuYW1lXSA9IFN0YXRlW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudFRyYW5zY3JpcHRFbnRyeS5tYWNyb3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHBhc3NhZ2VOYW1lOiBTdGF0ZS5jdXJyZW50UGFzc2FnZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IGh0bWx0eHQsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiBKU09OLnN0cmluZ2lmeShuZXdTdGF0ZSksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdtYWNybycsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yczogZnJvbShTdGF0ZS5jb21waWxlclN0YXR1cy5lcnJvcnMpLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgU3RhdGUuY29tcGlsZXJTdGF0dXMuZXJyb3JzID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChNYXRjaGVzLmZ1bmN0aW9uc1JldHVybmluZy5pbmRleE9mKG1hdGNoKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBNYXRjaGVzLmZ1bmN0aW9uc1JldHVybmluZ1xuICAgICAgICAgICAgICAgICAgICAuc3BsaWNlKE1hdGNoZXMuZnVuY3Rpb25zUmV0dXJuaW5nLmluZGV4T2YobWF0Y2gpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBpZjogZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgICAgICAgIE1hdGNoZXMucHJvY2Vzc0lmQm9vbGVhbihtYXRjaCwgJ25lc3QnKTtcblxuICAgICAgICAgICAgY29uc3QgYmVmb3JlID0gbWF0Y2guY2hpbGROb2Rlc1swXS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIGxldCBhZnRlcjtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYWZ0ZXIgPSBzYWZlckV2YWwoYmVmb3JlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgLyogZG8gbm90aGluZyAqLyB9XG5cbiAgICAgICAgICAgIGlmIChhZnRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gZnJvbShtYXRjaC5jaGlsZE5vZGVzKTtcbiAgICAgICAgICAgICAgICBsZXQgdGVybWluYXRvckluZGV4ID0gbm9kZXMubWFwKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGNoZXMuZ2V0RGF0YVR5cGUobm9kZSkgPT09ICdvcGVuVGFnVGVybWluYXRvcic7XG4gICAgICAgICAgICAgICAgfSkuaW5kZXhPZih0cnVlKTtcblxuICAgICAgICAgICAgICAgIGxldCBob29rID0gbWF0Y2guY2hpbGROb2Rlc1t0ZXJtaW5hdG9ySW5kZXggKyAxXTtcblxuICAgICAgICAgICAgICAgIC8vIGdldCB0aGUgbmV4dCBub24tdGV4dCBub2RlXG4gICAgICAgICAgICAgICAgaWYgKGhvb2subm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9vayA9IGhvb2submV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIE1hdGNoZXMuaGFuZGxlKGhvb2spO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGhvb2submV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgaG9vay5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGhvb2submV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbXVzdCBiZSBhaGVhZCBvZiBpZjogYm9vbGVhbiBhcmd1bWVudCBhbmQgdGFnIHRlcm1pbmF0b3JcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDI7IGlpIDwgbWF0Y2guY2hpbGRyZW4ubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gbWF0Y2guY2hpbGRyZW5baWldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZE1UID0gTWF0Y2hlcy5nZXRNYWNyb1R5cGUoY2hpbGQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZE1UID09PSAnZWxzZWlmJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRNVCA9PT0gJ2Vsc2UtaWYnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZE1UID09PSAnZWxzZScpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiZWZvcmUgPSBjaGlsZC5jaGlsZE5vZGVzWzBdLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFmdGVyO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyID0gc2FmZXJFdmFsKGJlZm9yZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IC8qIGRvIG5vdGhpbmcgKi8gfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWZ0ZXIgfHwgY2hpbGRNVCA9PT0gJ2Vsc2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCB0aGUgdGFnIHRlcm1pbmF0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWJNYXRjaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3R3LW1hdGNoJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTWF0Y2guaW5uZXJIVE1MID0gY2hpbGQuY2hpbGRyZW5bMV0ub3V0ZXJIVE1MO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvY2tTY29wZSA9IFN0YXRlLmdldEJsb2NrU2NvcGUobWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9ja1Njb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1hdGNoLmRhdGFzZXQuYmxvY2tEZWZpbml0aW9ucyA9IEpTT04uc3RyaW5naWZ5KGJsb2NrU2NvcGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuaGFuZGxlKHN1Yk1hdGNoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobWF0Y2guY2hpbGRyZW5baWldKS5uZXh0QWxsKCkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChtYXRjaC5jaGlsZHJlbltpaV0pLnJlcGxhY2VXaXRoKCQoc3ViTWF0Y2gpLmNvbnRlbnRzKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGNoaWxkKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpaS0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBhcmdzID0gW21hdGNoLmNoaWxkTm9kZXNbMF1dXG4gICAgICAgICAgICAgICAgLmNvbmNhdChmcm9tKG1hdGNoLmNoaWxkcmVuKS5zbGljZSgxKSk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IE1hY3JvLmdsb2JhbC5pZi5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgJChtYXRjaCkucmVwbGFjZVdpdGgodmFsdWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHByb2Nlc3NJZkJvb2xlYW4obWF0Y2gsIG5lc3QpIHtcbiAgICAgICAgICAgIGxldCBwYXN0T3BlblRhZyA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gJ2Vsc2VpZic7XG5cbiAgICAgICAgICAgICQobWF0Y2gpLmFkZENsYXNzKCdwcm9jZXNzZWRJZicpO1xuXG4gICAgICAgICAgICBsZXQgaGFuZGxlU3RyID0gJyc7XG4gICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbWF0Y2guY2hpbGROb2Rlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IG1hdGNoLmNoaWxkTm9kZXNbaWldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkRFQgPSBNYXRjaGVzLmdldERhdGFUeXBlKGNoaWxkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZE1UID0gTWF0Y2hlcy5nZXRNYWNyb1R5cGUoY2hpbGQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVTdHIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkRFQgIT09ICdvcGVuVGFnVGVybWluYXRvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZC5vdXRlckhUTUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTdHIgKz0gbWF0Y2guY2hpbGROb2Rlc1tpaV0ub3V0ZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTdHIgKz0gbWF0Y2guY2hpbGROb2Rlc1tpaV0udGV4dENvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgYWxsIHByaW9yIG5vZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAkKG1hdGNoLmNoaWxkTm9kZXNbaWldKS5wcmV2QWxsKCkucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN1Yk1hdGNoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHctbWF0Y2gnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1hdGNoLmlubmVySFRNTCA9IGhhbmRsZVN0cjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvY2tTY29wZSA9IFN0YXRlLmdldEJsb2NrU2NvcGUobWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrU2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJNYXRjaC5kYXRhc2V0LmJsb2NrRGVmaW5pdGlvbnMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShibG9ja1Njb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5oYW5kbGUoc3ViTWF0Y2gpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdWJNYXRjaC50ZXh0Q29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKG1hdGNoLmNoaWxkTm9kZXNbMF0pLmJlZm9yZSh0ZXh0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJldmVudCBsb29raW5nIGZvciBlbHNlLWlmcyB3aXRoaW4gZWxzZS1pZnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXN0ICE9PSB0cnVlICYmIG5lc3QgIT09ICduZXN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlU3RyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZE1UID09PSAnZWxzZWlmJyB8fCBjaGlsZE1UID09PSAnZWxzZS1pZicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2ludCA9PT0gJ2Vsc2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdBbiBlbHNlLWlmIG1hY3JvIGNhbm5vdCBmb2xsb3cgYW4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbHNlIG1hY3JvISBJZ25vcmluZyBlbHNlLWlmLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLm91dGVySFRNTCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLnByb2Nlc3NJZkJvb2xlYW4oY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkTVQgPT09ICdlbHNlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQgPSAnZWxzZSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdmFyaWFibGUobWF0Y2gpIHtcbiAgICAgICAgICAgIG1hdGNoLmRhdGFzZXQudmFyaWFibGVOYW1lID0gbWF0Y2gudGV4dENvbnRlbnQ7XG5cbiAgICAgICAgICAgIGxldCB2YXJOYW1lID0gbWF0Y2gudGV4dENvbnRlbnQudHJpbSgpO1xuICAgICAgICAgICAgY29uc3QgdmFyVHlwZSA9IHZhck5hbWVbMF07XG4gICAgICAgICAgICB2YXJOYW1lID0gdmFyTmFtZS5zbGljZSgxKTtcblxuICAgICAgICAgICAgY29uc3QgY3VycmVudFZhclN0YXRlID0gU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGU7XG4gICAgICAgICAgICBsZXQgdmFyaWFibGU7XG4gICAgICAgICAgICBsZXQganNUeXBlO1xuXG4gICAgICAgICAgICBpZiAoU3RhdGUudmFyaWFibGVJbkJsb2NrU2NvcGUodmFyTmFtZSwgbWF0Y2gucGFyZW50Tm9kZSkpIHtcbiAgICAgICAgICAgICAgICB2YXJpYWJsZSA9IFN0YXRlLmdldEJsb2NrU2NvcGUobWF0Y2gucGFyZW50Tm9kZSlbdmFyTmFtZV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhcmlhYmxlID0gU3RhdGUuZ2V0VmFyaWFibGUodmFyTmFtZSwgbWF0Y2gucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGpzVHlwZSA9IHR5cGVvZih2YXJpYWJsZSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mKHZhcmlhYmxlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB2YXJpYWJsZSA9ICd1bmRlZmluZWQnO1xuICAgICAgICAgICAgICAgIGpzVHlwZSA9ICd1bmRlZmluZWQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChTdGF0ZS5pc1BvaW50ZXIodmFyaWFibGUpKSB7XG4gICAgICAgICAgICAgICAganNUeXBlID0gJ3BvaW50ZXInO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YodmFyaWFibGUpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHZhcmlhYmxlID0gU3RhdGUuZ2V0UG9pbnRlcih2YXJOYW1lLCBtYXRjaC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICBqc1R5cGUgPSAncG9pbnRlcic7XG4gICAgICAgICAgICAgICAgbWF0Y2guZGF0YXNldC5wb2ludGVyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzRWxlbWVudCh2YXJpYWJsZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaC5pbm5lckhUTUwgPSB2YXJpYWJsZS5vdXRlckhUTUw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTm9kZSh2YXJpYWJsZSkpIHtcbiAgICAgICAgICAgICAgICBtYXRjaC5pbm5lckhUTUwgPSB2YXJpYWJsZS50ZXh0Q29udGVudDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoanNUeXBlID09PSAncG9pbnRlcicpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBiYXJlLCBwcmludCBpdFxuICAgICAgICAgICAgICAgIGlmIChtYXRjaC5wYXJlbnROb2RlID09PSBTdGF0ZS5wYXJzZXJTdGF0dXMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBTdGF0ZS5nZXRWYXJpYWJsZSh2YXJpYWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocmVzdWx0KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaC5pbm5lckhUTUwgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaC5pbm5lckhUTUwgPSBKU09OLnN0cmluZ2lmeSh2YXJpYWJsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYXRjaC5pbm5lckhUTUwgPSB2YXJpYWJsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWF0Y2guZGF0YXNldC5qYXZhc2NyaXB0VHlwZSA9IGpzVHlwZTtcbiAgICAgICAgfSxcblxuICAgICAgICByZXNlcnZlZFdvcmQobWF0Y2gpIHtcbiAgICAgICAgICAgIGlmIChtYXRjaC50ZXh0Q29udGVudCBpbiBNYXRjaGVzLnJlc2VydmVkV29yZExvb2t1cCkge1xuICAgICAgICAgICAgICAgIG1hdGNoLnRleHRDb250ZW50ID0gTWF0Y2hlcy5yZXNlcnZlZFdvcmRMb29rdXBbbWF0Y2gudGV4dENvbnRlbnRdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1RoZXJlIGlzIG5vIGVudHJ5IGluIHRoZSByZXNlcnZlZCB3b3JkIGxvb2t1cCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3RhYmxlIGZvciB0aGUgbWF0Y2g6ICcgKyBtYXRjaC50ZXh0Q29udGVudCArICcuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaHRtbChtYXRjaCkge1xuICAgICAgICAgICAgaWYgKG1hdGNoLnRhZ05hbWUgPT09ICdTQ1JJUFQnKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZXZhbChtYXRjaC5pbm5lclRleHQpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZnJvbShtYXRjaC5jaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgY2hpbGQuYXR0cmlidXRlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHIgPSBjaGlsZC5hdHRyaWJ1dGVzW2lpXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCBhbGwgZGF0YS1hdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ci5uYW1lIGluIGNoaWxkLmRhdGFzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHQgPSBhdHRyLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSAvKD86XnxbXFxzXCInOzpdKShcXCRbXlxcczs6XCInJSldKykoPz1bXFxzXCInOzs6JSldfCQpLztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWdleC50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFyTmFtZSA9IHRleHQubWF0Y2gocmVnZXgpWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IFN0YXRlLmdldFZhcmlhYmxlKHZhck5hbWUuc2xpY2UoMSksIGNoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKHZhck5hbWUsICh2YWwgfHwgJycpLnRvU3RyaW5nKCkucmVwbGFjZSgvXFwkL2csICcnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHIudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLnRhZ05hbWUgPT09ICdTQ1JJUFQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2YWwoY2hpbGQuaW5uZXJUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGQudGFnTmFtZSAhPT0gJ1NUWUxFJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgQ29tcGlsZXIuY29tcGlsZShjaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBoYW5kbGUobWF0Y2gpIHtcbiAgICAgICAgICAgIGlmICghU3RhdGUuY29tcGlsZXJTdGF0dXMucnVubmluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgaWZzID0gWydpZicsICdlbHNlaWYnLCAnZWxzZS1pZicsICdlbHNlJ107XG4gICAgICAgICAgICBjb25zdCB1bmZpbmlzaGVkSWYgPSBcbiAgICAgICAgICAgICAgICBpZnMuaW5kZXhPZihNYXRjaGVzLmdldE1hY3JvVHlwZShtYXRjaCkpICE9PSAtMSAmJlxuICAgICAgICAgICAgICAgICEkKG1hdGNoKS5oYXNDbGFzcygncHJvY2Vzc2VkSWYnKTtcbiAgICAgICAgICAgIGNvbnN0IGRlZmVyID0gJChtYXRjaCkuaGFzQ2xhc3MoJ2RlZmVyJyk7XG5cbiAgICAgICAgICAgIGxldCBzZWVuVGVybWluYXRvciA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoIXVuZmluaXNoZWRJZiB8fCAoZGVmZXIgJiYgc2VlblRlcm1pbmF0b3IpKSB7XG4gICAgICAgICAgICAgICAgZnJvbShtYXRjaC5jaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbihjaGlsZE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghU3RhdGUuY29tcGlsZXJTdGF0dXMucnVubmluZyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIS9jb21waWxlci0/b24vLnRlc3QoY2hpbGRNYXRjaC5kYXRhc2V0Lm1hY3JvVHlwZSkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgnY2hpbGRyZW4nIGluIGNoaWxkTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuaGFuZGxlKGNoaWxkTWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBNYXRjaGVzLmdldERhdGFUeXBlKGNoaWxkTWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIGFsbCBwbGFpbiwgbm9uLXBhcnNlZCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnb3BlblRhZ1Rlcm1pbmF0b3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWVuVGVybWluYXRvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gTWF0Y2hlc1t0eXBlXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gbWF0Y2ggaGFuZGxlciBmb3IgYSB0b2tlbiBvZiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZTogJyArIHR5cGUgKyAnLicpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcihjaGlsZE1hdGNoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBNYXRjaGVzLnNpbmdsZVF1b3RlID0gbm9vcDtcbiAgICBNYXRjaGVzLmRvdWJsZVF1b3RlID0gbm9vcDtcbiAgICBNYXRjaGVzLmNvbW1hID0gbm9vcDtcbiAgICBNYXRjaGVzLm51bWJlciA9IG5vb3A7XG4gICAgTWF0Y2hlcy5vcGVuVGFnVGVybWluYXRvciA9IG5vb3A7XG4gICAgTWF0Y2hlcy5ob29rID0gbm9vcDtcbiAgICBNYXRjaGVzLmFjY2Vzc29yID0gbm9vcDtcbn0oKSkiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgY29uc3QgZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xuXG4gICAgbGV0IGVhc2luZ3MgPSB7XG4gICAgICAgIC8qKiBNb3ZlIGF0IGEgbGluZWFyIHJhdGUgZnJvbSBzdGFydCB0byBmaW5pc2guIE5vdGU6IHRpbWluZyBkb2VzIG5vdFxuICAgICAgICAqIGFmZmVjdCBsaW5lYXIgZmFkaW5nLiB2b2x1bWUgPSB4LiAqL1xuICAgICAgICBMSU5FQVI6ICdsaW5lYXInLFxuICAgICAgICAvKiogTW92ZSBhdCBhIHF1YWRyYXRpYyByYXRlIGZyb20gc3RhcnQgdG8gZmluaXNoLiB2b2x1bWUgPSB4XjIuICovXG4gICAgICAgIFFVQURSQVRJQzogJ3F1YWRyYXRpYycsXG4gICAgICAgIC8qKiBNb3ZlIGF0IGEgY3ViaWMgcmF0ZSBmcm9tIHN0YXJ0IHRvIGZpbmlzaC4gdm9sdW1lID0geF4zLiAqL1xuICAgICAgICBDVUJJQzogJ2N1YmljJyxcbiAgICAgICAgLyoqIE1vdmUgYXQgYSBxdWFydGljIHJhdGUgZnJvbSBzdGFydCB0byBmaW5pc2guIHZvbHVtZSA9IHheNC4gKi9cbiAgICAgICAgUVVBUlRJQzogJ3F1YXJ0aWMnLFxuICAgICAgICAvKiogTW92ZSBhdCBhIHF1aW50aWMgcmF0ZSBmcm9tIHN0YXJ0IHRvIGZpbmlzaC4gdm9sdW1lID0geF41LiAqL1xuICAgICAgICBRVUlOVElDOiAncXVpbnRpYycsXG4gICAgICAgIC8qKiBNb3ZlIGF0IGEgZXhwb25lbnRpYWwgcmF0ZSBmcm9tIHN0YXJ0IHRvIGZpbmlzaC4gdm9sdW1lID0geF4xMC4gKi9cbiAgICAgICAgRVhQT05FTlRJQUw6ICdleHBvbmVudGlhbCdcbiAgICB9O1xuICAgIGVhc2luZ3MgPSBPYmplY3QuZnJlZXplKE9iamVjdC5zZWFsKGVhc2luZ3MpKTtcbiAgICBpZiAoaXNGdW5jdGlvbih3aW5kb3cuUHJveHkpKSB7XG4gICAgICAgIGVhc2luZ3MgPSBuZXcgd2luZG93LlByb3h5KGVhc2luZ3MsIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KCkge1xuICAgICAgICAgICAgICAgIGdhdGVseUxvZygnTWl4ZXIuZWFzaW5ncyBpcyBmcm96ZW4gYW5kICcgK1xuICAgICAgICAgICAgICAgICAgICAnc2VhbGVkLCBhbmQgY2Fubm90IGJlIGFsdGVyZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBGQURJTkdfRUFTSU5HX1RZUEUgPSBlYXNpbmdzLkxJTkVBUjtcblxuICAgIC8qKiBcbiAgICAgKiBBbiBpbW11dGFibGUgZW51bS1saWtlIG9iamVjdCBjb250YWluaW5nIHRoZSBwb3NzaWJsZSB2YWx1ZXMgZm9yIFxuICAgICAqIHRpbWluZ3MgdXNlZCB0byBmYWRlIHNvdW5kcy4gSXQgaXMgaW1wb3NzaWJsZSB0byBjaGFuZ2UgYW55dGhpbmdcbiAgICAgKiB3aXRoaW4gdGhpcyBvYmplY3Qgb3IgYWRkIHRvIGl0LiBJbiBFUzYsIGF0dGVtcHRpbmcgdG8gZG8gc28gd2lsbFxuICAgICAqIHByb2R1Y2UgYSBsb2cgbWVzc2FnZTsgY2hhbmdlcyBtYWRlIGluIGVhcmxpZXIgdmVyc2lvbnMgb2YgRVMgd2lsbFxuICAgICAqIGZhaWwgc2lsZW50bHkuXG4gICAgICogQGdsb2JhbFxuICAgICAqIEBlbnVtIHtzdHJpbmd9XG4gICAgICogQGNvbnN0XG4gICAgICovXG4gICAgbGV0IHRpbWluZ3MgPSB7XG4gICAgICAgIC8qKiBQZXJmb3JtIGVhc2luZyBkdXJpbmcgdGhlIGZpcnN0IGhhbGYgb2YgdGhlIGZhZGUuICovXG4gICAgICAgIEVBU0VJTjogJ2Vhc2VJbicsXG4gICAgICAgIC8qKiBQZXJmb3JtIGVhc2luZyBkdXJpbmcgdGhlIHNlY29uZCBoYWxmIG9mIHRoZSBmYWRlLiAqL1xuICAgICAgICBFQVNFT1VUOiAnZWFzZU91dCcsXG4gICAgICAgIC8qKiBQZXJmb3JtIGVhc2luZyBhdCBmb3IgdGhlIHdob2xlIG9mIHRoZSBmYWRlLiAqL1xuICAgICAgICBFQVNFSU5PVVQ6ICdlYXNlSW5PdXQnXG4gICAgfTtcbiAgICB0aW1pbmdzID0gT2JqZWN0LmZyZWV6ZShPYmplY3Quc2VhbCh0aW1pbmdzKSk7XG4gICAgaWYgKGlzRnVuY3Rpb24od2luZG93LlByb3h5KSkge1xuICAgICAgICB0aW1pbmdzID0gbmV3IHdpbmRvdy5Qcm94eSh0aW1pbmdzLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCgpIHtcbiAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ01peGVyLnRpbWluZ3MgaXMgZnJvemVuIGFuZCBzZWFsZWQsICcgK1xuICAgICAgICAgICAgICAgICAgICAnYW5kIGNhbm5vdCBiZSBhbHRlcmVkLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgRkFESU5HX1RJTUlOR19UWVBFID0gdGltaW5ncy5FQVNFSU5PVVQ7XG5cbiAgICBsZXQgdXNlclZvbHVtZSA9IDE7XG4gICAgbGV0IHN0b3J5Vm9sdW1lID0gMTtcbiAgICB3aW5kb3cuTWl4ZXIgPSB7XG4gICAgICAgIGVhc2luZ3MsXG4gICAgICAgIHRpbWluZ3MsXG4gICAgICAgIGNoYW5uZWxzOiB7fSxcbiAgICAgICAgc291bmRzOiB7fSxcbiAgICAgICAgZ2V0VXNlclZvbHVtZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB1c2VyVm9sdW1lO1xuICAgICAgICB9LFxuICAgICAgICBnZXRTdG9yeVZvbHVtZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdG9yeVZvbHVtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0U3RvcnlWb2x1bWUodmFsdWUpIHtcbiAgICAgICAgICAgIHN0b3J5Vm9sdW1lID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIE1peGVyLnVwZGF0ZVZvbHVtZXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlVm9sdW1lKHNvdW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0b3RhbFZvbHVtZSA9IFxuICAgICAgICAgICAgICAgIHVzZXJWb2x1bWUgKlxuICAgICAgICAgICAgICAgIHN0b3J5Vm9sdW1lICpcbiAgICAgICAgICAgICAgICBNaXhlci5jaGFubmVsc1tzb3VuZC5jaGFubmVsXS5nZXRWb2x1bWUoKSAqXG4gICAgICAgICAgICAgICAgc291bmQuZ2V0Vm9sdW1lKCk7XG4gICAgICAgICAgICBzb3VuZC5hdWRpb0VsZW1lbnQudm9sdW1lID0gdG90YWxWb2x1bWU7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZVZvbHVtZXMoKSB7XG4gICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eU5hbWVzKE1peGVyLmNoYW5uZWxzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFubmVsID0gTWl4ZXIuY2hhbm5lbHNbbmFtZV07XG5cbiAgICAgICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eU5hbWVzKGNoYW5uZWwuc291bmRzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgTWl4ZXIudXBkYXRlVm9sdW1lKE1peGVyLnNvdW5kc1tuYW1lXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlQXVkaW9EaXNwbGF5KCkge1xuICAgICAgICAvLyBhZGQgYXVkaW8gY2hhbm5lbHNcbiAgICAgICAgY29uc3QgJGF1ZGlvRGlzcGxheSA9ICQoJyNkZWZhdWx0QXVkaW9EaXNwbGF5Jyk7XG4gICAgICAgICRhdWRpb0Rpc3BsYXkuY2hpbGRyZW4oKS5yZW1vdmUoKTtcblxuICAgICAgICBsZXQgc2VsZWN0b3IgPSAnPHR3LWF1ZGlvLWNoYW5uZWw+PC90dy1hdWRpby1jaGFubmVsPic7XG5cbiAgICAgICAgY29uc3QgJGdsb2JhbCA9ICQoc2VsZWN0b3IpO1xuICAgICAgICAkKCc8c3Bhbj5NYXN0ZXIgVm9sdW1lPC9zcGFuPicpLmFwcGVuZFRvKCRnbG9iYWwpO1xuICAgICAgICAkKCc8YnI+JykuYXBwZW5kVG8oJGdsb2JhbCk7XG5cbiAgICAgICAgY29uc3QgJGlucHV0ID0gJCgnPGlucHV0PjwvaW5wdXQ+Jyk7XG4gICAgICAgICRpbnB1dC5hdHRyKHtcbiAgICAgICAgICAgIHR5cGU6ICdyYW5nZScsXG4gICAgICAgICAgICB2YWx1ZTogdXNlclZvbHVtZSxcbiAgICAgICAgICAgIG1pbjogJzAnLFxuICAgICAgICAgICAgbWF4OiAnMScsXG4gICAgICAgICAgICBzdGVwOiAnMC4wMScsXG4gICAgICAgIH0pO1xuXG4gICAgICAgICRpbnB1dC5vbignY2hhbmdlIG1vdXNlbW92ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHVzZXJWb2x1bWUgPSBlLmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgICAgICAgICBNaXhlci51cGRhdGVWb2x1bWVzKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICRpbnB1dC5hcHBlbmRUbygkZ2xvYmFsKTtcbiAgICAgICAgJCgnPHNwYW4gY2xhc3M9XCJyYW5nZVJlYWRvdXRcIj4xPC9zcGFuPicpLmFwcGVuZFRvKCRnbG9iYWwpO1xuICAgICAgICAkZ2xvYmFsLmFwcGVuZFRvKCRhdWRpb0Rpc3BsYXkpO1xuXG4gICAgICAgIGdldE93blByb3BlcnR5TmFtZXMoTWl4ZXIuY2hhbm5lbHMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgLy8gZG9uJ3QgZGlzcGxheSBub25lIGNoYW5uZWxcbiAgICAgICAgICAgIGlmIChuYW1lID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxEYXRhID0gTWl4ZXIuY2hhbm5lbHNbbmFtZV07XG5cbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yID0gJzx0dy1hdWRpby1jaGFubmVsPjwvdHctYXVkaW8tY2hhbm5lbD4nO1xuICAgICAgICAgICAgY29uc3QgJGNoYW5uZWwgPSAkKHNlbGVjdG9yKTtcblxuICAgICAgICAgICAgY29uc3QgJHRpdGxlID0gJCgnPHNwYW4+PC9zcGFuPicpO1xuICAgICAgICAgICAgJHRpdGxlLnRleHQoY2hhbm5lbERhdGEuZ2V0TmFtZSgpKTtcbiAgICAgICAgICAgICR0aXRsZS5hcHBlbmRUbygkY2hhbm5lbCk7XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0ICRyYW5nZSA9ICQoJzxpbnB1dD48L2lucHV0PicpO1xuICAgICAgICAgICAgJHJhbmdlLmF0dHIoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyYW5nZScsXG4gICAgICAgICAgICAgICAgc3RlcDogJzAuMDEnLFxuICAgICAgICAgICAgICAgIG1pbjogJzAnLFxuICAgICAgICAgICAgICAgIG1heDogJzEnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBjaGFubmVsRGF0YS5nZXRWb2x1bWUoKS50b1N0cmluZygpLFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRyYW5nZS5hcHBlbmRUbygkY2hhbm5lbCk7XG5cbiAgICAgICAgICAgICRyYW5nZS5vbignY2hhbmdlIG1vdXNlbW92ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsRGF0YS5zZXRWb2x1bWUoZS5jdXJyZW50VGFyZ2V0LnZhbHVlLCAnbm91cGRhdGUnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCAkcmVhZG91dCA9ICQoJzxzcGFuIGNsYXNzPVwicmFuZ2VSZWFkb3V0XCI+PC9zcGFuPicpO1xuICAgICAgICAgICAgJHJlYWRvdXQudGV4dChjaGFubmVsRGF0YS5nZXRWb2x1bWUoKSk7XG4gICAgICAgICAgICAkcmVhZG91dC5hcHBlbmRUbygkY2hhbm5lbCk7XG5cbiAgICAgICAgICAgICRjaGFubmVsLmFwcGVuZFRvKCRhdWRpb0Rpc3BsYXkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgd2luZG93LnVwZGF0ZUF1ZGlvRGlzcGxheSA9IHVwZGF0ZUF1ZGlvRGlzcGxheTtcblxuICAgIGNsYXNzIENoYW5uZWwge1xuICAgICAgICBjb25zdHJ1Y3RvcihuYW1lLCBkZWZhdWx0Vm9sdW1lLCBzb3VuZHMpIHtcbiAgICAgICAgICAgIGlmICghbmFtZSB8fCB0eXBlb2YobmFtZSkgIT09ICdzdHJpbmcnICkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIG5hbWUgYXJndW1lbnQgcGFzc2VkIHRvIHRoZSBDaGFubmVsICcgK1xuICAgICAgICAgICAgICAgICAgICAnY29uc3RydWN0b3IgaXMgbm90IHZhbGlkLiBDYW5ub3QgYWRkLicpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lIGluIE1peGVyLmNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIGNoYW5uZWwgYnkgdGhhdCBuYW1lIGFscmVhZHkgZXhpc3RzLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBhZGQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBzdG9yeU5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5nZXROYW1lID0gZnVuY3Rpb24gZ2V0TmFtZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcnlOYW1lO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbGV0IGNoYW5uZWxWb2x1bWUgPSBOdW1iZXIoZGVmYXVsdFZvbHVtZSk7XG4gICAgICAgICAgICBpZiAoY2hhbm5lbFZvbHVtZSA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBkZWZhdWx0IHZvbHVtZSBvZiBhIENoYW5uZWwgY2Fubm90IGJlICcgK1xuICAgICAgICAgICAgICAgICAgICAnZ3JlYXRlciB0aGFuIDEuIENhbm5vdCBjcmVhdGUgQ2hhbm5lbC4nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbFZvbHVtZSA8IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBkZWZhdWx0IHZvbHVtZSBvZiBhIENoYW5uZWwgY2Fubm90IGJlICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVzcyB0aGFuIDAuIENhbm5vdCBjcmVhdGUgQ2hhbm5lbC4nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoTnVtYmVyLmlzTmFOKGNoYW5uZWxWb2x1bWUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihkZWZhdWx0Vm9sdW1lKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbFZvbHVtZSA9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZGVmYXVsdFZvbHVtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGhlIENoYW5uZWwgY29uc3RydWN0b3IgaXMgbm90IHZhbGlkLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnY3JlYXRlIENoYW5uZWwuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmdldFZvbHVtZSA9IGZ1bmN0aW9uIGdldFZvbHVtZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhbm5lbFZvbHVtZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuc2V0Vm9sdW1lID0gZnVuY3Rpb24gc2V0Vm9sdW1lKHZhbHVlLCBub3VwZGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IE51bWJlcih2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlVm9sdW1lKHZhbCwgJ3NldFZvbHVtZSBtZXRob2QnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNoYW5uZWxWb2x1bWUgPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCB2YWwpKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdW5kVmFscyA9IGdldE93blByb3BlcnR5TmFtZXModGhpcy5zb3VuZHMpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1peGVyLnNvdW5kc1tuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc291bmRWYWxzLmZvckVhY2goZnVuY3Rpb24oc291bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgTWl4ZXIudXBkYXRlVm9sdW1lKHNvdW5kKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChub3VwZGF0ZSAhPT0gdHJ1ZSAmJiBub3VwZGF0ZSAhPT0gJ25vdXBkYXRlJykge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVBdWRpb0Rpc3BsYXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnF1aWV0ZXIgPSBmdW5jdGlvbiBxdWlldGVyKCkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWxWb2x1bWUgPSBNYXRoLm1heCgwLCBjaGFubmVsVm9sdW1lIC0gMC4xKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMubG91ZGVyID0gZnVuY3Rpb24gbG91ZGVyKCkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWxWb2x1bWUgPSBNYXRoLm1pbigxLCBjaGFubmVsVm9sdW1lICsgMC4xKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIE1peGVyLmNoYW5uZWxzW25hbWVdID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5zb3VuZHMgPSB7fTtcbiAgICAgICAgICAgIGxldCBzb3VuZE9ianMgPSBbXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Yoc291bmRzKSA9PT0gJ3VuZGVmaW5lZCcgfHwgc291bmRzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc291bmRPYmpzID0gW107XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdW5kT2JqcyA9IGZyb20oc291bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNvdW5kT2Jqcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VuZCA9IHNvdW5kT2Jqc1tpaV07XG4gICAgICAgICAgICAgICAgaWYgKCEoJ25hbWUnIGluIHNvdW5kKSkge1xuICAgICAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1RoZXJlIGlzIG5vIG5hbWUgcHJvcGVydHkgaW4gdGhlIFNvdW5kICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ29iamVjdCAnICsgc291bmQgKyAnLiBDYW5ub3QgYWRkIFNvdW5kIHRvIENoYW5uZWwuJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXNvdW5kLmdldE5hbWUoKSkge1xuICAgICAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1RoZSBuYW1lIHByb3BlcnR5IGluIHRoZSBTb3VuZCBvYmplY3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VuZCArICcgaXMgbm90IHZhbGlkLiBDYW5ub3QgYWRkIFNvdW5kIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0NoYW5uZWwuJyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWwgPSBNaXhlci5jaGFubmVsc1tzb3VuZC5jaGFubmVsXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VuZE5hbWUgPSBzb3VuZC5nZXROYW1lKCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGNoYW5uZWwuc291bmRzW3NvdW5kTmFtZV07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc291bmQuY2hhbm5lbCA9IHRoaXMuZ2V0TmFtZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc291bmRzW3NvdW5kTmFtZV0gPSBzb3VuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgTWl4ZXIudXBkYXRlVm9sdW1lcygpO1xuXG4gICAgICAgICAgICB1cGRhdGVBdWRpb0Rpc3BsYXkoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBNaXhlci5jaGFubmVscy5ub25lID0gbmV3IENoYW5uZWwoJ25vbmUnKTtcbiAgICB3aW5kb3cuQ2hhbm5lbCA9IENoYW5uZWw7XG5cbiAgICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgICAqIEFkYXB0ZWQgZnJvbSBSb2JlcnQgUGVubmVyJ3MgRWFzaW5nIEVxdWF0aW9ucyB2Mi4wMSAgICAgICAgICAgICAgICAqXG4gICAgICogKGMpIDIwMDMgUm9iZXJ0IFBlbm5lciwgYWxsIHJpZ2h0cyByZXNlcnZlZC4gICAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgKiBUaGVzZSBlcXVhdGlvbnMgYXJlIHN1YmplY3QgdG8gdGhlIHRlcm1zIGluICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAqIGh0dHA6Ly93d3cucm9iZXJ0cGVubmVyLmNvbS9lYXNpbmdfdGVybXNfb2ZfdXNlLmh0bWwuICAgICAgICAgICAgICAqXG4gICAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cbiAgICBmdW5jdGlvbiBsaW5lYXJFYXNpbmcodGltZSwgaW5pdGlhbCwgY2hhbmdlLCBkdXJhdGlvbikge1xuICAgICAgICByZXR1cm4gY2hhbmdlICogdGltZSAvIGR1cmF0aW9uICsgaW5pdGlhbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBxdWFkRWFzaW5nKHRpbWUsIGluaXRpYWwsIGNoYW5nZSwgZHVyYXRpb24sIHRpbWluZykge1xuICAgICAgICBpZiAodGltaW5nID09PSBNaXhlci50aW1pbmdzLkVBU0VfSU4pIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFuZ2UgKiAodGltZSAvPSBkdXJhdGlvbikgKiB0aW1lICsgaW5pdGlhbDtcbiAgICAgICAgfSBlbHNlIGlmICh0aW1pbmcgPT09IE1peGVyLnRpbWluZ3MuRUFTRV9PVVQpIHtcbiAgICAgICAgICAgIHJldHVybiAtY2hhbmdlICogKHRpbWUgLz0gZHVyYXRpb24pICogKHRpbWUgLSAyKSArIGluaXRpYWw7XG4gICAgICAgIH0gZWxzZSBpZiAodGltaW5nID09PSBNaXhlci50aW1pbmdzLkVBU0VfSU5fT1VUKSB7XG4gICAgICAgICAgICBpZiAoKHRpbWUgLz0gZHVyYXRpb24gLyAyKSA8IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhbmdlIC8gMiAqIHRpbWUgKiB0aW1lICsgaW5pdGlhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtY2hhbmdlIC8gMiAqICgoLS10aW1lKSAqICh0aW1lIC0gMikgLSAxKSArIGluaXRpYWw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjdWJlRWFzaW5nKHRpbWUsIGluaXRpYWwsIGNoYW5nZSwgZHVyYXRpb24sIHRpbWluZykge1xuICAgICAgICBpZiAodGltaW5nID09PSBNaXhlci50aW1pbmdzLkVBU0VfSU4pIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFuZ2UgKiAodGltZSAvPSBkdXJhdGlvbikgKiB0aW1lICogdGltZSArIGluaXRpYWw7XG4gICAgICAgIH0gZWxzZSBpZiAodGltaW5nID09PSBNaXhlci50aW1pbmdzLkVBU0VfT1VUKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlICogKCh0aW1lID0gdGltZSAvIGR1cmF0aW9uIC0gMSkgKiB0aW1lICogdGltZSArIDEpICtcbiAgICAgICAgICAgICAgICBpbml0aWFsO1xuICAgICAgICB9IGVsc2UgaWYgKHRpbWluZyA9PT0gTWl4ZXIudGltaW5ncy5FQVNFX0lOX09VVCkge1xuICAgICAgICAgICAgaWYgKCh0aW1lIC89IGR1cmF0aW9uIC8gMikgPCAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZSAvIDIgKiB0aW1lICogdGltZSAqIHRpbWUgKyBpbml0aWFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZSAvIDIgKiAoKHRpbWUgLT0gMikgKiB0aW1lICogdGltZSArIDIpICsgaW5pdGlhbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHF1YXJ0RWFzaW5nKHRpbWUsIGluaXRpYWwsIGNoYW5nZSwgZHVyYXRpb24sIHRpbWluZykge1xuICAgICAgICBpZiAodGltaW5nID09PSBNaXhlci50aW1pbmdzLkVBU0VfSU4pIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFuZ2UgKiAodGltZSAvPSBkdXJhdGlvbikgKiB0aW1lICogdGltZSAqIHRpbWUgKyBpbml0aWFsO1xuICAgICAgICB9IGVsc2UgaWYgKHRpbWluZyA9PT0gTWl4ZXIudGltaW5ncy5FQVNFX09VVCkge1xuICAgICAgICAgICAgcmV0dXJuIC1jaGFuZ2UgKiBcbiAgICAgICAgICAgICAgICAoKHRpbWUgPSB0aW1lIC8gZHVyYXRpb24gLSAxKSAqIHRpbWUgKiB0aW1lICogdGltZSAtIDEpICtcbiAgICAgICAgICAgICAgICBpbml0aWFsO1xuICAgICAgICB9IGVsc2UgaWYgKHRpbWluZyA9PT0gTWl4ZXIudGltaW5ncy5FQVNFX0lOX09VVCkge1xuICAgICAgICAgICAgaWYgKCh0aW1lIC89IGR1cmF0aW9uIC8gMikgPCAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZSAvIDIgKiB0aW1lICogdGltZSAqIHRpbWUgKiB0aW1lICsgaW5pdGlhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtY2hhbmdlIC8gMiAqICgodGltZSAtPSAyKSAqIHRpbWUgKiB0aW1lICogdGltZSAtIDIpICtcbiAgICAgICAgICAgICAgICBpbml0aWFsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcXVpbnRFYXNpbmcodGltZSwgaW5pdGlhbCwgY2hhbmdlLCBkdXJhdGlvbiwgdGltaW5nKSB7XG4gICAgICAgIGlmICh0aW1pbmcgPT09IE1peGVyLnRpbWluZ3MuRUFTRV9JTikge1xuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZSAqICh0aW1lIC89IGR1cmF0aW9uKSAqXG4gICAgICAgICAgICAgICAgdGltZSAqIHRpbWUgKiB0aW1lICogdGltZSArIGluaXRpYWw7XG4gICAgICAgIH0gZWxzZSBpZiAodGltaW5nID09PSBNaXhlci50aW1pbmdzLkVBU0VfT1VUKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlICogXG4gICAgICAgICAgICAgICAgKCh0aW1lID0gdGltZSAvIGR1cmF0aW9uIC0gMSkgKlxuICAgICAgICAgICAgICAgICAgICB0aW1lICogdGltZSAqIHRpbWUgKiB0aW1lICsgMSkgKyBpbml0aWFsO1xuICAgICAgICB9IGVsc2UgaWYgKHRpbWluZyA9PT0gTWl4ZXIudGltaW5ncy5FQVNFX0lOX09VVCkge1xuICAgICAgICAgICAgaWYgKCh0aW1lIC89IGR1cmF0aW9uIC8gMikgPCAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYW5nZSAvIDIgKiB0aW1lICogdGltZSAqIHRpbWUgKiB0aW1lICogdGltZSArXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlIC8gMiAqICgodGltZSAtPSAyKSAqXG4gICAgICAgICAgICAgICAgdGltZSAqIHRpbWUgKiB0aW1lICogdGltZSArIDIpICtcbiAgICAgICAgICAgICAgICBpbml0aWFsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhwRWFzaW5nKHRpbWUsIGluaXRpYWwsIGNoYW5nZSwgZHVyYXRpb24sIHRpbWluZykge1xuICAgICAgICBpZiAodGltaW5nID09PSBNaXhlci50aW1pbmdzLkVBU0VfSU4pIHtcbiAgICAgICAgICAgIHJldHVybiAodGltZSA9PT0gMCkgPyBpbml0aWFsIDogY2hhbmdlICpcbiAgICAgICAgICAgICAgICBNYXRoLnBvdygyLCAxMCAqICh0aW1lIC8gZHVyYXRpb24gLSAxKSkgKyBpbml0aWFsO1xuICAgICAgICB9IGVsc2UgaWYgKHRpbWluZyA9PT0gTWl4ZXIudGltaW5ncy5FQVNFX09VVCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aW1lID09PSBkdXJhdGlvbikgPyBpbml0aWFsICsgY2hhbmdlIDpcbiAgICAgICAgICAgICAgICBjaGFuZ2UgKiAoLU1hdGgucG93KDIsIC0xMCAqIHRpbWUgLyBkdXJhdGlvbikgKyAxKSArIGluaXRpYWw7XG4gICAgICAgIH0gZWxzZSBpZiAodGltaW5nID09PSBNaXhlci50aW1pbmdzLkVBU0VfSU5fT1VUKSB7XG4gICAgICAgICAgICBpZiAodGltZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbml0aWFsO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aW1lID09PSBkdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbml0aWFsICsgY2hhbmdlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgodGltZSAvPSBkdXJhdGlvbiAvIDIpIDwgMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGFuZ2UgLyAyICogTWF0aC5wb3coMiwgMTAgKiAodGltZSAtIDEpKSArIGluaXRpYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2hhbmdlIC8gMiAqICgtTWF0aC5wb3coMiwgLTEwICogLS10aW1lKSArIDIpICsgaW5pdGlhbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGVhc2luZ0Z1bmN0aW9ucyA9IHt9O1xuICAgIGVhc2luZ0Z1bmN0aW9uc1tNaXhlci5lYXNpbmdzLkxJTkVBUl0gPSBsaW5lYXJFYXNpbmc7XG4gICAgZWFzaW5nRnVuY3Rpb25zW01peGVyLmVhc2luZ3MuUVVBRFJBVElDXSA9IHF1YWRFYXNpbmc7XG4gICAgZWFzaW5nRnVuY3Rpb25zW01peGVyLmVhc2luZ3MuQ1VCSUNdID0gY3ViZUVhc2luZztcbiAgICBlYXNpbmdGdW5jdGlvbnNbTWl4ZXIuZWFzaW5ncy5RVUFSVElDXSA9IHF1YXJ0RWFzaW5nO1xuICAgIGVhc2luZ0Z1bmN0aW9uc1tNaXhlci5lYXNpbmdzLlFVSU5USUNdID0gcXVpbnRFYXNpbmc7XG4gICAgZWFzaW5nRnVuY3Rpb25zW01peGVyLmVhc2luZ3MuRVhQT05FTlRJQUxdID0gZXhwRWFzaW5nO1xuICAgIGZ1bmN0aW9uIGRvRmFkZShzb3VuZE9iaiwgYWN0aW9uLCB2YWx1ZSkge1xuICAgICAgICBpZiAoYWN0aW9uID09PSAndm9sdW1lJyAmJiAhdmFsaWRhdGVWb2x1bWUodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoTnVtYmVyKHZhbHVlKSA9PT0gc291bmRPYmouZ2V0Vm9sdW1lKCkpIHtcbiAgICAgICAgICAgIGdhdGVseUxvZygnQ2FuXFwndCBmYWRlIHRvIHZvbHVtZSAoJyArIHZhbHVlICsgJykg4oCTICcgK1xuICAgICAgICAgICAgICAgICd0aGUgY3VycmVudGx5IHNldCB2b2x1bWUgaXMgdGhlIHNhbWUuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmYWRlID0gc291bmRPYmouZmFkZTtcbiAgICAgICAgaWYgKCFmYWRlKSB7XG4gICAgICAgICAgICB3aWRlQWxlcnQoJ3RoZSBmdWNraW4gZmFkZSBpc25cXCd0IHZhbGlkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmFkZSAmJlxuICAgICAgICAgICAgdHlwZW9mKGZhZGUudGltaW5nKSAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIGZhZGUuZWFzaW5nICE9PSBNaXhlci5lYXNpbmdzLkxJTkVBUilcbiAgICAgICAge1xuICAgICAgICAgICAgZ2F0ZWx5TG9nKCdUaGUgc291bmQgb2JqZWN0XFwncyBmYWRlLmVhc2luZyBwcm9wZXJ0eSBpcyBzZXQgJyArXG4gICAgICAgICAgICAgICAgJ3RvICcgKyBmYWRlLmVhc2luZyArICcsIHdoaWNoIHJlcXVpcmVzIHRoZSBzb3VuZCAnICtcbiAgICAgICAgICAgICAgICAnb2JqZWN0XFwncyBmYWRlLnRpbWluZyBwcm9wZXJ0eSB0byBiZSBzZXQgdG8gYSB2YWxpZCAnICtcbiAgICAgICAgICAgICAgICAndGltaW5nIHByb3BlcnR5LiBIb3dldmVyLCB0aGUgY3VycmVudCB2YWx1ZSBvZiAnICtcbiAgICAgICAgICAgICAgICAnZmFkZS50aW1pbmcgaXMgJyArIGZhZGUudGltaW5nKTtcbiAgICAgICAgICAgIC8vIHJldHVybiBoZXJlPyBpZGsgbG9sXG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGltZSA9IDA7XG4gICAgICAgIGxldCBpbml0aWFsO1xuICAgICAgICBjb25zdCB2b2x1bWUgPSBzb3VuZE9iai5nZXRWb2x1bWUoKTtcbiAgICAgICAgbGV0IGNoYW5nZTtcbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gJ3BsYXknKSB7XG4gICAgICAgICAgICBpbml0aWFsID0gMDtcbiAgICAgICAgICAgIGNoYW5nZSA9IHZvbHVtZTtcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdwYXVzZScgfHwgYWN0aW9uID09PSAnc3RvcCcpIHtcbiAgICAgICAgICAgIGluaXRpYWwgPSB2b2x1bWU7XG4gICAgICAgICAgICBjaGFuZ2UgPSAtdm9sdW1lO1xuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3ZvbHVtZScpIHtcbiAgICAgICAgICAgIGluaXRpYWwgPSB2b2x1bWU7XG4gICAgICAgICAgICBjaGFuZ2UgPSB2YWx1ZSAtIHZvbHVtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gZmFkZS5kdXJhdGlvbjtcbiAgICAgICAgY29uc3Qgc3RlcCA9IGR1cmF0aW9uIC8gZmFkZS5zdGVwcztcbiAgICAgICAgY29uc3QgdGltaW5nID0gZmFkZS50aW1pbmc7XG4gICAgICAgIGNvbnN0IGZ1bmMgPSBlYXNpbmdGdW5jdGlvbnNbZmFkZS5lYXNpbmcudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIGlmICghZnVuYykge1xuICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZnVuYyBmb3IgdGhlIGVhc2luZyBkb25cXCd0IHdvcmshISEhISEhISEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNvdW5kT2JqRHVwID0gc291bmRPYmo7XG5cbiAgICAgICAgY29uc3QgZmFkZUludGVydmFsID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc3Qgc3RlcFZvbHVtZSA9IGZ1bmModGltZSwgaW5pdGlhbCwgY2hhbmdlLCBkdXJhdGlvbiwgdGltaW5nKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Yoc3RlcFZvbHVtZSkgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICAgICAgTnVtYmVyLmlzTmFOKE51bWJlcihzdGVwVm9sdW1lKSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoZmFkZUludGVydmFsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNvdW5kT2JqRHVwLnNldFZvbHVtZShzdGVwVm9sdW1lKTtcbiAgICAgICAgICAgIC8vZ2F0ZWx5TG9nKHNvdW5kT2JqRHVwLmF1ZGlvRWxlbWVudC52b2x1bWUpO1xuXG4gICAgICAgICAgICB0aW1lICs9IHN0ZXA7XG4gICAgICAgICAgICBpZiAodGltZSA+PSBkdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHNvdW5kT2JqRHVwLnNldFZvbHVtZShpbml0aWFsICsgY2hhbmdlKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChmYWRlSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgc3RlcCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQXVkaW9XaXRoRXJyb3JIYW5kbGluZygpIHtcbiAgICAgICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oKTtcblxuICAgICAgICBhdWRpby5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IGUudGFyZ2V0LmVycm9yO1xuICAgICAgICAgICAgc3dpdGNoIChlcnIuY29kZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgZXJyLk1FRElBX0VSUl9BQk9SVEVEOlxuICAgICAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1lvdSBhYm9ydGVkIHRoZSB2aWRlbyBwbGF5YmFjay4nKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlcnIuTUVESUFfRVJSX05FVFdPUks6XG4gICAgICAgICAgICAgICAgICAgIGdhdGVseUxvZygnQSBuZXR3b3JrIGVycm9yIGNhdXNlZCB0aGUgYXVkaW8gZG93bmxvYWQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndG8gZmFpbC4nKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlcnIuTUVESUFfRVJSX0RFQ09ERTpcbiAgICAgICAgICAgICAgICAgICAgZ2F0ZWx5TG9nKCdUaGUgYXVkaW8gcGxheWJhY2sgd2FzIGFib3J0ZWQgZHVlIHRvIGEgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29ycnVwdGlvbiBwcm9ibGVtIG9yIGJlY2F1c2UgdGhlIHZpZGVvIHVzZWQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZmVhdHVyZXMgeW91ciBicm93c2VyIGRpZCBub3Qgc3VwcG9ydC4nKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBlcnIuTUVESUFfRVJSX1NSQ19OT1RfU1VQUE9SVEVEOlxuICAgICAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1RoZSB2aWRlbyBhdWRpbyBub3QgYmUgbG9hZGVkLCBlaXRoZXIgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYmVjYXVzZSB0aGUgc2VydmVyIG9yIG5ldHdvcmsgZmFpbGVkIG9yIGJlY2F1c2UgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGhlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ0FuIHVua25vd24gZXJyb3Igb2NjdXJyZWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gYXVkaW87XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGVWb2x1bWUodmFsdWUsIHNvdXJjZSwgc3VwcHJlc3NMb2dzKSB7XG4gICAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgICAgICBzb3VyY2UgPSAnKHNvdXJjZSBub3QgcHJvdmlkZWQpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDAgJiYgdmFsdWUgIT09ICcxJykge1xuICAgICAgICAgICAgaWYgKCFzdXBwcmVzc0xvZ3MpIHtcbiAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1RoZSB2b2x1bWUgdmFsdWUgcGFyYW1ldGVyICgnICsgdmFsdWUgKyAnKSwgJyArXG4gICAgICAgICAgICAgICAgICAgICdpbiB0aGUgJyArIHNvdXJjZSArICcsIGlzIG5vdCB2YWxpZC4gVGhlIHBhcmFtZXRlciAnICtcbiAgICAgICAgICAgICAgICAgICAgJ211c3QgYmUgYSBOdW1iZXIgb3IgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3ZhbGlkIE51bWJlci4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKE51bWJlci5pc05hTihOdW1iZXIodmFsdWUpKSkge1xuICAgICAgICAgICAgaWYgKCFzdXBwcmVzc0xvZ3MpIHtcbiAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1RoZSB2b2x1bWUgdmFsdWUgcGFyYW1ldGVyICgnICsgdmFsdWUgKyAnKSwgJyArXG4gICAgICAgICAgICAgICAgICAgICdpbiB0aGUgJyArIHNvdXJjZSArICcsIGlzIG5vdCBhIG51bWJlci4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKE51bWJlcih2YWx1ZSkgPCAwKSB7XG4gICAgICAgICAgICBpZiAoIXN1cHByZXNzTG9ncykge1xuICAgICAgICAgICAgICAgIGdhdGVseUxvZygnVGhlIHZvbHVtZSB2YWx1ZSBwYXJhbWV0ZXIgKCcgKyB2YWx1ZSArICcpLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2luIHRoZSAnICsgc291cmNlICsgJywgaXMgbGVzcyB0aGFuIDAuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChOdW1iZXIodmFsdWUpID4gMSkge1xuICAgICAgICAgICAgaWYgKCFzdXBwcmVzc0xvZ3MpIHtcbiAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1RoZSB2b2x1bWUgdmFsdWUgcGFyYW1ldGVyICgnICsgdmFsdWUgKyAnKSwgJyArXG4gICAgICAgICAgICAgICAgICAgICdpbiB0aGUgJyArIHNvdXJjZSArICcsIGlzIGdyZWF0ZXIgdGhhbiAxLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIGRlZmF1bHQgU291bmQgY29uc3RhbnRzXG4gICAgY29uc3QgTUFTVEVSX1ZPTFVNRV9MRVZFTCA9IDE7XG4gICAgY29uc3QgTUFTVEVSX1ZPTFVNRV9TVEVQID0gMC4wMTtcbiAgICBjb25zdCBFTEVNRU5UX1ZPTFVNRSA9IDE7XG4gICAgY29uc3QgRkFESU5HX1NUQVRVUyA9IGZhbHNlO1xuICAgIGNvbnN0IEZBRElOR19EVVJBVElPTiA9IDEwMDA7XG4gICAgY29uc3QgRkFESU5HX1NURVBTID0gMTAwO1xuXG4gICAgY2xhc3MgU291bmQge1xuICAgICAgICBjb25zdHJ1Y3RvcihuYW1lLCBjaGFubmVsLCBzcmMsIGF1dG9wbGF5LCBsb29wLCB2b2x1bWUsIGZhZGUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YobmFtZSkgIT09ICdzdHJpbmcnIHx8ICFuYW1lKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbmFtZSBwcm9wZXJ0eSAoJyArIG5hbWUgKyAnKSwgaW4gdGhlIFNvdW5kICcgK1xuICAgICAgICAgICAgICAgICAgICAnY29uc3RydWN0b3IsIGlzIG5vdCBhIHZhbGlkIHN0cmluZy4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihzcmMpICE9PSAnc3RyaW5nJyB8fCAhc3JjKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgc3JjIHByb3BlcnR5ICgnICsgc3JjICsgJyksIGluIHRoZSBTb3VuZCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnN0cnVjdG9yLCBpcyBub3QgYSB2YWxpZCBzdHJpbmcuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxldCBzdG9yeU5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5nZXROYW1lID0gZnVuY3Rpb24gZ2V0TmFtZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcnlOYW1lO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgTWl4ZXIuc291bmRzW25hbWVdID0gdGhpcztcblxuICAgICAgICAgICAgaWYgKGF1dG9wbGF5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb0VsZW1lbnQuYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobG9vcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9FbGVtZW50Lmxvb3AgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEB0eXBlIHtIVE1MQXVkaW9FbGVtZW50fVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmF1ZGlvRWxlbWVudCA9IGNyZWF0ZUF1ZGlvV2l0aEVycm9ySGFuZGxpbmcoKTtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9FbGVtZW50LnNyYyA9IHNyYztcblxuICAgICAgICAgICAgaWYgKGNoYW5uZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuICAgICAgICAgICAgICAgIE1peGVyLmNoYW5uZWxzW2NoYW5uZWxdLnNvdW5kc1tzdG9yeU5hbWVdID0gc3RvcnlOYW1lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWwgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgTWl4ZXIuY2hhbm5lbHMubm9uZS5zb3VuZHNbc3RvcnlOYW1lXSA9IHN0b3J5TmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBsZXQgc291bmRWb2x1bWU7XG5cbiAgICAgICAgICAgIHRoaXMuZ2V0Vm9sdW1lID0gZnVuY3Rpb24gZ2V0Vm9sdW1lKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzb3VuZFZvbHVtZTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0cyB0aGUgdm9sdW1lIG9mIHRoZSBTb3VuZCBhbmQgdXBkYXRlcyBpdHMgcmVhbCB2b2x1bWUuXG4gICAgICAgICAgICAgKiBAZ2xvYmFsXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IHZhbHVlXG4gICAgICAgICAgICAgKiBAcGFyYW0gey4uLnN0cmluZ3xTb3VuZH0gW3ZhcmlhZGljXVxuICAgICAgICAgICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdGhpcy5zZXRWb2x1bWUgPSBmdW5jdGlvbiBzZXRWb2x1bWUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBOdW1iZXIodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZVZvbHVtZSh2YWwsICdzZXRWb2x1bWUgbWV0aG9kJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzb3VuZFZvbHVtZSA9IE1hdGgubWluKDEsIE1hdGgubWF4KDAsIHZhbCkpO1xuXG4gICAgICAgICAgICAgICAgTWl4ZXIudXBkYXRlVm9sdW1lKHRoaXMpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZih2b2x1bWUpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vm9sdW1lKHZvbHVtZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vm9sdW1lKDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiogQ29udGFpbnMgdGhlXG4gICAgICAgICAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtmYWRlLmVhc2luZz0nbGluZWFyJ11cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZmFkZS50aW1pbmc9J2Vhc2VJbk91dCddXG4gICAgICAgICAgICAgKiBAcHJvcGVydHkge251bWJlcn0gW2ZhZGUuZHVyYXRpb249MTAwMF1cbiAgICAgICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbZmFkZS5zdGVwcz0xMDBdXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IE9iamVjdC5mcmVlemUoT2JqZWN0LnNlYWwoXG4gICAgICAgICAgICAgICAgbmV3IEZhZGUoXG4gICAgICAgICAgICAgICAgICAgIEZBRElOR19FQVNJTkdfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgRkFESU5HX1RJTUlOR19UWVBFLFxuICAgICAgICAgICAgICAgICAgICBGQURJTkdfRFVSQVRJT04sXG4gICAgICAgICAgICAgICAgICAgIEZBRElOR19TVEVQU1xuICAgICAgICAgICAgICAgICkpKTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXRzIHRoZSBmYWRlIG9wdGlvbnMgZm9yIHRoZSBTb3VuZC4gRGV0YWlscyBvbiB0aGUgZm9ybXMgdGhlXG4gICAgICAgICAgICAgKiBmYWRlIGFyZ3VtZW50IGNhbiB0YWtlIGNhbiBiZSBmb3VuZCB7QGxpbmsgZnVNYWtlU291bmQgaGVyZX0uXG4gICAgICAgICAgICAgKiBAZ2xvYmFsXG4gICAgICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW58c3RyaW5nfG9iamVjdH0gZmFkZSB7QGxpbmsgZnVNYWtlU291bmQgbGlua31cbiAgICAgICAgICAgICAqIEBwYXJhbSB7Li4uc3RyaW5nfEZ1U291bmR9IFt2YXJpYWRpY11cbiAgICAgICAgICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuc2V0RmFkZSA9IGZ1bmN0aW9uIHNldEZhZGUoZmFkZSkge1xuICAgICAgICAgICAgICAgIGlmICghZmFkZSkge1xuICAgICAgICAgICAgICAgICAgICAvKiBnYXRlbHlMb2coJ1RoZSBmYWRlIGFyZ3VtZW50ICgnICsgZmFkZSArICcpIHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0aGUgU291bmQgY29uc3RydWN0b3IgaXMgbm90IHZhbGlkLicpOyAqL1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5mYWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc291cmNlKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihmYWRlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZhZGVWYWwgPSBzYWZlckpTT05QYXJzZShmYWRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlRmFkZShmYWRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBmYWRlVmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWRlW25hbWVdID0gZmFkZVZhbFtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVhc2VOYW1lcyA9IGdldE93blByb3BlcnR5TmFtZXMoTWl4ZXIuZWFzaW5ncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aW1lTmFtZXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKE1peGVyLnRpbWluZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFkZVN0ciA9IGZhZGUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmYWRlU3RyIGluIE1peGVyLmVhc2luZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGUuZWFzaW5nID0gTWl4ZXIuZWFzaW5nc1tmYWRlU3RyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmFkZVN0ciBpbiBNaXhlci50aW1pbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWRlLnRpbWluZyA9IE1peGVyLnRpbWluZ3NbZmFkZVN0cl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhdGVseUxvZygnVGhlIHN0cmluZyBwYXNzZWQgdG8gdGhlIGFyZyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BhcmFtZXRlciAoJyArIGZhZGUgKyAnKSBpcyBub3QgYSB2YWxpZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Vhc2luZyBvciB0aW1pbmcuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoZmFkZSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoZmFkZS5lYXNpbmcpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWFzaW5nID0gZmFkZS5lYXNpbmcudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlYXNpbmcgaW4gTWl4ZXIuZWFzaW5ncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZS5lYXNpbmcgPSBNaXhlci5lYXNpbmdzW2Vhc2luZ107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGZhZGUuZWFzaW5nKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1c3RvbSBlYXNpbmcgc3VwcG9ydCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGZhZGUudGltaW5nKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpbWluZyA9IGZhZGUudGltaW5nLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGltaW5nIGluIE1peGVyLnRpbWluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGUudGltaW5nID0gTWl4ZXIudGltaW5nc1t0aW1pbmddO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhZGUuZHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGUuZHVyYXRpb24gPSBmYWRlLmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2F0ZWx5TG9nKCdUaGUgZHVyYXRpb24gYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTb3VuZC5zZXRGYWRlIG11c3QgYmUgYSBudW1iZXIgZ3JlYXRlciB0aGFuIDAuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZmFkZS5zdGVwcyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZS5zdGVwcyA9IGZhZGUuc3RlcHM7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1RoZSBzdGVwcyBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NvdW5kLnNldEZhZGUgbXVzdCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gMC4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qIGNvbnN0IGVhc2luZ3MgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKE1peGVyLmVhc2luZ3MpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1peGVyLmVhc2luZ3NbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdGltaW5ncyA9IGdldE93blByb3BlcnR5TmFtZXMoTWl4ZXIudGltaW5ncylcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWl4ZXIudGltaW5nc1tuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mYWRlLmlzRmFkaW5nICE9PSBmYWxzZSAmJlxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YodGhpcy5mYWRlLmlzRmFkaW5nKSA9PT0gJ2Jvb2xlYW4nICYmXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZ3MuaW5kZXhPZih0aGlzLmZhZGUuZWFzaW5nLm5hbWUpICE9PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICB0aW1pbmdzLmluZGV4T2YodGhpcy5mYWRlLnRpbWluZykgIT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZS5kdXJhdGlvbiA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWRlLnN0ZXBzID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZS5pc0ZhZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSAqL1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldEZhZGUoZmFkZSk7XG5cbiAgICAgICAgICAgIHVwZGF0ZUF1ZGlvRGlzcGxheSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsYXlzIHRoZSBhdWRpbyBlbGVtZW50LiBXaWxsIGZhZGUgaWYgdGhlIFNvdW5kJ3MgZmFkZSBvYmplY3QgaXNcbiAgICAgICAgICogdmFsaWQuXG4gICAgICAgICAqIGFuZCB0aGUgXG4gICAgICAgICAqIEBnbG9iYWxcbiAgICAgICAgICogQHBhcmFtIHsuLi5zdHJpbmd8RnVTb3VuZH0gW3ZhcmlhZGljXVxuICAgICAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgcGxheSh0b0ZhZGUsIG5ld0ZhZGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5hdWRpb0VsZW1lbnQucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdZb3UgY2Fubm90IHBsYXkgYSBTb3VuZCB0aGF0IGlzIGFscmVhZHkgcGxheWluZy4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YobmV3RmFkZSkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRGYWRlKG5ld0ZhZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmF1ZGlvRWxlbWVudC5wbGF5KCk7XG4gICAgICAgICAgICBpZiAodG9GYWRlID09PSB0cnVlIHx8IHRvRmFkZSA9PT0gJ3RvRmFkZScpIHtcbiAgICAgICAgICAgICAgICBkb0ZhZGUodGhpcywgJ3BsYXknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXVzZXMgdGhlIGF1ZGlvIGVsZW1lbnQuXG4gICAgICAgICAqIEBnbG9iYWxcbiAgICAgICAgICogQHBhcmFtIHsuLi5zdHJpbmd8RnVTb3VuZH0gW3ZhcmlhZGljXVxuICAgICAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgcGF1c2UodG9GYWRlLCBuZXdGYWRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hdWRpb0VsZW1lbnQucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdZb3UgY2Fubm90IHBhdXNlIGEgU291bmQgdGhhdCBpcyBhbHJlYWR5IHBhdXNlZC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0eXBlb2YobmV3RmFkZSkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRGYWRlKG5ld0ZhZGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmF1ZGlvRWxlbWVudC5wYXVzZSgpO1xuXG4gICAgICAgICAgICBpZiAodG9GYWRlID09PSB0cnVlIHx8IHRvRmFkZSA9PT0gJ3RvRmFkZScpIHtcbiAgICAgICAgICAgICAgICBkb0ZhZGUodGhpcywgJ3BhdXNlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RvcHMgdGhlIGF1ZGlvIGVsZW1lbnQuIEluIGVmZmVjdCwgdGhpcyBpcyBwYXVzaW5nIHRoZSBlbGVtZW50XG4gICAgICAgICAqIGFuZCBzZXR0aW5nIHRoZSBwb3NpdGlvbiB0byAwLlxuICAgICAgICAgKiBAZ2xvYmFsXG4gICAgICAgICAqIEBwYXJhbSB7Li4uc3RyaW5nfEZ1U291bmR9IFt2YXJpYWRpY11cbiAgICAgICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHN0b3AodG9GYWRlLCBuZXdGYWRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hdWRpb0VsZW1lbnQucGF1c2VkICYmXG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb0VsZW1lbnQuY3VycmVudFRpbWUgPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdZb3UgY2Fubm90IHN0b3AgYSBTb3VuZCB0aGF0IGlzIGFscmVhZHkgc3RvcHBlZC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0eXBlb2YobmV3RmFkZSkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRGYWRlKGZhZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKDApO1xuXG4gICAgICAgICAgICBpZiAodG9GYWRlID09PSB0cnVlIHx8IHRvRmFkZSA9PT0gJ3RvRmFkZScpIHtcbiAgICAgICAgICAgICAgICBkb0ZhZGUodGhpcywgJ3BsYXknLCAnZnJvbWFjdGlvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJld2luZHMgdGhlIGF1ZGlvIGVsZW1lbnQgdG8gdGhlIGJlZ2lubmluZywgd2l0aG91dCBwYXVzaW5nIGl0LlxuICAgICAgICAgKiBAZ2xvYmFsXG4gICAgICAgICAqIEBwYXJhbSB7Li4uc3RyaW5nfEZ1U291bmR9IFt2YXJpYWRpY11cbiAgICAgICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHJlc3RhcnQoKSB7XG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGN1cnJlbnRUaW1lIHBvc2l0aW9uIG9mIHRoZSBhdWRpbyBlbGVtZW50LlxuICAgICAgICAgKiBAZ2xvYmFsXG4gICAgICAgICAqIEBwYXJhbSB7Li4uc3RyaW5nfEZ1U291bmR9IFt2YXJpYWRpY11cbiAgICAgICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHNldFBvc2l0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBwb3NpID0gTnVtYmVyKHBvc2l0aW9uKTtcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4ocG9zaSkpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBwb3NpdGlvbiBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdTb3VuZC5yZXdpbmRTb3VuZCBpcyBub3QgYSB2YWxpZCBudW1iZXIuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3NldCBwb3NpdGlvbi4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9FbGVtZW50LmN1cnJlbnRUaW1lID0gcG9zaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb3dlcnMgdGhlIHZvbHVtZSBvZiB0aGUgU291bmQgYnkgMC4xLiBUaGUgbG93ZXN0IHBvc3NpYmxlIHZhbHVlIGlzXG4gICAgICAgICAqIDA7IGxvd2VyaW5nIGl0IGJleW9uZCB0aGlzIHdpbGwgaGF2ZSBubyBlZmZlY3Qgb3Igd2FybmluZy5cbiAgICAgICAgICogQGdsb2JhbFxuICAgICAgICAgKiBAcGFyYW0gey4uLnN0cmluZ3xGdVNvdW5kfSBbdmFyaWFkaWNdXG4gICAgICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICAgICAqL1xuICAgICAgICBxdWlldGVyKCkge1xuICAgICAgICAgICAgdGhpcy5zZXRWb2x1bWUodGhpcy5nZXRWb2x1bWUoKSAtIDAuMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogUmFpc2VzIHRoZSB2b2x1bWUgb2YgdGhlIFNvdW5kIGJ5IDAuMS4gVGhlIGhpZ2hlc3QgcG9zc2libGUgdmFsdWVcbiAgICAgICAgICogaXMgMTsgbG93ZXJpbmcgaXQgYmV5b25kIHRoaXMgd2lsbCBoYXZlIG5vIGVmZmVjdCBvciB3YXJuaW5nLlxuICAgICAgICAgKiBAZ2xvYmFsXG4gICAgICAgICAqIEBwYXJhbSB7Li4uc3RyaW5nfEZ1U291bmR9IFt2YXJpYWRpY11cbiAgICAgICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIGxvdWRlcigpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Vm9sdW1lKHRoaXMuZ2V0Vm9sdW1lKCkgKyAwLjEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGF1ZGlvIGVsZW1lbnQncyBsb29wIHByb3BlcnR5IHRvIHRydWUuXG4gICAgICAgICAqIEBnbG9iYWxcbiAgICAgICAgICogQHBhcmFtIHsuLi5zdHJpbmd8RnVTb3VuZH0gW3ZhcmlhZGljXVxuICAgICAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgbG9vcCgpIHtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9FbGVtZW50Lmxvb3AgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGF1ZGlvIGVsZW1lbnQncyBsb29wIHByb3BlcnR5IHRvIGZhbHNlLlxuICAgICAgICAgKiBAZ2xvYmFsXG4gICAgICAgICAqIEBwYXJhbSB7Li4uc3RyaW5nfEZ1U291bmR9IFt2YXJpYWRpY11cbiAgICAgICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHVubG9vcCgpIHtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9FbGVtZW50LnVubG9vcCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGV0ZXMgYWxsIHJlZmVyZW5jZXMgdG8gdGhlIFNvdW5kIGluIHRoZSBNaXhlciBhbmQgQ2hhbm5lbHMuXG4gICAgICAgICAqIEBnbG9iYWxcbiAgICAgICAgICogQHBhcmFtIHsuLi5zdHJpbmd8RnVTb3VuZH0gW3ZhcmlhZGljXVxuICAgICAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmdldE5hbWUoKSkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhpcyBTb3VuZCBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgbmFtZSBwcm9wZXJ0eS4gJyArXG4gICAgICAgICAgICAgICAgICAgICdDYW5ub3QgZGVsZXRlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuY2hhbm5lbCkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhpcyBTb3VuZCBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgY2hhbm5lbCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5LiBDYW5ub3QgZGVsZXRlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuY2hhbm5lbC5zb3VuZHMpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoaXMgU291bmQgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIGNoYW5uZWwuc291bmRzICcgK1xuICAgICAgICAgICAgICAgICAgICAncHJvcGVydHkuIENhbm5vdCBkZWxldGUuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWxldGUgTWl4ZXIuc291bmRzW3RoaXMuZ2V0TmFtZSgpXTtcbiAgICAgICAgICAgIGRlbGV0ZSBNaXhlci5jaGFubmVsc1t0aGlzLmNoYW5uZWxdLnNvdW5kc1t0aGlzLmdldE5hbWUoKV07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU3RvcHMgYSBwbGF5aW5nIFNvdW5kIGFuZCBwbGF5cyBhIHN0b3BwZWQgb3IgcGF1c2VkIFNvdW5kLCBmYWRpbmdcbiAgICAgICAgICogdGhlIHR3byBpbi9vdXQgaW4gYW4gaWRlbnRpY2FsIGZhc2hpb24uIFRoZSBGdVNvdW5kIGJlaW5nIGZhZGVkIG91dFxuICAgICAgICAgKiBtdXN0IGJlIHBsYXlpbmcsIGFuZCB0aGUgRnVTb3VuZCBiZWluZyBmYWRlZCBpbiBtdXN0IGJlIHBhdXNlZCxcbiAgICAgICAgICogb3RoZXJ3aXNlIHRoZSBjcm9zc2ZhZGUgd2lsbCBub3QgYmUgcGVyZm9ybWVkLiBCeSBkZWZhdWx0LCB0aGVcbiAgICAgICAgICogc3BlY2lmaWMgbWFubmVyIGluIHdoaWNoIHRoZSBmYWRlcyBhcmUgcGVyZm9ybWVkIG9uIGJvdGggU291bmRzXG4gICAgICAgICAqIGFyZSB0YWtlbiBmcm9tIHRoZSBzb3VuZCBiZWluZyBmYWRlZCBvdXQgYW5kIGFwcGxpZWQgdG8gYm90aC5cbiAgICAgICAgICogSG93ZXZlciwgaWYgdGhlIHdoaWNoIGFyZ3VtZW50IGlzIGVpdGhlciBcImluXCIgb3IgZXF1YWwgdG8gdGhlIFNvdW5kXG4gICAgICAgICAqIGJlaW5nIGZhZGVkIGluLCB0aGUgZmFkZSBpbmZvcm1hdGlvbiB3aWxsIGJlIHRha2VuIGZyb20gdGhlIFNvdW5kXG4gICAgICAgICAqIGJlaW5nIGZhZGVkIGluLlxuICAgICAgICAgKiBAZ2xvYmFsXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfEZ1U291bmR9IFt3aGljaF0gSWYgdGhlIHZhbHVlIG9mIHdoaWNoIGlzIFwiaW4sXCIgb3JcbiAgICAgICAgICogdGhlIHZhbHVlIG9mIHdoaWNoIGlzIGVxdWFsIHRvIHRoZSBpblNvdW5kT2JqIGFyZ3VtZW50LFxuICAgICAgICAgKiBpblNvdW5kT2JqLmZhZGUgd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZSBob3cgdGhlIGZhZGUgaXNcbiAgICAgICAgICogcGVyZm9ybWVkLCByYXRoZXIgdGhhbiBvdXRTb3VuZE9iai5mYWRlLlxuICAgICAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAgICAgKi9cbiAgICAgICAgY3Jvc3NGYWRlKGluU291bmRPYmosIHdoaWNoKSB7XG4gICAgICAgICAgICBpZiAoIWluU291bmRPYmogfHxcbiAgICAgICAgICAgICAgICAodHlwZW9mKGluU291bmRPYmopICE9PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YoaW5Tb3VuZE9iaikgIT09ICdvYmplY3QnKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1RoZSBpblNvdW5kT2JqIGFyZ3VtZW50ICgnICsgaW5Tb3VuZE9iaiArXG4gICAgICAgICAgICAgICAgICAgICcpIGlzIGludmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodHlwZW9mKGluU291bmRPYmopID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGluU291bmRPYmogPSBNaXhlci5zb3VuZHNbaW5Tb3VuZE9ial07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLmF1ZGlvRWxlbWVudC5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ0Nhbm5vdCBmYWRlIOKAkyB0aGUgb3V0U291bmRPYmogaXMgbm90IHBsYXlpbmcuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaW5Tb3VuZE9iai5hdWRpb0VsZW1lbnQucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgZ2F0ZWx5TG9nKCdDYW5ub3QgZmFkZSDigJMgdGhlIGluU291bmRPYmogaXMgYWxyZWFkeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3BsYXlpbmcuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgZmFkZSA9IHRoaXMuZmFkZTtcblxuICAgICAgICAgICAgaWYgKHdoaWNoID09PSAnaW4nIHx8IHdoaWNoID09PSBpblNvdW5kT2JqKSB7XG4gICAgICAgICAgICAgICAgZmFkZSA9IGluU291bmRPYmouZmFkZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZihmYWRlLmVhc2luZykgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAgICAgIShmYWRlLmVhc2luZy50b1VwcGVyQ2FzZSgpIGluIE1peGVyLmVhc2luZ3MpIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mKGZhZGUudGltaW5nKSAhPT0gJ3N0cmluZycgfHxcbiAgICAgICAgICAgICAgICAhKGZhZGUudGltaW5nLnRvVXBwZXJDYXNlKCkgaW4gTWl4ZXIudGltaW5ncykgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YoZmFkZS5kdXJhdGlvbikgIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICAgICAgZmFkZS5kdXJhdGlvbiA8PSAwIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mKGZhZGUuc3RlcHMpICE9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgICAgIGZhZGUuc3RlcHMgPD0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ09uZSBvciBtb3JlIG9mIHRoZSB2YWx1ZXMgaW4gdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAnb3V0U291bmRPYmpcXCdzIGZhZGUgcHJvcGVydHkgaXMgaW52YWxpZC4gQ2Fubm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAnY3Jvc3NmYWRlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBmYWRlLmR1cmF0aW9uO1xuICAgICAgICAgICAgY29uc3Qgc3RlcCA9IGR1cmF0aW9uIC8gZmFkZS5zdGVwcztcbiAgICAgICAgICAgIGNvbnN0IHRpbWluZyA9IGZhZGUudGltaW5nO1xuXG4gICAgICAgICAgICBjb25zdCBlYXNlciA9IGVhc2luZ0Z1bmN0aW9uc1tmYWRlLmVhc2luZy50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgIGlmICghaXNGdW5jdGlvbihlYXNlcikpIHtcbiAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ1RoZSBlYXNlciBmdW5jdGlvblxcJ3MgYWxsIGZ1Y2tlZCB1cCEhISEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG91dFNvdW5kT2JqID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IG91dFRpbWUgPSBvdXRTb3VuZE9iai5hdWRpb0VsZW1lbnQuY3VycmVudFRpbWUgKiAxMDAwO1xuICAgICAgICAgICAgY29uc3Qgb3V0SW5pdGlhbCA9IHRoaXMuZ2V0Vm9sdW1lKCk7XG4gICAgICAgICAgICBjb25zdCBvdXRDaGFuZ2UgPSAtdGhpcy5nZXRWb2x1bWUoKTtcblxuICAgICAgICAgICAgY29uc3Qgb3V0RmFkZUludGVydmFsID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXBWb2x1bWUgPSBlYXNlcihcbiAgICAgICAgICAgICAgICAgICAgb3V0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgb3V0SW5pdGlhbCxcbiAgICAgICAgICAgICAgICAgICAgb3V0Q2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdGltaW5nKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yoc3RlcFZvbHVtZSkgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICAgICAgICAgIE51bWJlci5pc05hTihOdW1iZXIoc3RlcFZvbHVtZSkpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwob3V0RmFkZUludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG91dFNvdW5kT2JqLnNldFZvbHVtZShzdGVwVm9sdW1lKTtcblxuICAgICAgICAgICAgICAgIGlmIChvdXRTb3VuZE9iai5hdWRpb0VsZW1lbnQucGF1c2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIG91dFRpbWUgKyBkdXJhdGlvbiA+PSBvdXRTb3VuZE9iai5hdWRpb0VsZW1lbnQuY3VycmVudFRpbWUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvdXRTb3VuZE9iai5zZXRWb2x1bWUob3V0SW5pdGlhbCArIG91dENoYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIE1peGVyLnVwZGF0ZVZvbHVtZShvdXRTb3VuZE9iaik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG91dFNvdW5kT2JqLmF1ZGlvRWxlbWVudC5wYXVzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dFNvdW5kT2JqLnNldFBvc2l0aW9uKDApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0U291bmRPYmouc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwob3V0RmFkZUludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHN0ZXApO1xuXG4gICAgICAgICAgICBjb25zdCBpblRpbWUgPSBpblNvdW5kT2JqLmF1ZGlvRWxlbWVudC5jdXJyZW50VGltZSAqIDEwMDA7XG4gICAgICAgICAgICBsZXQgaW5Jbml0aWFsID0gMDtcbiAgICAgICAgICAgIGxldCBpbkNoYW5nZSA9IG91dEluaXRpYWw7XG5cbiAgICAgICAgICAgIGNvbnN0IGluRmFkZUludGVydmFsID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ZXBWb2x1bWUgPSBlYXNlcihcbiAgICAgICAgICAgICAgICAgICAgaW5UaW1lLFxuICAgICAgICAgICAgICAgICAgICBpbkluaXRpYWwsXG4gICAgICAgICAgICAgICAgICAgIGluQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdGltaW5nKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yoc3RlcFZvbHVtZSkgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICAgICAgICAgIE51bWJlci5pc05hTihOdW1iZXIoc3RlcFZvbHVtZSkpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoaW5GYWRlSW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaW5Tb3VuZE9iai5zZXRWb2x1bWUoc3RlcFZvbHVtZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5Tb3VuZE9iai5hdWRpb0VsZW1lbnQucGF1c2VkIHx8XG4gICAgICAgICAgICAgICAgICAgIGluVGltZSArIGR1cmF0aW9uID49IG91dFNvdW5kT2JqLmF1ZGlvRWxlbWVudC5jdXJyZW50VGltZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGluU291bmRPYmouc2V0Vm9sdW1lKGluSW5pdGlhbCArIGluQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgTWl4ZXIudXBkYXRlVm9sdW1lKGluU291bmRPYmopO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChpbkZhZGVJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBzdGVwKTtcblxuICAgICAgICAgICAgaW5Tb3VuZE9iai5wbGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2luZG93LlNvdW5kID0gU291bmQ7XG5cbiAgICBjbGFzcyBGYWRlIHtcbiAgICAgICAgY29uc3RydWN0b3IoZWFzaW5nLCB0aW1pbmcsIGR1cmF0aW9uLCBzdGVwcykge1xuICAgICAgICAgICAgdGhpcy5lYXNpbmcgPSBlYXNpbmc7XG4gICAgICAgICAgICB0aGlzLnRpbWluZyA9IHRpbWluZztcbiAgICAgICAgICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuc3RlcHMgPSBzdGVwcztcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aW5kb3cuRmFkZSA9IEZhZGU7XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUZhZGUoZmFkZSkge1xuICAgICAgICByZXR1cm4gZmFkZSAmJlxuICAgICAgICAgICAgdHlwZW9mKGZhZGUpID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgZmFkZS5kdXJhdGlvbiA+IDA7XG4gICAgfVxuXG4gICAgY2xhc3MgUGxheWxpc3Qge1xuICAgICAgICBjb25zdHJ1Y3Rvcihzb3VuZHMsIGF1dG9wbGF5LCByZXBlYXQsIGZhZGUsIHF1ZXJ5SW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuc291bmRzID0gc291bmRzO1xuICAgICAgICAgICAgdGhpcy5hdXRvcGxheSA9IGF1dG9wbGF5O1xuICAgICAgICAgICAgdGhpcy5yZXBlYXQgPSByZXBlYXQ7XG4gICAgICAgICAgICB0aGlzLmZhZGUgPSBmYWRlO1xuICAgICAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgICAgICB0aGlzLmludGVydmFsSUQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50bHlQbGF5aW5nID0gbnVsbDtcblxuICAgICAgICAgICAgdGhpcy5xdWVyeUludGVydmFsID0gMjUwO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4oTnVtYmVyKHF1ZXJ5SW50ZXJ2YWwpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucXVlcnlJbnRlcnZhbCA9IE1hdGguZmxvb3IoTnVtYmVyKHF1ZXJ5SW50ZXJ2YWwpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuYXV0b3BsYXkgPT09IHRydWUgfHwgdGhpcy5hdXRvcGxheSA9PT0gJ2F1dG9wbGF5Jykge1xuICAgICAgICAgICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZ2V0UXVlcnlJbnRlcnZhbCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnF1ZXJ5SW50ZXJ2YWw7XG4gICAgICAgIH1cblxuICAgICAgICBwbGF5KCkge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRTb3VuZCA9IHRoaXMuc291bmRzW3RoaXMuaW5kZXhdO1xuXG4gICAgICAgICAgICBjb25zdCB2YWxpZGF0ZVBTUiA9IHZhbGlkYXRlUGxheWxpc3RTb3VuZFJlYWRpbmVzcztcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGVQU1IoY3VycmVudFNvdW5kKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VycmVudFNvdW5kLnBsYXkoQm9vbGVhbih0aGlzLmZhZGUpLCB0aGlzLmZhZGUpO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRseVBsYXlpbmcgPSBjdXJyZW50U291bmQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHBsYXlsaXN0ID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWxJRCA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyByZXRhaW4gJ3RoaXMnIHJlZmVyZW5jZVxuICAgICAgICAgICAgICAgIHBsYXlsaXN0LnBvbGwuY2FsbChwbGF5bGlzdCk7XG4gICAgICAgICAgICB9LCB0aGlzLmdldFF1ZXJ5SW50ZXJ2YWwoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBwb2xsKCkge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRTb3VuZCA9IHRoaXMuY3VycmVudGx5UGxheWluZztcblxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBjdXJyZW50U291bmQuYXVkaW9FbGVtZW50LmR1cmF0aW9uICogMTAwMDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gY3VycmVudFNvdW5kLmF1ZGlvRWxlbWVudC5jdXJyZW50VGltZSAqIDEwMDA7XG4gICAgICAgICAgICBjb25zdCBwbGF5YmFja1JhdGUgPSBjdXJyZW50U291bmQuYXVkaW9FbGVtZW50LnBsYXliYWNrUmF0ZTtcblxuICAgICAgICAgICAgbGV0IG91dFRvb1Nob3J0O1xuICAgICAgICAgICAgbGV0IGluVG9vU2hvcnQ7XG4gICAgICAgICAgICBpZiAodGhpcy5mYWRlKSB7XG4gICAgICAgICAgICAgICAgb3V0VG9vU2hvcnQgPSBkdXJhdGlvbiAvIDIgPD0gdGhpcy5mYWRlLmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChvdXRUb29TaG9ydCAmJiBjdXJyZW50VGltZSA8PSB0aGlzLmdldFF1ZXJ5SW50ZXJ2YWwoKSkge1xuICAgICAgICAgICAgICAgICAgICBnYXRlbHlMb2coJ091dCBzb3VuZCB0b28gc2hvcnQgZm9yIHNwZWNpZmllZCBmYWRlLiBBbnkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc291bmQgYmVpbmcgY3Jvc3NmYWRlZCBpbiBhIFBsYXlsaXN0IG11c3QgYmUgbW9yZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0aGFuIHR3aWNlIHRoZSBsZW5ndGggb2YgdGhlIHBsYXlsaXN0XFwncyBmYWRlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2R1cmF0aW9uLiBOb3QgZmFkaW5nLicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGluU291bmQgPSB0aGlzLnNvdW5kc1t0aGlzLmluZGV4ICsgMV0gfHwgdGhpcy5zb3VuZHNbMF07XG4gICAgICAgICAgICAgICAgaW5Ub29TaG9ydCA9IGluU291bmQuYXVkaW9FbGVtZW50LmR1cmF0aW9uICogMTAwMCAvIDIgPD1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWRlLmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChpblRvb1Nob3J0ICYmIGN1cnJlbnRUaW1lIDw9IHRoaXMuZ2V0UXVlcnlJbnRlcnZhbCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdhdGVseUxvZygnSW4gc291bmQgdG9vIHNob3J0IGZvciBzcGVjaWZpZWQgZmFkZS4gQW55ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3NvdW5kIGJlaW5nIGNyb3NzZmFkZWQgaW4gYSBQbGF5bGlzdCBtdXN0IGJlIG1vcmUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndGhhbiB0d2ljZSB0aGUgbGVuZ3RoIG9mIHRoZSBwbGF5bGlzdFxcJ3MgZmFkZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdkdXJhdGlvbi4gTm90IGZhZGluZy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0aGlzLmZhZGUgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmZhZGUuZHVyYXRpb24gJiZcbiAgICAgICAgICAgICAgICAhaW5Ub29TaG9ydCAmJlxuICAgICAgICAgICAgICAgICFvdXRUb29TaG9ydClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwbGF5bGlzdFBsYXlXaXRoRmFkZSh0aGlzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZHVyYXRpb24gLSBjdXJyZW50VGltZSA8IHRoaXMuZ2V0UXVlcnlJbnRlcnZhbCgpKSB7XG4gICAgICAgICAgICAgICAgcGxheWxpc3RQbGF5V2l0aG91dEZhZGUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdG9wKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudGx5UGxheWluZyAmJlxuICAgICAgICAgICAgICAgIGlzRnVuY3Rpb24odGhpcy5jdXJyZW50bHlQbGF5aW5nLnN0b3ApKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudGx5UGxheWluZy5zdG9wKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc2V0UGxheWxpc3QodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2luZG93LlBsYXlsaXN0ID0gUGxheWxpc3Q7XG5cbiAgICBmdW5jdGlvbiBwbGF5bGlzdFBsYXlXaXRoRmFkZShwbGF5bGlzdCkge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZVBTUiA9IHZhbGlkYXRlUGxheWxpc3RTb3VuZFJlYWRpbmVzcztcblxuICAgICAgICBsZXQgY3VycmVudFNvdW5kID0gcGxheWxpc3QuY3VycmVudGx5UGxheWluZztcblxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IGN1cnJlbnRTb3VuZC5hdWRpb0VsZW1lbnQuZHVyYXRpb24gKiAxMDAwO1xuICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IGN1cnJlbnRTb3VuZC5hdWRpb0VsZW1lbnQuY3VycmVudFRpbWUgKiAxMDAwO1xuICAgICAgICBjb25zdCB0b3RhbFRpbWUgPSBkdXJhdGlvbiAtIHBsYXlsaXN0LmZhZGUuZHVyYXRpb247XG5cbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lICsgcGxheWxpc3QuZ2V0UXVlcnlJbnRlcnZhbCgpID49IHRvdGFsVGltZSkge1xuICAgICAgICAgICAgY3VycmVudFNvdW5kLmZhZGUgPSBwbGF5bGlzdC5mYWRlO1xuXG4gICAgICAgICAgICBwbGF5bGlzdC5pbmRleCsrO1xuICAgICAgICAgICAgY3VycmVudFNvdW5kID0gcGxheWxpc3Quc291bmRzW3BsYXlsaXN0LmluZGV4XTtcblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRTb3VuZCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0ZVBTUihjdXJyZW50U291bmQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXlsaXN0LmN1cnJlbnRseVBsYXlpbmcuY3Jvc3NGYWRlKGN1cnJlbnRTb3VuZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRQbGF5bGlzdChwbGF5bGlzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocGxheWxpc3QucmVwZWF0ID09PSB0cnVlIHx8XG4gICAgICAgICAgICAgICAgICAgIHBsYXlsaXN0LnJlcGVhdCA9PT0gJ3JlcGVhdCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwbGF5bGlzdC5pbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTb3VuZCA9IHBsYXlsaXN0LnNvdW5kc1twbGF5bGlzdC5pbmRleF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXlsaXN0LnNvdW5kcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGVQU1IoY3VycmVudFNvdW5kKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlsaXN0LmN1cnJlbnRseVBsYXlpbmcuY3Jvc3NGYWRlKGN1cnJlbnRTb3VuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0UGxheWxpc3QocGxheWxpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlUFNSKGN1cnJlbnRTb3VuZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U291bmQucGxheSgnZmFkZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldFBsYXlsaXN0KHBsYXlsaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0UGxheWxpc3QocGxheWxpc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHBsYXlsaXN0LmN1cnJlbnRseVBsYXlpbmcgPSBjdXJyZW50U291bmQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwbGF5bGlzdFBsYXlXaXRob3V0RmFkZShwbGF5bGlzdCkge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZVBTUiA9IHZhbGlkYXRlUGxheWxpc3RTb3VuZFJlYWRpbmVzcztcblxuICAgICAgICBsZXQgY3VycmVudFNvdW5kID0gcGxheWxpc3QuY3VycmVudGx5UGxheWluZztcblxuICAgICAgICBjdXJyZW50U291bmQuc3RvcCgpO1xuXG4gICAgICAgIHBsYXlsaXN0LmluZGV4Kys7XG4gICAgICAgIGN1cnJlbnRTb3VuZCA9IHBsYXlsaXN0LnNvdW5kc1twbGF5bGlzdC5pbmRleF07XG5cbiAgICAgICAgaWYgKGN1cnJlbnRTb3VuZCkge1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRlUFNSKGN1cnJlbnRTb3VuZCkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50U291bmQucGxheShCb29sZWFuKHBsYXlsaXN0LmZhZGUpLCBwbGF5bGlzdC5mYWRlKTtcbiAgICAgICAgICAgICAgICBwbGF5bGlzdC5jdXJyZW50bHlQbGF5aW5nID0gY3VycmVudFNvdW5kO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNldFBsYXlsaXN0KHBsYXlsaXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBsYXlsaXN0LmluZGV4ID0gMDtcblxuICAgICAgICAgICAgaWYgKHBsYXlsaXN0LnJlcGVhdCA9PT0gdHJ1ZSB8fFxuICAgICAgICAgICAgICAgIHBsYXlsaXN0LnJlcGVhdCA9PT0gJ3JlcGVhdCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY3VycmVudFNvdW5kID0gcGxheWxpc3Quc291bmRzW3BsYXlsaXN0LmluZGV4XTtcblxuICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0ZVBTUihjdXJyZW50U291bmQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTb3VuZC5wbGF5KEJvb2xlYW4ocGxheWxpc3QuZmFkZSksIHBsYXlsaXN0LmZhZGUpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5bGlzdC5jdXJyZW50bHlQbGF5aW5nID0gY3VycmVudFNvdW5kO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0UGxheWxpc3QocGxheWxpc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzZXRQbGF5bGlzdChwbGF5bGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVBsYXlsaXN0U291bmRSZWFkaW5lc3Moc291bmQpIHtcbiAgICAgICAgaWYgKCFzb3VuZCkge1xuICAgICAgICAgICAgZ2F0ZWx5TG9nKCdUaGUgY3VycmVudCBpbmRleCBvZiB0aGlzIFBsYXlsaXN0IGRvZXMgbm90ICcgK1xuICAgICAgICAgICAgICAgICdjb3JyZXNwb25kIHRvIGEgdmFsaWQgU291bmQgaW4gdGhlIHRoaXMuc291bmRzICcgK1xuICAgICAgICAgICAgICAgICdwcm9wZXJ0eS4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoIXNvdW5kLmF1ZGlvRWxlbWVudC5wYXVzZWQpIHtcbiAgICAgICAgICAgIGdhdGVseUxvZygnVGhlIGN1cnJlbnQgU291bmQgb2JqZWN0IGluIHRoaXMgUGxheWxpc3QgaXMgJyArXG4gICAgICAgICAgICAgICAgJ2FscmVhZHkgcGxheWluZy4gQSBQbGF5bGlzdCBjYW4gb25seSBwbGF5IGlmIGV2ZXJ5ICcgK1xuICAgICAgICAgICAgICAgICdTb3VuZCBvYmplY3QgaXMgcGF1c2VkIHdoZW4gaXQgaXMgcmVhY2hlZC4nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSAvKiBlbHNlIGlmIChzb3VuZC5hdWRpb0VsZW1lbnQuY3VycmVudFRpbWUgIT09IDApIHtcbiAgICAgICAgICAgIGdhdGVseUxvZygnVGhlIGN1cnJlbnQgU291bmQgb2JqZWN0IGluIHRoaXMgUGxheWxpc3QgaXMgJyArXG4gICAgICAgICAgICAgICAgJ25vdCBhdCB0aW1lIDAuIEEgUGxheWxpc3QgY2FuIG9ubHkgcGxheSBpZiBldmVyeSAnICtcbiAgICAgICAgICAgICAgICAnU291bmQgb2JqZWN0IGlzIHBhdXNlZCBhbmQgYXQgcG9zaXRpb24gMCB3aGVuIGl0IGlzICcgK1xuICAgICAgICAgICAgICAgICdyZWFjaGVkLicpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9ICovXG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXRQbGF5bGlzdChwbGF5bGlzdCkge1xuICAgICAgICBpZiAoIXBsYXlsaXN0KSB7XG4gICAgICAgICAgICBnYXRlbHlMb2coJ0ludmFsaWQgcGxheWxpc3QgYXJndW1lbnQgcHJvdmlkZWQgdG8gcmVzZXRQbGF5bGlzdC4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHBsYXlsaXN0LmluZGV4ID0gMDtcbiAgICAgICAgcGxheWxpc3QuY3VycmVudGx5UGxheWluZyA9IG51bGw7XG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHBsYXlsaXN0LmludGVydmFsSUQpO1xuICAgICAgICBwbGF5bGlzdC5pbnRlcnZhbElEID0gbnVsbDtcbiAgICB9XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAoJCgndHctcGFzc2FnZWRhdGFbbmFtZT1cImxvYWRcIl0nKS5sZW5ndGgpIHtcbiAgICAgICAgd2lkZUFsZXJ0KCdJdFxcJ3MgaW5hZHZpc2FibGUgdG8gbmFtZSBhIHBhc3NhZ2UgXCJsb2FkXCLCoOKAk8KgdGhlICcgK1xuICAgICAgICAgICAgJ2NvbXBpbGVyIHVzZXMgdGhpcyBuYW1lIGZvciB0aGUgaW5pdGlhbCwgbm9uLXBhc3NhZ2UgZnJhbWUsICcgK1xuICAgICAgICAgICAgJ2FuZCBuYW1pbmcgYSBwYXNzYWdlIHRoaXMgd2lsbCBtb3N0IGxpa2VseSBjYXVzZSB1bmZpeGFibGUgJyArXG4gICAgICAgICAgICAnYnVncy4nKTtcbiAgICB9XG5cbiAgICAvLyBUaGUgZ2xvYmFsIGRlYnVnIGZsYWcgZm9yIHRoZSBzdG9yeS5cbiAgICB3aW5kb3cuREVCVUcgPSBmYWxzZTtcblxuICAgIC8vIEdhdGVseSBpcyBub3cgbG9hZGluZy5cbiAgICB3aW5kb3cuaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAgIC8vIFRoZSB0aW1lIGF0IHdoaWNoIGdhdGVseSBiZWdhbiBsb2FkaW5nLlxuICAgIHdpbmRvdy5nYXRlbHlMb2FkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgLy8gUHVzaCBhIG5ldyBsb2FkIGZyYW1lIHRvIHRoZSBzdGF0ZSBzdGFjay5cbiAgICBTdGF0ZS5uZXdTdGF0ZSgnbG9hZCcpO1xuXG4gICAgLy8gU2V0IHRoZSBjdXJyZW50IHRyYW5zY3JpcHQgZW50cnkgdG8gdGhlIGxvYWQgZnJhbWUuXG4gICAgU3RhdGUuY3VycmVudFRyYW5zY3JpcHRFbnRyeSA9IFN0YXRlLnRyYW5zY3JpcHRIaXN0b3J5WzBdO1xuXG4gICAgbGV0IHNlbGVjdG9yO1xuXG4gICAgLy8gUHJvY2VzcyBmbGFncyB3aXRoaW4gdGhlIHN0b3J5IDx0dy1zdG9yeWRhdGE+LlxuICAgIGNvbnN0IGZsYWdzID0gJHN0b3J5ZGF0YS5hdHRyKCdmbGFncycpO1xuICAgIGxldCBwcm9jZXNzZWQgPSBbXTtcbiAgICBpZiAoZmxhZ3MpIHtcbiAgICAgICAgY29uc3Qgc3BsaXRGbGFncyA9IGZsYWdzLnNwbGl0KCcgJyk7XG4gICAgICAgIHNwbGl0RmxhZ3MuZm9yRWFjaChmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3NlZC5pbmRleE9mKGFhKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWQucHVzaChhYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBERUJVRyBzaWducy5cbiAgICBpZiAocHJvY2Vzc2VkLmluZGV4T2YoJ2RlYnVnJykgIT09IC0xIHx8XG4gICAgICAgICRzdG9yeWRhdGEuZmluZCgnW25hbWU9XCJkZWJ1Z1wiXScpLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHdpbmRvdy5ERUJVRyA9IHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJveHlSZWNvcmRTdGF0ZShuYW1lLCB0YXJnZXQsIHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBkZWJ1ZyA9IHdpbmRvdy5ERUJVRztcbiAgICAgICAgY29uc3QgcmVjb3JkaW5nID0gU3RhdGUucmVjb3JkaW5nVHJhbnNjcmlwdDtcbiAgICAgICAgY29uc3Qgc3RhdGVDaGFuZ2VzID0gT3B0aW9ucy5yZWNvcmRpbmdMZXZlbHMuc3RhdGVDaGFuZ2VzO1xuICAgICAgICBjb25zdCBsb2FkID0gT3B0aW9ucy5yZWNvcmRpbmdMZXZlbHMubG9hZDtcbiAgICAgICAgY29uc3QgaXNMb2FkaW5nID0gd2luZG93LmlzTG9hZGluZztcbiAgICAgICAgY29uc3QgcmVuZGVyID0gT3B0aW9ucy5yZWNvcmRpbmdMZXZlbHMucmVuZGVyO1xuICAgICAgICBjb25zdCBpc1JlbmRlcmluZyA9IFJlbmRlcmVyLmlzUmVuZGVyaW5nO1xuXG4gICAgICAgIGlmIChkZWJ1ZyB8fFxuICAgICAgICAgICAgKHJlY29yZGluZyAmJlxuICAgICAgICAgICAgICAgICgoaXNMb2FkaW5nICYmIGxvYWQgJiYgc3RhdGVDaGFuZ2VzKSB8fCBcbiAgICAgICAgICAgICAgICAoaXNSZW5kZXJpbmcgJiYgcmVuZGVyICYmIHN0YXRlQ2hhbmdlcykgfHxcbiAgICAgICAgICAgICAgICAoIWlzTG9hZGluZyAmJiAhaXNSZW5kZXJpbmcgJiYgc3RhdGVDaGFuZ2VzKSlcbiAgICAgICAgICAgICkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE9wdGlvbnMuY2FwdHVyZVN0YXRlQ2hhbmdlKG5hbWUsIHRhcmdldCwgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qIElmIHRoZSBQcm94eSBjb25zdHJ1Y3RvciBpcyBhdmFpbGFibGUsIGF0dGFjaCBhIFByb3h5IHRvIHRoZSBTdGF0ZVxuICAgICAqIG9iamVjdCBhbmQgZWFjaCBvZiB0aGUgb2JqZWN0cyB0aGVyZWluLiBUaGlzIGFsbG93cyBzdGF0ZSBjaGFuZ2VzXG4gICAgICogdG8gYmUgY2FwdHVyZWQgYnkgdGhlIGRlYnVnZ2VyLiAqL1xuICAgIGlmIChpc0Z1bmN0aW9uKHdpbmRvdy5Qcm94eSkpIHtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBTdGF0ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZihTdGF0ZVtuYW1lXSkgPT09ICdvYmplY3QnICYmIFN0YXRlW25hbWVdKSB7XG4gICAgICAgICAgICAgICAgU3RhdGVbbmFtZV0gPSBuZXcgd2luZG93LlByb3h5KFN0YXRlW25hbWVdLCB7XG4gICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eVJlY29yZFN0YXRlKG5hbWUsIHRhcmdldCwgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBTdGF0ZSA9IG5ldyB3aW5kb3cuUHJveHkoU3RhdGUsIFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRhcmdldCwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3h5UmVjb3JkU3RhdGUobmFtZSwgdGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cblxuICAgIC8vIEFkZCB0aGUgaGlzdG9yeSBidXR0b25zIHRvIHRoZSA8dHctc3Rvcnk+IGVsZW1lbnQuXG4gICAgbGV0IHN0ciA9Jzx0dy1oaXN0b3J5LWJ1dHRvbiBjbGFzcz1cImJhY2sgaGlkZGVuXCI+JyArXG4gICAgICAgICdcXDwnICtcbiAgICAgICAgJzwvdHctaGlzdG9yeS1idXR0b24+JztcbiAgICAkKCd0dy1zdG9yeSNwYXNzYWdlJykuYXBwZW5kKHN0cik7XG5cbiAgICBzdHIgPSAnPHR3LWhpc3RvcnktYnV0dG9uIGNsYXNzPVwiZm9yd2FyZCBoaWRkZW5cIj4nICtcbiAgICAgICAgJ1xcPicgK1xuICAgICAgICAnPC90dy1oaXN0b3J5LWJ1dHRvbj4nO1xuICAgICQoJ3R3LXN0b3J5I3Bhc3NhZ2UnKS5hcHBlbmQoc3RyKTtcblxuICAgIC8qIERlZmluZSBpbXBvcnRhbnQgaWZyYW1lIGNvbnRlbnRzIGFuZCBhZGQgYWxsIG5vbi1vbnN0YXJ0IHNjcmlwdHMgYW5kXG4gICAgICogc3R5bGVzLiAqL1xuICAgIGNvbnN0IGZyYW1lID0gJCgnI2RlZmF1bHRUcmFuc2NyaXB0RnJhbWUnKVswXTtcbiAgICBpZiAoIWZyYW1lIHx8IGZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZyYW1lSFRNTCA9IGZyYW1lLmNvbnRlbnREb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgZnJhbWVIZWFkID0gZnJhbWVIVE1MLnF1ZXJ5U2VsZWN0b3IoJ2hlYWQnKTtcbiAgICBjb25zdCBmcmFtZUJvZHkgPSBmcmFtZUhUTUwucXVlcnlTZWxlY3RvcignYm9keScpO1xuICAgIFxuICAgIGNvbnN0IHBhc3NhZ2VQYW5lID0gJCgnPGRpdiBpZD1cInBhc3NhZ2VQYW5lXCI+PC9kaXY+JylbMF07XG4gICAgZnJhbWVCb2R5LmFwcGVuZENoaWxkKHBhc3NhZ2VQYW5lKTtcblxuICAgIGNvbnN0ICRkaXNwbGF5UGFuZSA9ICQoJzxkaXYgaWQ9XCJkaXNwbGF5UGFuZVwiPjwvZGl2PicpO1xuICAgIGZyYW1lQm9keS5hcHBlbmRDaGlsZCgkZGlzcGxheVBhbmVbMF0pO1xuXG4gICAgc2VsZWN0b3IgPSAnPHR3LXRhYmNvbnRyb2wgaWQ9XCJ0cmFuc2NyaXB0VGFiQ29udHJvbFwiPjwvdHctdGFiY29udHJvbD4nO1xuICAgIGNvbnN0IHRhYkNvbnRyb2wgPSAkKHNlbGVjdG9yKVswXTtcbiAgICAkZGlzcGxheVBhbmUuYXBwZW5kKHRhYkNvbnRyb2wpO1xuXG4gICAgLy8gZGV0YWlsIHRhYlxuICAgIHNlbGVjdG9yID0gJzx0dy10YWIgaWQ9XCJkZXRhaWxzVGFiXCIgJyArXG4gICAgICAgICdjbGFzcz1cImFjdGl2ZVwiJyArXG4gICAgICAgICdkYXRhLXNlbGVjdG9yPVwiI3RyYW5zY3JpcHREZXRhaWxzRGl2XCI+RGV0YWlsczwvdHctdGFiPic7XG4gICAgY29uc3QgZGV0YWlsc1RhYiA9ICQoc2VsZWN0b3IpWzBdO1xuICAgIHRhYkNvbnRyb2wuYXBwZW5kQ2hpbGQoZGV0YWlsc1RhYik7XG5cbiAgICAvLyBkZXRhaWwgdGFiIGNvbnRhaW5lclxuICAgIHNlbGVjdG9yID0gJzxkaXYgaWQ9XCJ0cmFuc2NyaXB0RGV0YWlsc0RpdlwiIGNsYXNzPVwiYWN0aXZlXCI+PC9kaXY+JztcbiAgICBjb25zdCAkdHJhbnNjcmlwdERldGFpbHNEaXYgPSAkKHNlbGVjdG9yKTtcbiAgICAkZGlzcGxheVBhbmUuYXBwZW5kKCR0cmFuc2NyaXB0RGV0YWlsc0Rpdik7XG5cbiAgICAvLyBmcmFtZXMgdGFiXG4gICAgc2VsZWN0b3IgPSAnPHR3LXRhYiBpZD1cImZyYW1lc1RhYlwiICcgK1xuICAgICAgICAnZGF0YS1zZWxlY3Rvcj1cIiN0cmFuc2NyaXB0RnJhbWVzRGl2XCI+RnJhbWVzPC90dy10YWI+JztcbiAgICBjb25zdCBmcmFtZXNUYWIgPSAkKHNlbGVjdG9yKVswXTtcbiAgICB0YWJDb250cm9sLmFwcGVuZENoaWxkKGZyYW1lc1RhYik7XG5cbiAgICAvLyBmcmFtZXMgdGFiIGNvbnRhaW5lclxuICAgIGNvbnN0ICR0cmFuc2NyaXB0RnJhbWVzRGl2ID0gJCgnPGRpdiBpZD1cInRyYW5zY3JpcHRGcmFtZXNEaXZcIj48L2Rpdj4nKTtcbiAgICAkZGlzcGxheVBhbmUuYXBwZW5kKCR0cmFuc2NyaXB0RnJhbWVzRGl2KTtcblxuICAgIC8vIGZsYXQgdGFiXG4gICAgc2VsZWN0b3IgPSAnPHR3LXRhYiBpZD1cImZsYXRUYWJcIiAnICtcbiAgICAgICAgJ2RhdGEtc2VsZWN0b3I9XCIjdHJhbnNjcmlwdEZsYXREaXZcIj5GbGF0PC90dy10YWI+JztcbiAgICBjb25zdCBhbmltYXRlZFRhYiA9ICQoc2VsZWN0b3IpWzBdO1xuICAgIHRhYkNvbnRyb2wuYXBwZW5kQ2hpbGQoYW5pbWF0ZWRUYWIpO1xuXG4gICAgLy8gZmxhdCB0YWIgY29udGFpbmVyXG4gICAgc2VsZWN0b3IgPSAnPGRpdiBpZD1cInRyYW5zY3JpcHRGbGF0RGl2XCI+PC9kaXY+JztcbiAgICBjb25zdCAkdHJhbnNjcmlwdEZsYXREaXYgPSAkKHNlbGVjdG9yKTtcbiAgICAkZGlzcGxheVBhbmUuYXBwZW5kKCR0cmFuc2NyaXB0RmxhdERpdik7XG5cbiAgICAvLyBzZXR0aW5ncyB0YWJcbiAgICBzZWxlY3RvciA9ICc8dHctdGFiIGlkPVwic2V0dGluZ3NUYWJcIiAnICtcbiAgICAgICAgJ2RhdGEtc2VsZWN0b3I9XCIjdHJhbnNjcmlwdFNldHRpbmdzRGl2XCI+U2V0dGluZ3M8L3R3LXRhYj4nO1xuICAgIGNvbnN0IHNldHRpbmdzVGFiID0gJChzZWxlY3RvcilbMF07XG4gICAgdGFiQ29udHJvbC5hcHBlbmRDaGlsZChzZXR0aW5nc1RhYik7XG5cbiAgICAvLyBzZXR0aW5ncyB0YWIgY29udGFpbmVyXG4gICAgc2VsZWN0b3IgPSAnPGRpdiBpZD1cInRyYW5zY3JpcHRTZXR0aW5nc0RpdlwiPjwvZGl2Pic7XG4gICAgY29uc3QgdHJhbnNjcmlwdFNldHRpbmdzRGl2ID0gJChzZWxlY3RvcilbMF07XG4gICAgJGRpc3BsYXlQYW5lLmFwcGVuZCh0cmFuc2NyaXB0U2V0dGluZ3NEaXYpO1xuXG4gICAgLy8gdHJhbnNjcmlwdCBkaXNwbGF5IHNldHRpbmdzXG4gICAgY29uc3QgZGlzcGxheVNldHRpbmdzU3BhbiA9ICQoJzxzcGFuPkRpc3BsYXkgU2V0dGluZ3M8L3NwYW4+JylbMF07XG4gICAgdHJhbnNjcmlwdFNldHRpbmdzRGl2LmFwcGVuZENoaWxkKGRpc3BsYXlTZXR0aW5nc1NwYW4pO1xuXG4gICAgY29uc3QgZGlzcFRleHRDaGFuZ2VzU3BhbiA9ICQoJzxzcGFuPjwvc3Bhbj4nKVswXTtcbiAgICB0cmFuc2NyaXB0U2V0dGluZ3NEaXYuYXBwZW5kQ2hpbGQoZGlzcFRleHRDaGFuZ2VzU3Bhbik7XG5cbiAgICBzZWxlY3RvciA9ICc8aW5wdXQgaWQ9XCJkaXNwVGV4dENoYW5nZXNDaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiPjwvaW5wdXQ+JztcbiAgICBjb25zdCBkaXNwVGV4dENoYW5nZXNDaGVja2JveCA9ICQoc2VsZWN0b3IpWzBdO1xuICAgIGRpc3BUZXh0Q2hhbmdlc1NwYW4uYXBwZW5kQ2hpbGQoZGlzcFRleHRDaGFuZ2VzQ2hlY2tib3gpO1xuXG4gICAgc2VsZWN0b3IgPSAnPGxhYmVsIGZvcj1cImRpc3BUZXh0Q2hhbmdlc0NoZWNrYm94XCI+JyArXG4gICAgICAgICdEaXNwbGF5IFRleHQgQ2hhbmdlczwvbGFiZWw+JztcbiAgICBjb25zdCBkaXNwVGV4dENoYW5nZXNMYWJlbCA9ICQoc2VsZWN0b3IpWzBdO1xuICAgIGRpc3BUZXh0Q2hhbmdlc1NwYW4uYXBwZW5kQ2hpbGQoZGlzcFRleHRDaGFuZ2VzTGFiZWwpO1xuXG4gICAgY29uc3QgZGlzcFBhZ2VFdmVudHNTcGFuID0gJCgnPHNwYW4+PC9zcGFuPicpWzBdO1xuICAgIHRyYW5zY3JpcHRTZXR0aW5nc0Rpdi5hcHBlbmRDaGlsZChkaXNwUGFnZUV2ZW50c1NwYW4pO1xuXG4gICAgc2VsZWN0b3IgPSAnPGlucHV0IGlkPVwiZGlzcFBhZ2VFdmVudHNDaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiPjwvaW5wdXQ+JztcbiAgICBjb25zdCBkaXNwUGFnZUV2ZW50c0NoZWNrYm94ID0gJChzZWxlY3RvcilbMF07XG4gICAgZGlzcFBhZ2VFdmVudHNTcGFuLmFwcGVuZENoaWxkKGRpc3BQYWdlRXZlbnRzQ2hlY2tib3gpO1xuXG4gICAgc2VsZWN0b3IgPSAnPGxhYmVsIGZvcj1cImRpc3BQYWdlRXZlbnRzQ2hlY2tib3hcIj4nICtcbiAgICAgICAgJ0Rpc3BsYXkgUGFnZSBFdmVudHM8L2xhYmVsPic7XG4gICAgY29uc3QgZGlzcFBhZ2VFdmVudHNMYWJlbCA9ICQoc2VsZWN0b3IpWzBdO1xuICAgIGRpc3BQYWdlRXZlbnRzU3Bhbi5hcHBlbmRDaGlsZChkaXNwUGFnZUV2ZW50c0xhYmVsKTtcblxuICAgIGNvbnN0IGRpc3BTdGF0ZUNoYW5nZXNTcGFuID0gJCgnPHNwYW4+PC9zcGFuPicpWzBdO1xuICAgIHRyYW5zY3JpcHRTZXR0aW5nc0Rpdi5hcHBlbmRDaGlsZChkaXNwU3RhdGVDaGFuZ2VzU3Bhbik7XG5cbiAgICBzZWxlY3RvciA9ICc8aW5wdXQgaWQ9XCJkaXNwU3RhdGVDaGFuZ2VzQ2hlY2tib3hcIiB0eXBlPVwiY2hlY2tib3hcIj48L2lucHV0Pic7XG4gICAgY29uc3QgZGlzcFN0YXRlQ2hhbmdlc0NoZWNrYm94ID0gJChzZWxlY3RvcilbMF07XG4gICAgZGlzcFN0YXRlQ2hhbmdlc1NwYW4uYXBwZW5kQ2hpbGQoZGlzcFN0YXRlQ2hhbmdlc0NoZWNrYm94KTtcblxuICAgIHNlbGVjdG9yID0gJzxsYWJlbCBmb3I9XCJkaXNwU3RhdGVDaGFuZ2VzQ2hlY2tib3hcIj4nICtcbiAgICAgICAgJ0Rpc3BsYXkgU3RhdGUgQ2hhbmdlczwvbGFiZWw+JztcbiAgICBjb25zdCBkaXNwU3RhdGVDaGFuZ2VzTGFiZWwgPSAkKHNlbGVjdG9yKVswXTtcbiAgICBkaXNwU3RhdGVDaGFuZ2VzU3Bhbi5hcHBlbmRDaGlsZChkaXNwU3RhdGVDaGFuZ2VzTGFiZWwpO1xuXG4gICAgY29uc3QgZGlzcExvYWRTcGFuID0gJCgnPHNwYW4+PC9zcGFuPicpWzBdO1xuICAgIHRyYW5zY3JpcHRTZXR0aW5nc0Rpdi5hcHBlbmRDaGlsZChkaXNwTG9hZFNwYW4pO1xuXG4gICAgc2VsZWN0b3IgPSAnPGlucHV0IGlkPVwiZGlzcExvYWRDaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiPjwvaW5wdXQ+JztcbiAgICBjb25zdCBkaXNwTG9hZENoZWNrYm94ID0gJChzZWxlY3RvcilbMF07XG4gICAgZGlzcExvYWRTcGFuLmFwcGVuZENoaWxkKGRpc3BMb2FkQ2hlY2tib3gpO1xuXG4gICAgc2VsZWN0b3IgPSAnPGxhYmVsIGZvcj1cImRpc3BMb2FkQ2hlY2tib3hcIj4nICtcbiAgICAgICAgJ0Rpc3BsYXkgTG9hZDwvbGFiZWw+JztcbiAgICBjb25zdCBkaXNwTG9hZExhYmVsID0gJChzZWxlY3RvcilbMF07XG4gICAgZGlzcExvYWRTcGFuLmFwcGVuZENoaWxkKGRpc3BMb2FkTGFiZWwpO1xuXG4gICAgY29uc3QgZGlzcFBhcnNlU3BhbiA9ICQoJzxzcGFuPjwvc3Bhbj4nKVswXTtcbiAgICB0cmFuc2NyaXB0U2V0dGluZ3NEaXYuYXBwZW5kQ2hpbGQoZGlzcFBhcnNlU3Bhbik7XG5cbiAgICBzZWxlY3RvciA9ICc8aW5wdXQgaWQ9XCJkaXNwUGFyc2VDaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiPjwvaW5wdXQ+JztcbiAgICBjb25zdCBkaXNwUGFyc2VDaGVja2JveCA9ICQoc2VsZWN0b3IpWzBdO1xuICAgIGRpc3BQYXJzZVNwYW4uYXBwZW5kQ2hpbGQoZGlzcFBhcnNlQ2hlY2tib3gpO1xuXG4gICAgc2VsZWN0b3IgPSAnPGxhYmVsIGZvcj1cImRpc3BMb2FkQ2hlY2tib3hcIj4nICtcbiAgICAgICAgJ0Rpc3BsYXkgUGFyc2U8L2xhYmVsPic7XG4gICAgY29uc3QgZGlzcFBhcnNlTGFiZWwgPSAkKHNlbGVjdG9yKVswXTtcbiAgICBkaXNwUGFyc2VTcGFuLmFwcGVuZENoaWxkKGRpc3BQYXJzZUxhYmVsKTtcblxuICAgIGNvbnN0IGRpc3BSZW5kZXJTcGFuID0gJCgnPHNwYW4+PC9zcGFuPicpWzBdO1xuICAgIHRyYW5zY3JpcHRTZXR0aW5nc0Rpdi5hcHBlbmRDaGlsZChkaXNwUGFyc2VTcGFuKTtcblxuICAgIHNlbGVjdG9yID0gJzxpbnB1dCBpZD1cImRpc3BSZW5kZXJDaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiPjwvaW5wdXQ+JztcbiAgICBjb25zdCBkaXNwUmVuZGVyQ2hlY2tib3ggPSAkKHNlbGVjdG9yKVswXTtcbiAgICBkaXNwUmVuZGVyU3Bhbi5hcHBlbmRDaGlsZChkaXNwUmVuZGVyQ2hlY2tib3gpO1xuXG4gICAgc2VsZWN0b3IgPSAnPGxhYmVsIGZvcj1cImRpc3BSZW5kZXJDaGVja2JveFwiPicgK1xuICAgICAgICAnRGlzcGxheSBSZW5kZXI8L2xhYmVsPic7XG4gICAgY29uc3QgZGlzcFJlbmRlckxhYmVsID0gJChzZWxlY3RvcilbMF07XG4gICAgZGlzcFJlbmRlclNwYW4uYXBwZW5kQ2hpbGQoZGlzcFJlbmRlckxhYmVsKTtcblxuICAgIHRyYW5zY3JpcHRTZXR0aW5nc0Rpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpKTtcblxuICAgIC8vIHRyYW5zY3JpcHQgcmVjb3JkaW5nIHNldHRpbmdzXG4gICAgc2VsZWN0b3IgPSAnPHNwYW4gY2xhc3M9XCJ0aXRsZVwiPlJlY29yZGluZyBTZXR0aW5nczwvc3Bhbj4nO1xuICAgIGNvbnN0IHJlY29yZGluZ1NldHRpbmdzVGl0bGUgPSAkKHNlbGVjdG9yKVswXTtcbiAgICB0cmFuc2NyaXB0U2V0dGluZ3NEaXYuYXBwZW5kQ2hpbGQocmVjb3JkaW5nU2V0dGluZ3NUaXRsZSk7XG5cbiAgICBjb25zdCByZWNUZXh0Q2hhbmdlc1NwYW4gPSAkKCc8c3Bhbj48L3NwYW4+JylbMF07XG4gICAgdHJhbnNjcmlwdFNldHRpbmdzRGl2LmFwcGVuZENoaWxkKHJlY1RleHRDaGFuZ2VzU3Bhbik7XG5cbiAgICBzZWxlY3RvciA9ICc8aW5wdXQgaWQ9XCJyZWNUZXh0Q2hhbmdlc0NoZWNrYm94XCIgdHlwZT1cImNoZWNrYm94XCInICtcbiAgICAgICAgJ2RhdGEtc2VsZWN0b3I9XCIjdHJhbnNjcmlwdFNldHRpbmdzRGl2XCI+PC9pbnB1dD4nO1xuICAgIGNvbnN0IHJlY1RleHRDaGFuZ2VzQ2hlY2tib3ggPSAkKHNlbGVjdG9yKVswXTtcbiAgICByZWNUZXh0Q2hhbmdlc1NwYW4uYXBwZW5kQ2hpbGQocmVjVGV4dENoYW5nZXNDaGVja2JveCk7XG5cbiAgICBzZWxlY3RvciA9ICc8bGFiZWwgZm9yPVwicmVjVGV4dENoYW5nZXNDaGVja2JveFwiPicgK1xuICAgICAgICAnUmVjb3JkIFRleHQgQ2hhbmdlczwvbGFiZWw+JztcbiAgICBjb25zdCByZWNUZXh0Q2hhbmdlc0xhYmVsID0gJChzZWxlY3RvcilbMF07XG4gICAgcmVjVGV4dENoYW5nZXNTcGFuLmFwcGVuZENoaWxkKHJlY1RleHRDaGFuZ2VzTGFiZWwpO1xuXG4gICAgY29uc3QgcmVjUGFnZUV2ZW50c1NwYW4gPSAkKCc8c3Bhbj48L3NwYW4+JylbMF07XG4gICAgdHJhbnNjcmlwdFNldHRpbmdzRGl2LmFwcGVuZENoaWxkKHJlY1BhZ2VFdmVudHNTcGFuKTtcblxuICAgIHNlbGVjdG9yID0gJzxpbnB1dCBpZD1cInJlY1BhZ2VFdmVudHNDaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiPjwvaW5wdXQ+JztcbiAgICBjb25zdCByZWNQYWdlRXZlbnRzQ2hlY2tib3ggPSAkKHNlbGVjdG9yKVswXTtcbiAgICByZWNQYWdlRXZlbnRzU3Bhbi5hcHBlbmRDaGlsZChyZWNQYWdlRXZlbnRzQ2hlY2tib3gpO1xuXG4gICAgc2VsZWN0b3IgPSAnPGxhYmVsIGZvcj1cInJlY1BhZ2VFdmVudHNDaGVja2JveFwiPicgK1xuICAgICAgICAnUmVjb3JkIFBhZ2UgRXZlbnRzPC9sYWJlbD4nO1xuICAgIGNvbnN0IHJlY1BhZ2VFdmVudHNMYWJlbCA9ICQoc2VsZWN0b3IpWzBdO1xuICAgIHJlY1BhZ2VFdmVudHNTcGFuLmFwcGVuZENoaWxkKHJlY1BhZ2VFdmVudHNMYWJlbCk7XG5cbiAgICBjb25zdCByZWNTdGF0ZUNoYW5nZXNTcGFuID0gJCgnPHNwYW4+PC9zcGFuPicpWzBdO1xuICAgIHRyYW5zY3JpcHRTZXR0aW5nc0Rpdi5hcHBlbmRDaGlsZChyZWNTdGF0ZUNoYW5nZXNTcGFuKTtcblxuICAgIHNlbGVjdG9yID0gJzxpbnB1dCBpZD1cInJlY1N0YXRlQ2hhbmdlc0NoZWNrYm94XCIgdHlwZT1cImNoZWNrYm94XCI+PC9pbnB1dD4nO1xuICAgIGNvbnN0IHJlY1N0YXRlQ2hhbmdlc0NoZWNrYm94ID0gJChzZWxlY3RvcilbMF07XG4gICAgcmVjU3RhdGVDaGFuZ2VzU3Bhbi5hcHBlbmRDaGlsZChyZWNTdGF0ZUNoYW5nZXNDaGVja2JveCk7XG5cbiAgICBzZWxlY3RvciA9ICc8bGFiZWwgZm9yPVwicmVjU3RhdGVDaGFuZ2VzQ2hlY2tib3hcIj4nICtcbiAgICAgICAgJ1JlY29yZCBTdGF0ZSBDaGFuZ2VzPC9sYWJlbD4nO1xuICAgIGNvbnN0IHJlY1N0YXRlQ2hhbmdlc0xhYmVsID0gJChzZWxlY3RvcilbMF07XG4gICAgcmVjU3RhdGVDaGFuZ2VzU3Bhbi5hcHBlbmRDaGlsZChyZWNTdGF0ZUNoYW5nZXNMYWJlbCk7XG5cbiAgICBjb25zdCByZWNMb2FkU3BhbiA9ICQoJzxzcGFuPjwvc3Bhbj4nKVswXTtcbiAgICB0cmFuc2NyaXB0U2V0dGluZ3NEaXYuYXBwZW5kQ2hpbGQocmVjTG9hZFNwYW4pO1xuXG4gICAgc2VsZWN0b3IgPSAnPGlucHV0IGlkPVwicmVjTG9hZENoZWNrYm94XCIgdHlwZT1cImNoZWNrYm94XCI+PC9pbnB1dD4nO1xuICAgIGNvbnN0IHJlY0xvYWRDaGVja2JveCA9ICQoc2VsZWN0b3IpWzBdO1xuICAgIHJlY0xvYWRTcGFuLmFwcGVuZENoaWxkKHJlY0xvYWRDaGVja2JveCk7XG5cbiAgICBzZWxlY3RvciA9ICc8bGFiZWwgZm9yPVwicmVjTG9hZENoZWNrYm94XCI+JyArXG4gICAgICAgICdSZWNvcmQgTG9hZDwvbGFiZWw+JztcbiAgICBjb25zdCByZWNMb2FkTGFiZWwgPSAkKHNlbGVjdG9yKVswXTtcbiAgICByZWNMb2FkU3Bhbi5hcHBlbmRDaGlsZChyZWNMb2FkTGFiZWwpO1xuXG4gICAgY29uc3QgcmVjUGFyc2VTcGFuID0gJCgnPHNwYW4+PC9zcGFuPicpWzBdO1xuICAgIHRyYW5zY3JpcHRTZXR0aW5nc0Rpdi5hcHBlbmRDaGlsZChyZWNQYXJzZVNwYW4pO1xuXG4gICAgc2VsZWN0b3IgPSAnPGlucHV0IGlkPVwicmVjUGFyc2VDaGVja2JveFwiIHR5cGU9XCJjaGVja2JveFwiPjwvaW5wdXQ+JztcbiAgICBjb25zdCByZWNQYXJzZUNoZWNrYm94ID0gJChzZWxlY3RvcilbMF07XG4gICAgcmVjUGFyc2VTcGFuLmFwcGVuZENoaWxkKHJlY1BhcnNlQ2hlY2tib3gpO1xuXG4gICAgc2VsZWN0b3IgPSAnPGxhYmVsIGZvcj1cInJlY0xvYWRDaGVja2JveFwiPicgK1xuICAgICAgICAnUmVjb3JkIFBhcnNlPC9sYWJlbD4nO1xuICAgIGNvbnN0IHJlY1BhcnNlTGFiZWwgPSAkKHNlbGVjdG9yKVswXTtcbiAgICByZWNQYXJzZVNwYW4uYXBwZW5kQ2hpbGQocmVjUGFyc2VMYWJlbCk7XG5cbiAgICBjb25zdCByZWNSZW5kZXJTcGFuID0gJCgnPHNwYW4+PC9zcGFuPicpWzBdO1xuICAgIHRyYW5zY3JpcHRTZXR0aW5nc0Rpdi5hcHBlbmRDaGlsZChyZWNQYXJzZVNwYW4pO1xuXG4gICAgc2VsZWN0b3IgPSAnPGlucHV0IGlkPVwicmVjUmVuZGVyQ2hlY2tib3hcIiB0eXBlPVwiY2hlY2tib3hcIj48L2lucHV0Pic7XG4gICAgY29uc3QgcmVjUmVuZGVyQ2hlY2tib3ggPSAkKHNlbGVjdG9yKVswXTtcbiAgICByZWNSZW5kZXJTcGFuLmFwcGVuZENoaWxkKHJlY1JlbmRlckNoZWNrYm94KTtcblxuICAgIHNlbGVjdG9yID0gJzxsYWJlbCBmb3I9XCJyZWNSZW5kZXJDaGVja2JveFwiPicgK1xuICAgICAgICAnUmVjb3JkIFJlbmRlcjwvbGFiZWw+JztcbiAgICBjb25zdCByZWNSZW5kZXJMYWJlbCA9ICQoc2VsZWN0b3IpWzBdO1xuICAgIHJlY1JlbmRlclNwYW4uYXBwZW5kQ2hpbGQocmVjUmVuZGVyTGFiZWwpO1xuXG4gICAgZnJhbWVCb2R5LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nO1xuXG4gICAgc2VsZWN0b3IgPSAnc3R5bGUnO1xuICAgICQoc2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oXywgc3R5bGUpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVDbG9uZSA9IHN0eWxlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgLy8gc3R5bGUgZG9lcyBub3Qgd29yayBvbiBhcHBlbmQgd2l0aCB0eXBlXG4gICAgICAgIHN0eWxlQ2xvbmUucmVtb3ZlQXR0cmlidXRlKCd0eXBlJyk7XG4gICAgICAgIGZyYW1lSGVhZC5hcHBlbmRDaGlsZChzdHlsZUNsb25lKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIGZ1bmN0aW9uIHJlc2l6ZUlmcmFtZUhlaWdodCgpIHtcbiAgICAgICAgbGV0IGxhc3RIZWlnaHQgPSAwO1xuICAgICAgICB3aW5kb3cuc2l6ZUlEID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbGV0IGNvbXBhdGliaWxpdHk7XG4gICAgICAgICAgICBsZXQgaGlnaGVzdCA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZG9jdW1lbnQuYm9keS5jaGlsZE5vZGVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gZG9jdW1lbnQuYm9keS5jaGlsZE5vZGVzW2lpXTtcbiAgICAgICAgICAgICAgICBjb21wYXRpYmlsaXR5ID0gTWF0aC5tYXgoIFxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnNjcm9sbEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIC8vLCBjaGlsZC5vZmZzZXRIZWlnaHQpO1xuICAgICAgICAgICAgICAgIGlmIChoaWdoZXN0IDwgY29tcGF0aWJpbGl0eSkge1xuICAgICAgICAgICAgICAgICAgICBoaWdoZXN0ID0gY29tcGF0aWJpbGl0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhpZ2hlc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZyYW1lRGlzcGxheSA9IFxuICAgICAgICAgICAgICAgIHRvcC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVmYXVsdFRyYW5zY3JpcHREaXNwbGF5Jyk7XG4gICAgICAgICAgICBmcmFtZURpc3BsYXkuc3R5bGUuaGVpZ2h0ID0gaGlnaGVzdCArICdweCc7XG4gICAgICAgICAgICBjb25zdCBtYXhIZWlnaHQgPSB0b3AuZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKiAwLjg1ICsgJ3B4JztcbiAgICAgICAgICAgIGZyYW1lRGlzcGxheS5zdHlsZS5tYXhIZWlnaHQgPSBtYXhIZWlnaHQ7XG5cbiAgICAgICAgICAgIGNvbXBhdGliaWxpdHkgPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICB0b3AuZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgICAgICAgdG9wLmRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LCBcbiAgICAgICAgICAgICAgICAvL2JvZHkub2Zmc2V0SGVpZ2h0LCBcbiAgICAgICAgICAgICAgICB0b3AuZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LmNsaWVudEhlaWdodCwgXG4gICAgICAgICAgICAgICAgdG9wLmRvY3VtZW50LmJvZHkucGFyZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpOy8vLCBodG1sLm9mZnNldEhlaWdodCApO1xuXG4gICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcGFzc2FnZVBhbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFzc2FnZVBhbmUnKTtcbiAgICAgICAgICAgIGlmIChwYXNzYWdlUGFuZSkge1xuICAgICAgICAgICAgICAgIHBhc3NhZ2VQYW5lLnN0eWxlLm1heEhlaWdodCA9IG1heEhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZGlzcGxheVBhbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGlzcGxheVBhbmUnKTtcbiAgICAgICAgICAgIGlmIChkaXNwbGF5UGFuZSkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlQYW5lLnN0eWxlLm1heEhlaWdodCA9IG1heEhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGFzdEhlaWdodCA9IGNvbXBhdGliaWxpdHk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgIH07XG4gICAgc2NyaXB0LmlubmVySFRNTCA9IHJlc2l6ZUlmcmFtZUhlaWdodC50b1N0cmluZygpICtcbiAgICAgICAgJ1xcbnJlc2l6ZUlmcmFtZUhlaWdodCgpJztcbiAgICBmcmFtZUJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblxuICAgICRkaXNwbGF5UGFuZS5vbignY2xpY2snLCAndHctdGFiJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBjb25zdCAkdGFiQ29udHJvbCA9ICQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKTtcbiAgICAgICAgJHRhYkNvbnRyb2wuZmluZCgndHctdGFiJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgIGNvbnN0ICR0Z3QgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgICR0Z3QuYWRkQ2xhc3MoJ2FjdGl2ZScpXG5cbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSAkdGd0LmF0dHIoJ2RhdGEtc2VsZWN0b3InKTtcbiAgICAgICAgJGRpc3BsYXlQYW5lLmNoaWxkcmVuKCdkaXYnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICRkaXNwbGF5UGFuZS5jaGlsZHJlbihzZWxlY3RvcikuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgaWYgKCFTdGF0ZS5jdXJyZW50VGhlbWUuZGVidWcuYWxsb3dUcmFuc2NyaXB0cyAmJiAhREVCVUcpIHtcbiAgICAgICAgJCgnI3ByaW50VHJhbnNjcmlwdFRvQ29uc29sZScpLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICB9XG5cbiAgICBjb25zdCAkZGlzcGxheVBhc3NhZ2UgPSAkKCcjcGFzc2FnZScpO1xuXG4gICAgLy8gYW4gZW51bWVyYXRpb24gb2YgYWxsIGtub3duIGpxdWVyeSBoYW5kbGVyc1xuICAgIGNvbnN0IGpxdWVyeUV2ZW50cyA9IFtcbiAgICAgICAgJ2NsaWNrJyxcbiAgICAgICAgJ2JsdXInLFxuICAgICAgICAnY29udGV4dG1lbnUnLFxuICAgICAgICAnZGJsY2xpY2snLFxuICAgICAgICAnZXJyb3InLFxuICAgICAgICAnZm9jdXNpbicsXG4gICAgICAgICdmb2N1c291dCcsXG4gICAgICAgICdob3ZlcicsXG4gICAgICAgICdrZXlkb3duJyxcbiAgICAgICAgJ2tleXByZXNzJyxcbiAgICAgICAgJ2tleXVwJyxcbiAgICAgICAgJ2xvYWQnLFxuICAgICAgICAnbW91c2Vkb3duJyxcbiAgICAgICAgJ21vdXNldXAnLFxuICAgICAgICAnbW91c2VlbnRlcicsXG4gICAgICAgICdtb3VzZWxlYXZlJyxcbiAgICAgICAgJ21vdXNlbW92ZScsXG4gICAgICAgICdtb3VzZW91dCcsXG4gICAgICAgICdtb3VzZW92ZXInLFxuICAgICAgICAnbW91c2VvbicsXG4gICAgICAgICdyZWFkeScsXG4gICAgICAgICdzY3JvbGwnLFxuICAgICAgICAnc2VsZWN0JyxcbiAgICAgICAgJ3N1Ym1pdCcsXG4gICAgICAgICd0b2dnbGUnLFxuICAgICAgICAndW5sb2FkJ1xuICAgIF07XG5cbiAgICAvLyBjaGVja3MgZm9yIGxpbmsgY2xpY2tzIGxlYWRpbmcgdG8gYSBuZXcgcGFzc2FnZSBhbmQgYSBuZXcgc3RhdGUgaGVhZFxuICAgIC8vIChhcyBpbiB0aGUgdG9wIG9mIHRoZSBzdGFjaylcbiAgICAkZGlzcGxheVBhc3NhZ2Uub24oJ2NsaWNrJywgJ3R3LWxpbmsucGFzc2FnZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy8gY2xlYXIgaW50ZXJ2YWxzXG4gICAgICAgICQoZS50YXJnZXQpLnBhcmVudHMoJ3R3LXBhc3NhZ2UnKS5uZXh0QWxsKCkuZWFjaChmdW5jdGlvbihfLCBub2RlKSB7XG4gICAgICAgICAgICBjb25zdCBpbnRlcnZhbEVscyA9ICQobm9kZSkuZmluZCgnW2RhdGEtaW50ZXJ2YWwtaWRdJyk7XG4gICAgICAgICAgICBpbnRlcnZhbEVscy5lYWNoKGZ1bmN0aW9uKF8sIGludGVydmFsRWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWludGVydmFsRWwuZ2V0QXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW50ZXJ2YWxFbCA9IGludGVydmFsRWwuZ2V0QXR0cmlidXRlKCdkYXRhLWludGVydmFsLWlkJyk7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxFbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gY2xlYXIgdGltZW91dHNcbiAgICAgICAgJChlLnRhcmdldCkucGFyZW50cygndHctcGFzc2FnZScpLm5leHRBbGwoKS5lYWNoKGZ1bmN0aW9uKF8sIG5vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRFbHMgPSAkKG5vZGUpLmZpbmQoJ1tkYXRhLXRpbWVvdXQtaWRdJyk7XG4gICAgICAgICAgICB0aW1lb3V0RWxzLmVhY2goZnVuY3Rpb24oXywgdGltZW91dEVsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aW1lb3V0RWwuZ2V0QXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGltZW91dEVsID0gdGltZW91dEVsLmdldEF0dHJpYnV0ZSgnZGF0YS10aW1lb3V0LWlkJyk7XG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0RWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlbmRlciBiaW5kaW5nIHNlbGVjdG9ycyB0ZW1wb3JhcmlseSB1bnVzYWJsZVxuICAgICAgICAkKCd0dy1iaW5kaW5nJykuZWFjaChmdW5jdGlvbihfLCBiaW5kaW5nKSB7XG4gICAgICAgICAgICBjb25zdCAkYmluZGluZyA9ICQoYmluZGluZyk7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RvciA9ICdkYXRhLWJpbmRpbmctbmFtZSc7XG4gICAgICAgICAgICBsZXQgbmFtZSA9ICRiaW5kaW5nLmF0dHIoc2VsZWN0b3IpO1xuICAgICAgICAgICAgaWYgKCFuYW1lLnN0YXJ0c1dpdGgoJyoqKicpKSB7XG4gICAgICAgICAgICAgICAgJGJpbmRpbmcuYXR0cihzZWxlY3RvciwgJyoqKicgKyBuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbmFtZSA9ICRiaW5kaW5nLmF0dHIoc2VsZWN0b3IpO1xuICAgICAgICAgICAgaWYgKCFuYW1lLmVuZHNXaXRoKCcqKionKSkge1xuICAgICAgICAgICAgICAgICRiaW5kaW5nLmF0dHIoc2VsZWN0b3IsIG5hbWUgKyAnKioqJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGRlbGV0ZSBhbGwgYXV0by1kaXNwb3NhYmxlIG1hY3JvIGFsaWFzZXNcbiAgICAgICAgd2hpbGUgKFN0YXRlLm1hY3JvQWxpYXNEaXNwb3NhbHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lID0gU3RhdGUubWFjcm9BbGlhc0Rpc3Bvc2Fscy5wb3AoKTtcbiAgICAgICAgICAgIGRlbGV0ZSBTdGF0ZS5tYWNyb0FsaWFzU3RvcmVbbmFtZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW5kZXIgdGhlIG5ldyBwYXNzYWdlXG4gICAgICAgIFJlbmRlcmVyLnJlbmRlcigkKGUuY3VycmVudFRhcmdldCkuYXR0cigncGFzc2FnZS1uYW1lJykpO1xuXG4gICAgICAgIC8vIGZpeFxuICAgICAgICAvKiAkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgICBzY3JvbGxUb3A6IDEwMDAwXG4gICAgICAgIH0sIDEyNTApOyAqL1xuICAgIH0pO1xuXG4gICAgLy8gY2hlY2tzIGZvciBqb25haC1zdHlsZSByZXdpbmQgYWN0aW9uc1xuICAgIGNvbnN0IHBhc3RTZWxlY3RvciA9ICd0dy1wYXNzYWdlOm5vdCguY3VycmVudCk6bm90KC5mdXR1cmUpJztcbiAgICAkZGlzcGxheVBhc3NhZ2Uub24oJ2NsaWNrJywgcGFzdFNlbGVjdG9yLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIHJlbmRlciBiaW5kaW5nIHNlbGVjdG9ycyB0ZW1wb3JhcmlseSB1bnVzYWJsZVxuICAgICAgICAkKCd0dy1iaW5kaW5nJykuZWFjaChmdW5jdGlvbihfLCBiaW5kaW5nKSB7XG4gICAgICAgICAgICBjb25zdCAkYmluZGluZyA9ICQoYmluZGluZyk7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RvciA9ICdkYXRhLWJpbmRpbmctc2VsZWN0b3InO1xuICAgICAgICAgICAgbGV0IGF0dHIgPSAkYmluZGluZy5hdHRyKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmICghYXR0ci5zdGFydHNXaXRoKCcqKionKSkge1xuICAgICAgICAgICAgICAgICRiaW5kaW5nLmF0dHIoc2VsZWN0b3IsICcqKionICsgYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdHRyID0gJGJpbmRpbmcuYXR0cihzZWxlY3Rvcik7XG4gICAgICAgICAgICBpZiAoIWF0dHIuZW5kc1dpdGgoJyoqKicpKSB7XG4gICAgICAgICAgICAgICAgJGJpbmRpbmcuYXR0cihzZWxlY3RvciwgYXR0ciArICcqKionKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHJlbW92ZSAqKiogICoqKiwgcmVhY3RpdmF0aW5nIGJpbmRpbmdzIG9uIHRoZSBjdXJyZW50IHBhc3NhZ2VcbiAgICAgICAgJChlLnRhcmdldCkuZmluZCgndHctYmluZGluZycpLmVhY2goZnVuY3Rpb24oXywgYmluZGluZykge1xuICAgICAgICAgICAgY29uc3QgJGJpbmRpbmcgPSAkKGJpbmRpbmcpO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSAnZGF0YS1iaW5kaW5nLXNlbGVjdG9yJztcbiAgICAgICAgICAgIGNvbnN0IGF0dHIgPSAkYmluZGluZy5hdHRyKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICRiaW5kaW5nLmF0dHIoc2VsZWN0b3IsIGF0dHIuc2xpY2UoMywgLTMpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgaWQgPSAkKGUuY3VycmVudFRhcmdldCkuYXR0cignZGF0YS1pZCcpO1xuICAgICAgICBSZW5kZXJlci5yZW5kZXIoaWQsICdyZXdpbmQnLCBDb25maWcucmVuZGVyVHlwZXMuam9uYWgpO1xuICAgIH0pO1xuXG4gICAgLy8gY2hlY2tzIGZvciBqb25haC1zdHlsZSBmYXN0LWZvcndhcmQgYWN0aW9uc1xuICAgICRkaXNwbGF5UGFzc2FnZS5vbignY2xpY2snLCAndHctcGFzc2FnZS5mdXR1cmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIC8vIHJlbmRlciBiaW5kaW5nIHNlbGVjdG9ycyB0ZW1wb3JhcmlseSB1bnVzYWJsZVxuICAgICAgICAkKCd0dy1iaW5kaW5nJykuZWFjaChmdW5jdGlvbihfLCBiaW5kaW5nKSB7XG4gICAgICAgICAgICBjb25zdCAkYmluZGluZyA9ICQoYmluZGluZyk7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3RvciA9ICdkYXRhLWJpbmRpbmctc2VsZWN0b3InO1xuICAgICAgICAgICAgbGV0IGF0dHIgPSAkYmluZGluZy5hdHRyKHNlbGVjdG9yKTtcbiAgICAgICAgICAgIGlmICghYXR0ci5zdGFydHNXaXRoKCcqKionKSkge1xuICAgICAgICAgICAgICAgICRiaW5kaW5nLmF0dHIoc2VsZWN0b3IsICcqKionICsgYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdHRyID0gJGJpbmRpbmcuYXR0cihzZWxlY3Rvcik7XG4gICAgICAgICAgICBpZiAoIWF0dHIuZW5kc1dpdGgoJyoqKicpKSB7XG4gICAgICAgICAgICAgICAgJGJpbmRpbmcuYXR0cihzZWxlY3RvciwgYXR0ciArICcqKionKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHJlbW92ZSAqKiogICoqKiwgcmVhY3RpdmF0aW5nIGJpbmRpbmdzIG9uIHRoZSBjdXJyZW50IHBhc3NhZ2VcbiAgICAgICAgJChlLnRhcmdldCkuZmluZCgndHctYmluZGluZycpLmVhY2goZnVuY3Rpb24oXywgYmluZGluZykge1xuICAgICAgICAgICAgY29uc3QgJGJpbmRpbmcgPSAkKGJpbmRpbmcpO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSAnZGF0YS1iaW5kaW5nLXNlbGVjdG9yJztcbiAgICAgICAgICAgIGNvbnN0IGF0dHIgPSAkYmluZGluZy5hdHRyKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICRiaW5kaW5nLmF0dHIoc2VsZWN0b3IsIGF0dHIuc2xpY2UoMywgLTMpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgaWQgPSAkKGUudGFyZ2V0KS5hdHRyKCdkYXRhLWlkJyk7XG4gICAgICAgIFJlbmRlcmVyLnJlbmRlcihpZCwgJ2Zhc3Rmb3J3YXJkJywgQ29uZmlnLnJlbmRlclR5cGVzLmpvbmFoKTtcbiAgICB9KTtcblxuICAgIC8vIGNoZWNrcyBmb3Igc3VnYXJjdWJlLXN0eWxlIHJld2luZCBhY3Rpb25zXG4gICAgJGRpc3BsYXlQYXNzYWdlLm9uKCdjbGljaycsICd0dy1oaXN0b3J5LWJ1dHRvbi5iYWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBjb25zdCBwYXNzYWdlTmFtZSA9IFN0YXRlLmhpc3RvcnlbU3RhdGUuaGlzdG9yeS5sZW5ndGggLSAyXTtcblxuICAgICAgICBSZW5kZXJlci5yZW5kZXIocGFzc2FnZU5hbWUsICdyZXdpbmQnLCBDb25maWcucmVuZGVyVHlwZXMuc3VnYXJjdWJlKTtcbiAgICB9KTtcblxuICAgIC8vIGNoZWNrcyBmb3Igc3VnYXJjdWJlLXN0eWxlIGZhc3QtZm9yd2FyZCBhY3Rpb25zXG4gICAgJGRpc3BsYXlQYXNzYWdlLm9uKCdjbGljaycsICd0dy1oaXN0b3J5LWJ1dHRvbi5mb3J3YXJkJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBjb25zdCBwYXNzYWdlTmFtZSA9IFN0YXRlLmhpc3RvcnlGdXR1cmVbMF07XG5cbiAgICAgICAgUmVuZGVyZXIucmVuZGVyKHBhc3NhZ2VOYW1lLFxuICAgICAgICAgICAgJ2Zhc3Rmb3J3YXJkJyxcbiAgICAgICAgICAgIENvbmZpZy5yZW5kZXJUeXBlcy5zdWdhcmN1YmUpO1xuICAgIH0pO1xuXG4gICAgLy8gY2hlY2tzIGZvciBjb2xsYXBzZXIgY2xpY2tzXG4gICAgY29uc3QgY29udGFpbmVycyA9ICQoJyNkZWZhdWx0TWVudScpXG4gICAgICAgIC5hZGQoJGRpc3BsYXlQYW5lKVxuICAgICAgICAuYWRkKHBhc3NhZ2VQYW5lKTtcblxuICAgIGNvbnRhaW5lcnMub24oJ2NsaWNrJywgJy5jb2xsYXBzZXInLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNvbnN0ICR0YXJnZXQgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gICAgICAgIGNvbnN0IG9uID0gJHRhcmdldC5hdHRyKCdkYXRhLW9uJyk7XG4gICAgICAgIGNvbnN0IG9mZiA9ICR0YXJnZXQuYXR0cignZGF0YS1vZmYnKTtcbiAgICAgICAgY29uc3QgJHBhcmVudCA9ICR0YXJnZXQucGFyZW50KCk7XG4gICAgICAgIGlmICgkcGFyZW50Lmhhc0NsYXNzKCdjb2xsYXBzZWQnKSkge1xuICAgICAgICAgICAgJHRhcmdldC50ZXh0KG9uKTtcbiAgICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJHRhcmdldC50ZXh0KG9mZik7XG4gICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCdjb2xsYXBzZWQnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChjb250YWluZXJzKS5vbignY2xpY2snLCAnLmRlc3RydWN0b3InLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNvbnN0ICRkZWZhdWx0TWVudSA9ICQoJyNkZWZhdWx0TWVudScpXG4gICAgICAgICRkZWZhdWx0TWVudS5hdHRyKCdkYXRhLWNob2ljZScsICdvcHRpb25zJyk7XG4gICAgICAgICRkZWZhdWx0TWVudS5maW5kKCc6bm90KHR3LWVsZW1lbnQtcmVzaXplcik6bm90KC5jb2xsYXBzZXIpJylcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICRkZWZhdWx0TWVudS5maW5kKCcjZGVmYXVsdE9wdGlvbnMnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICRkZWZhdWx0TWVudS5maW5kKCd0dy1lbGVtZW50LXJlc2l6ZXInKVxuICAgICAgICAgICAgLmF0dHIoJ2RhdGEtc2VsZWN0b3InLCAnI2RlZmF1bHRPcHRpb25zJyk7XG4gICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIGNvbnRhaW5lcnMub24oJ2NoYW5nZSBtb3VzZW1vdmUnLCAnaW5wdXRbdHlwZT1cInJhbmdlXCJdJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBjb25zdCAkdGFyZ2V0ID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAkKGUuY3VycmVudFRhcmdldCkubmV4dCgnLnJhbmdlUmVhZG91dCcpLnRleHQoJHRhcmdldC52YWwoKSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCAkZGVmYXVsdE1lbnUgPSAkKCcjZGVmYXVsdE1lbnUnKTtcblxuICAgICQoJyNnb3RvQXVkaW8nKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgICRkZWZhdWx0TWVudS5hdHRyKCdkYXRhLWNob2ljZScsICdhdWRpbycpO1xuICAgICAgICAkZGVmYXVsdE1lbnUuZmluZCgnOm5vdCh0dy1lbGVtZW50LXJlc2l6ZXIpOm5vdCguY29sbGFwc2VyKScpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkZGVmYXVsdE1lbnUuZmluZCgnI2RlZmF1bHRBdWRpb0Rpc3BsYXknKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICRkZWZhdWx0TWVudS5maW5kKCd0dy1lbGVtZW50LXJlc2l6ZXInKVxuICAgICAgICAgICAgLmF0dHIoJ2RhdGEtc2VsZWN0b3InLCAndHctYXVkaW8tZGlzcGxheScpO1xuICAgICAgICBpZiAoISQoZGVmYXVsdE1lbnUpLmZpbmQoJy5kZXN0cnVjdG9yJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAkZGVmYXVsdE1lbnUuYXBwZW5kKCc8YnV0dG9uIGNsYXNzPVwiZGVzdHJ1Y3RvclwiPlg8L2J1dHRvbj4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnI2dvdG9BY2Nlc3NpYmlsaXR5JykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICAkZGVmYXVsdE1lbnUuYXR0cignZGF0YS1jaG9pY2UnLCAnYWNjZXNzaWJpbGl0eScpO1xuICAgICAgICAkZGVmYXVsdE1lbnUuZmluZCgnOm5vdCh0dy1lbGVtZW50LXJlc2l6ZXIpOm5vdCguY29sbGFwc2VyKScpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkZGVmYXVsdE1lbnUuZmluZCgnI2RlZmF1bHRBY2Nlc3NpYmlsaXR5RGlzcGxheScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgJGRlZmF1bHRNZW51LmZpbmQoJ3R3LWVsZW1lbnQtcmVzaXplcicpXG4gICAgICAgICAgICAuYXR0cignZGF0YS1zZWxlY3RvcicsICcjZGVmYXVsdEFjY2Vzc2liaWxpdHlEaXNwbGF5Jyk7XG4gICAgICAgIGlmICghJChkZWZhdWx0TWVudSkuZmluZCgnLmRlc3RydWN0b3InKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICRkZWZhdWx0TWVudS5hcHBlbmQoJzxidXR0b24gY2xhc3M9XCJkZXN0cnVjdG9yXCI+WDwvYnV0dG9uPicpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcuYWNjZXNzaWJpbGl0eUlucHV0Jykub24oJ2NoYW5nZSBtb3VzZW1vdmUnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudElEcyA9IGZyb20oJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoKSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24ocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5pZDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChwYXJlbnRJRHMuaW5kZXhPZignb3B0aW9uc0ZvbnRTaXplJykgIT09IC0xKSB7XG4gICAgICAgICAgICBzZXRGb250U2l6ZShlLmN1cnJlbnRUYXJnZXQudmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHBhcmVudElEcy5pbmRleE9mKCdvcHRpb25zQmFja2dyb3VuZENvbG9yJykgIT09IC0xKSB7XG4gICAgICAgICAgICBsZXQgY29sb3JzID0gW107XG4gICAgICAgICAgICAkKCcjb3B0aW9uc0JhY2tncm91bmRDb2xvcicpLmZpbmQoJy5hY2Nlc3NpYmlsaXR5SW5wdXQnKVxuICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKF8sIGlucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9ycy5wdXNoKGlucHV0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPCAzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmUgb2YgdGhlIGFjY2Vzc2liaWxpdHkgY29sb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICdzbGlkZXJzIG5vIGxvbmdlciBleGlzdHMuIENhbm5vdCBjaGFuZ2UgY29sb3IuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldEJhY2tncm91bmRDb2xvcihjb2xvcnNbMF0sIGNvbG9yc1sxXSwgY29sb3JzWzJdKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJlbnRJRHMuaW5kZXhPZignb3B0aW9uc0JyaWdodG5lc3MnKSAhPT0gLTEgfHxcbiAgICAgICAgICAgIHBhcmVudElEcy5pbmRleE9mKCdvcHRpb25zQ29udHJhc3QnKSAhPT0gLTEgfHxcbiAgICAgICAgICAgIHBhcmVudElEcy5pbmRleE9mKCdvcHRpb25zU2F0dXJhdGlvbicpICE9PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVPYmogPSB7XG4gICAgICAgICAgICAgICAgYnJpZ2h0bmVzczogJCgnI29wdGlvbnNCcmlnaHRuZXNzJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5hY2Nlc3NpYmlsaXR5SW5wdXQnKS52YWwoKSxcbiAgICAgICAgICAgICAgICBjb250cmFzdDogJCgnI29wdGlvbnNDb250cmFzdCcpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcuYWNjZXNzaWJpbGl0eUlucHV0JykudmFsKCksXG4gICAgICAgICAgICAgICAgc2F0dXJhdGlvbjogJCgnI29wdGlvbnNTYXR1cmF0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5hY2Nlc3NpYmlsaXR5SW5wdXQnKS52YWwoKSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNldEZpbHRlcih2YWx1ZU9iaik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCAkaHRtbHMgPSAkKGRvY3VtZW50LmJvZHkucGFyZW50RWxlbWVudCkuYWRkKGZyYW1lSFRNTCk7XG4gICAgd2luZG93LnNldEZvbnRTaXplID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgJGh0bWxzLmNzcygnZm9udC1zaXplJywgdmFsdWUgKyAnJScpO1xuICAgIH07XG5cbiAgICB3aW5kb3cuc2V0QmFja2dyb3VuZENvbG9yID0gZnVuY3Rpb24ocmVkLCBncmVlbiwgYmx1ZSkge1xuICAgICAgICBjb25zdCBjb2xvclN0cmluZyA9ICdyZ2IoJyArXG4gICAgICAgICAgICByZWQgKyAnLCAnICtcbiAgICAgICAgICAgIGdyZWVuICsgJywgJyArXG4gICAgICAgICAgICBibHVlICsgJyknO1xuICAgICAgICAkaHRtbHMuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgY29sb3JTdHJpbmcpO1xuICAgIH07XG5cbiAgICB3aW5kb3cuc2V0RmlsdGVyID0gZnVuY3Rpb24odmFsdWVPYmplY3QpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyU3RyaW5nID1cbiAgICAgICAgICAgICdicmlnaHRuZXNzKCcgKyB2YWx1ZU9iamVjdC5icmlnaHRuZXNzICsgJykgJyArXG4gICAgICAgICAgICAnY29udHJhc3QoJyArIHZhbHVlT2JqZWN0LmNvbnRyYXN0ICsgJykgJyArXG4gICAgICAgICAgICAnc2F0dXJhdGUoJyArIHZhbHVlT2JqZWN0LnNhdHVyYXRpb24gKyAnKSc7XG4gICAgICAgICRodG1scy5jc3Moe1xuICAgICAgICAgICAgJy13ZWJraXQtZmlsdGVyJzogZmlsdGVyU3RyaW5nLFxuICAgICAgICAgICAgJ2ZpbHRlcic6IGZpbHRlclN0cmluZyxcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICQoJyNnb3RvQWRkTm9kZXMnKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgICRkZWZhdWx0TWVudS5hdHRyKCdkYXRhLWNob2ljZScsICdhZGRub2RlcycpO1xuICAgICAgICAkZGVmYXVsdE1lbnUuZmluZCgnOm5vdCh0dy1lbGVtZW50LXJlc2l6ZXIpOm5vdCguY29sbGFwc2VyKScpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkZGVmYXVsdE1lbnUuZmluZCgnI2RlZmF1bHROb2RlYWRkZXJEaXNwbGF5JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkZGVmYXVsdE1lbnUuZmluZCgndHctZWxlbWVudC1yZXNpemVyJylcbiAgICAgICAgICAgIC5hdHRyKCdkYXRhLXNlbGVjdG9yJywgJyNkZWZhdWx0Tm9kZWFkZGVyRGlzcGxheScpO1xuICAgICAgICBpZiAoISQoZGVmYXVsdE1lbnUpLmZpbmQoJy5kZXN0cnVjdG9yJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAkZGVmYXVsdE1lbnUuYXBwZW5kKCc8YnV0dG9uIGNsYXNzPVwiZGVzdHJ1Y3RvclwiPlg8L2J1dHRvbj4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnI2FkZE5vZGVzQW5kU2F2ZScpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgY29uc3QgUElEcyA9IFtdO1xuICAgICAgICBsZXQgbWF4UElEID0gMDtcbiAgICAgICAgbGV0ICRzdG9yeWRhdGEgPSAkKCd0dy1zdG9yeWRhdGEnKTtcbiAgICAgICAgY29uc3QgJHN0b3J5UGFzc2FnZXMgPSAkc3RvcnlkYXRhLmZpbmQoJ3R3LXBhc3NhZ2VkYXRhJyk7XG4gICAgICAgIGNvbnN0IG5hbWVzID0gW107XG4gICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCAkc3RvcnlQYXNzYWdlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gJHN0b3J5UGFzc2FnZXNbaWldO1xuICAgICAgICAgICAgbGV0IHBpZCA9IGNoaWxkLmdldEF0dHJpYnV0ZSgncGlkJyk7XG4gICAgICAgICAgICBpZiAoIXBpZCkge1xuICAgICAgICAgICAgICAgIG5ldyB3aWRlQWxlcnQoJ09uZSBvZiB0aGUgdHctcGFzc2FnZWRhdGEgbm9kZXMgaW4gdGhlIGxvYWRlZCBzdG9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xhY2tzIGEgcGlkIGF0dHJpYnV0ZS4gQ2Fubm90IGFkZCBub2Rlcy4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBpZCA9IE51bWJlci5wYXJzZUludChwaWQpOyBcbiAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4ocGlkKSkge1xuICAgICAgICAgICAgICAgIG5ldyB3aWRlQWxlcnQoJ09uZSBvZiB0aGUgdHctcGFzc2FnZWRhdGEgbm9kZXMgaW4gdGhlIGxvYWRlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3N0b3J5IGhhcyBhIHBpZCBhdHRyaWJ1dGUgd2hvc2UgdmFsdWUgaXMgbm90IGEgc3RyaW5nICcgK1xuICAgICAgICAgICAgICAgICAgICAncmVwcmVzZW50YXRpb24gb2YgYW4gaW50ZWdlciAoMSwgMiwgMywgZXRjLikuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FkZCBub2Rlcy4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFBJRHMuaW5kZXhPZihwaWQpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIG5ldyB3aWRlQWxlcnQoJ0F0IGxlYXN0IHR3byBvZiB0aGUgdHctcGFzc2FnZWRhdGEgbm9kZXMgaW4gdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAnbG9hZGVkIHN0b3J5IGhhdmUgYW4gaWRlbnRpY2FsIHBpZCBhdHRyaWJ1dGUuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2FkZCBub2Rlcy4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFBJRHMucHVzaChwaWQpO1xuICAgICAgICAgICAgbWF4UElEID0gTWF0aC5tYXgobWF4UElELCBwaWQpO1xuXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gY2hpbGQuZ2V0QXR0cmlidXRlKCduYW1lJyk7XG4gICAgICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ09uZSBvZiB0aGUgdHctcGFzc2FnZWRhdGEgbm9kZXMgaW4gdGhlIGxvYWRlZCBzdG9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xhY2tzIGEgbmFtZSBhdHRyaWJ1dGUuIENhbm5vdCBhZGQgbm9kZXMuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmFtZXMuaW5kZXhPZihuYW1lKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBuZXcgd2lkZUFsZXJ0KCdBdCBsZWFzdCB0d28gb2YgdGhlIHR3LXBhc3NhZ2VkYXRhIG5vZGVzIGluIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xvYWRlZCBzdG9yeSBoYXZlIGFuIGlkZW50aWNhbCBuYW1lIGF0dHJpYnV0ZS4gQ2Fubm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAnYWRkIG5vZGVzLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmFtZXMucHVzaChuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdvIHRvIHRoZSBuZXh0IHVudXNlZCB2YWx1ZVxuICAgICAgICBtYXhQSUQrKztcblxuICAgICAgICBjb25zdCAkdGV4dGFyZWEgPSAkKGUudGFyZ2V0KS5wYXJlbnQoKS5maW5kKCcjbm9kZUFkZGVyVGV4dGFyZWEnKTtcbiAgICAgICAgY29uc3QgY29udGVudCA9ICR0ZXh0YXJlYS52YWwoKTtcbiAgICAgICAgY29uc3Qgc3BsaXRDb250ZW50ID0gY29udGVudC5zcGxpdCgnOjonKVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEudHJpbSgpICE9PSAnJyBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgbmV3UGFzc2FnZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNwbGl0Q29udGVudC5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBzcGxpdENvbnRlbnRbaWldO1xuICAgICAgICAgICAgY29uc3QgcGFzc2FnZU5hbWUgPSBjb250ZW50LnNwbGl0KC9cXHMvKVswXTtcbiAgICAgICAgICAgIGNvbnN0IHBhc3NhZ2VUZXh0ID0gY29udGVudC5zbGljZShjb250ZW50LnNlYXJjaCgvXFxuLykgKyAxKTtcblxuICAgICAgICAgICAgaWYgKHBhc3NhZ2VOYW1lICYmIG5hbWVzLmluZGV4T2YocGFzc2FnZU5hbWUpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIG5ldyB3aWRlQWxlcnQoJ1RoZSBuYW1lLCAnICsgcGFzc2FnZU5hbWUgKyAnLCBhbHJlYWR5IGV4aXN0cyAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2luIGEgdHctcGFzc2FnZWRhdGEgd2l0aGluIHRoZSBjdXJyZW50bHkgbG9hZGVkICcgK1xuICAgICAgICAgICAgICAgICAgICAnc3RvcnkuIENhbm5vdCBhZGQgbm9kZXMuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXdQYXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBwYXNzYWdlVGV4dCxcbiAgICAgICAgICAgICAgICBuYW1lOiBwYXNzYWdlTmFtZSxcbiAgICAgICAgICAgICAgICBwaWQ6IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0ICRodG1sID0gJChkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuY2xvbmVOb2RlKHRydWUpKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSAnYm9keSA+IDpub3QodHctc3RvcnlkYXRhKSwgaGVhZCc7XG4gICAgICAgICRodG1sLmZpbmQoc2VsZWN0b3IpLnJlbW92ZSgpO1xuICAgICAgICAkc3RvcnlkYXRhID0gJGh0bWwuZmluZCgndHctc3RvcnlkYXRhJyk7XG4gICAgICAgICRzdG9yeWRhdGEuYXR0cignZmxhZ3MnLCAnbm9kZWV4cGFuZGVkJyk7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIG5ld1Bhc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24ocGFzc2FnZSkge1xuICAgICAgICAgICAgY29uc3QgcGlkID0gbWF4UElEKys7XG4gICAgICAgICAgICBpZiAoIXBhc3NhZ2UubmFtZSkge1xuICAgICAgICAgICAgICAgIHBhc3NhZ2UubmFtZSA9ICdub2RlTXVuZ2VyVGVtcCcgKyBwaWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0ICRuZXdQYXNzYWdlID0gJCgnPHR3LXBhc3NhZ2VkYXRhPjwvdHctcGFzc2FnZWRhdGE+Jyk7XG4gICAgICAgICAgICAkbmV3UGFzc2FnZS5hdHRyKHtcbiAgICAgICAgICAgICAgICBwaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogcGFzc2FnZS5uYW1lLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnMTAwMCwgJyArIDgwICogaW5kZXgrKyxcbiAgICAgICAgICAgICAgICB0YWdzOiAnJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkbmV3UGFzc2FnZS50ZXh0KHBhc3NhZ2UudGV4dCk7XG5cbiAgICAgICAgICAgICRzdG9yeWRhdGEuYXBwZW5kKCRuZXdQYXNzYWdlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2F2ZUZpbGUoXG4gICAgICAgICAgICAkaHRtbC5maW5kKCd0dy1zdG9yeWRhdGEnKS5hdHRyKCduYW1lJykgKyAnRXhwYW5kZWQnLFxuICAgICAgICAgICAgJ2h0bWwnLFxuICAgICAgICAgICAgJGh0bWxbMF0ub3V0ZXJIVE1MKTtcbiAgICB9KTtcblxuICAgICQoJyN0b2dnbGVUcmFuc2NyaXB0JykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICBPcHRpb25zLnRvZ2dsZVRyYW5zY3JpcHRSZWNvcmRpbmcoKTtcbiAgICAgICAgaWYgKFN0YXRlLnJlY29yZGluZ1RyYW5zY3JpcHQpIHtcbiAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5pbm5lckhUTUwgPSAnT2ZmJztcbiAgICAgICAgICAgICQoJyNwcmludFRyYW5zY3JpcHRUb0NvbnNvbGUnKS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuaW5uZXJIVE1MID0gJ09uJztcbiAgICAgICAgICAgICQoJyNwcmludFRyYW5zY3JpcHRUb0NvbnNvbGUnKS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJyNnb3RvVHJhbnNjcmlwdCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAkZGVmYXVsdE1lbnUuYXR0cignZGF0YS1jaG9pY2UnLCAndHJhbnNjcmlwdCcpO1xuICAgICAgICAkZGVmYXVsdE1lbnUuZmluZCgnOm5vdCh0dy1lbGVtZW50LXJlc2l6ZXIpOm5vdCguY29sbGFwc2VyKScpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAkZGVmYXVsdE1lbnUuZmluZCgnI2RlZmF1bHRUcmFuc2NyaXB0RGlzcGxheScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgT3B0aW9ucy51cGRhdGVUcmFuc2NyaXB0VmlzdWFscygpO1xuICAgICAgICAkZGVmYXVsdE1lbnUuZmluZCgndHctZWxlbWVudC1yZXNpemVyJylcbiAgICAgICAgICAgIC5hdHRyKCdkYXRhLXNlbGVjdG9yJywgJ3R3LXRyYW5zY3JpcHQtZGlzcGxheScpO1xuXG4gICAgICAgIGlmICghJChkZWZhdWx0TWVudSkuZmluZCgnLmRlc3RydWN0b3InKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICRkZWZhdWx0TWVudS5hcHBlbmQoJzxidXR0b24gY2xhc3M9XCJkZXN0cnVjdG9yXCI+WDwvYnV0dG9uPicpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcjcHJpbnRUcmFuc2NyaXB0JykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICBnYXRlbHlMb2coU3RhdGUucHJpbnRUcmFuc2NyaXB0KCd0ZXh0JykpO1xuICAgIH0pO1xuXG4gICAgJChmcmFtZUJvZHkpLm9uKCdjbGljaycsICdbZGF0YS10cmFuc2NyaXB0LWlkZW50aWZpZXJdJywgZnVuY3Rpb24oZSkge1xuICAgICAgICBPcHRpb25zLnNldFRyYW5zY3JpcHREaXNwbGF5KGUudGFyZ2V0KTtcbiAgICB9KTtcblxuICAgICQoZnJhbWVCb2R5KS5vbignY2xpY2snLCAnLnNwYW5uZXInLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNvbnN0IHRndCA9IGUudGFyZ2V0O1xuICAgICAgICBpZiAodGd0ICYmIHRndC5wYXJlbnROb2RlICYmIHRndC5wYXJlbnROb2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBjb25zdCB0b0NsaWNrID1cbiAgICAgICAgICAgICAgICB0Z3QucGFyZW50Tm9kZS5uZXh0U2libGluZy5xdWVyeVNlbGVjdG9yKCcuY29sbGFwc2VyJyk7XG4gICAgICAgICAgICBpZiAodG9DbGljaykge1xuICAgICAgICAgICAgICAgIHRvQ2xpY2suY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IGVsZW1lbnRSZXNpemluZyA9IG51bGw7XG4gICAgJCgndHctZWxlbWVudC1yZXNpemVyJykubW91c2Vkb3duKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZWxlbWVudFJlc2l6aW5nID0gZS50YXJnZXQ7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgd2luZG93Lm1vdXNlRXZlbnRzID0ge1xuICAgICAgICBpc0Rvd246IGZhbHNlLFxuICAgIH07XG5cbiAgICAkKCdodG1sJykubW91c2Vkb3duKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgd2luZG93Lm1vdXNlRXZlbnRzLmlzRG93biA9IHRydWU7XG4gICAgICAgIHdpbmRvdy5tb3VzZUV2ZW50c1tlLndoaWNoXSA9IHtcbiAgICAgICAgICAgIGV2ZW50OiBlLFxuICAgICAgICAgICAgaXNEb3duOiB0cnVlLFxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgJCgnaHRtbCcpLm1vdXNlbW92ZShmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghZS53aGljaCkge1xuICAgICAgICAgICAgd2luZG93Lm1vdXNlRXZlbnRzID0ge1xuICAgICAgICAgICAgICAgIGlzRG93bjogZmFsc2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZS53aGljaCBpbiB3aW5kb3cubW91c2VFdmVudHMpIHtcbiAgICAgICAgICAgIHdpbmRvdy5tb3VzZUV2ZW50c1tlLndoaWNoXS5ldmVudCA9IGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aW5kb3cubW91c2VFdmVudHNbZS53aGljaF0gPSB7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IGUsXG4gICAgICAgICAgICAgICAgaXNEb3duOiBmYWxzZSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnaHRtbCcpLm1vdXNldXAoZnVuY3Rpb24oZSkge1xuICAgICAgICB3aW5kb3cubW91c2VFdmVudHNbZS53aGljaF0gPSB7XG4gICAgICAgICAgICBldmVudDogZSxcbiAgICAgICAgICAgIGlzRG93bjogZmFsc2UsXG4gICAgICAgIH07XG5cbiAgICAgICAgJCgndHctZWxlbWVudC1yZXNpemVyJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICBlbGVtZW50UmVzaXppbmcgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgJCgnaHRtbCcpLmFkZChmcmFtZUhUTUwpLm1vdXNlbW92ZShmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLndoaWNoIGluIHdpbmRvdy5tb3VzZUV2ZW50cyAmJlxuICAgICAgICAgICAgd2luZG93Lm1vdXNlRXZlbnRzW2Uud2hpY2hdLmlzRG93biAmJlxuICAgICAgICAgICAgZWxlbWVudFJlc2l6aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aEVsZW1lbnRUb1BlcmNlbnRhZ2UoZWxlbWVudFJlc2l6aW5nLCBlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgd2luZG93LmtleUV2ZW50cyA9IHt9O1xuICAgICQoJ2h0bWwnKS5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgd2luZG93LmtleUV2ZW50c1tlLndoaWNoXSA9IHtcbiAgICAgICAgICAgIGV2ZW50OiBlLFxuICAgICAgICAgICAgaXNEb3duOiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgd2luZG93LmtleUV2ZW50cy5pc0Rvd24gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgJCgnaHRtbCcpLmtleXVwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgd2luZG93LmtleUV2ZW50c1tlLndoaWNoXSA9IHtcbiAgICAgICAgICAgIGV2ZW50OiBlLFxuICAgICAgICAgICAgaXNEb3duOiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZvdW5kVHJ1ZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gd2luZG93LmtleUV2ZW50cykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZih3aW5kb3cua2V5RXZlbnRzW2tleV0pID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgIHdpbmRvdy5rZXlFdmVudHNba2V5XSAmJlxuICAgICAgICAgICAgICAgICdrZXlEb3duJyBpbiB3aW5kb3cua2V5RXZlbnRzW2tleV0gJiZcbiAgICAgICAgICAgICAgICB3aW5kb3cua2V5RXZlbnRzW2tleV0ua2V5RG93biA9PT0gdHJ1ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3VuZFRydWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghZm91bmRUcnVlKSB7XG4gICAgICAgICAgICB3aW5kb3cua2V5RXZlbnRzLmlzRG93biA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiB3aWR0aEVsZW1lbnRUb1BlcmNlbnRhZ2UoZWxlbWVudCwgZSkge1xuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIGdhdGVseUxvZygnVGhlIGVsZW1lbnQgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICd3aW5kb3cud2lkdGhNZW51RWxlbWVudFRvUGVyY2VudGFnZSBpcyBub3QgdmFsaWQuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAnY2hhbmdlIGVsZW1lbnQgcGFyZW50IHdpZHRoLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2lkdGggPSAkKCdodG1sJykud2lkdGgoKSAtIGUuc2NyZWVuWDtcbiAgICAgICAgJCgkKGVsZW1lbnQpLmF0dHIoJ2RhdGEtc2VsZWN0b3InKSkuY3NzKHtcbiAgICAgICAgICAgICd3aWR0aCc6IHdpZHRoICsgJ3B4JyxcbiAgICAgICAgICAgICd3aWR0aCc6ICdjYWxjKCcgKyB3aWR0aCArICdweCAtIDQuNjdlbSknLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHdpbmRvdy53aWR0aEVsZW1lbnRUb1BlcmNlbnRhZ2UgPSB3aWR0aEVsZW1lbnRUb1BlcmNlbnRhZ2U7XG5cbiAgICAkKCcjc2F2ZUdhbWUnKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgIHNhdmVGaWxlKCQoJyNzYXZlRmlsZW5hbWUnKS52YWwoKSwgJ2h0bWwnKTtcbiAgICAgICAgJCgnI3NhdmVGaWxlbmFtZScpLnZhbCgnJyk7XG4gICAgfSk7XG5cbiAgICBpZiAocHJvY2Vzc2VkLmluZGV4T2YoJ3NhdmUnKSAhPT0gLTEpIHtcbiAgICAgICAgY29uc3Qgc2F2ZUVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0dy1zYXZlI2RlZmF1bHRTYXZlJyk7XG5cbiAgICAgICAgaWYgKHNhdmVFbGVtICYmIHNhdmVFbGVtLmNoaWxkQ291bnQgIT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlT2JqID0gc2FmZXJKU09OUGFyc2Uoc2F2ZUVsZW0uaW5uZXJUZXh0KTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZihzdGF0ZU9iaikgPT09ICdvYmplY3QnICYmIHN0YXRlT2JqKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBzdGF0ZU9iaikge1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZVtwcm9wXSA9IHN0YXRlT2JqW3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFN0YXRlLmN1cnJlbnRUaGVtZS5wcmVyZW5kZXJTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VGhlbWUucHJlcmVuZGVyID0gbmV3IEZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VGhlbWUucHJlcmVuZGVyU3RyaW5nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFN0YXRlLmN1cnJlbnRUaGVtZS5wb3N0cmVuZGVyU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudFRoZW1lLnBvc3RyZW5kZXIgPSBuZXcgRnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRUaGVtZS5wb3N0cmVuZGVyU3RyaW5nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgTWFjcm8ud29ybGQucmVzdG9yZU1vZGVsUHJvdG9GdW5jcy5oYW5kbGVyKCk7XG5cbiAgICAgICAgICAgICQoJ3R3LXNhdmUjZGVmYXVsdFNhdmUnKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBhIHNhdmUgZmxhZyBvbiB0aGlzIEhUTUwgZmlsZSBidXQgbm8gJyArXG4gICAgICAgICAgICAgICAgJ3R3LXNhdmUjZGVmYXVsdFNhdmUgZWxlbWVudCB0aGF0IGNvbnRhaW5zIGEgc3RhdGUuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBldmVyeXRoaW5nIHRoYXQgZm9sbG93cyBtdXN0IGJlIG5vbi1ldmVudCBsb2dpYyB1bm5lZWRlZCBmb3JcbiAgICAgKiBub24tc2F2ZSBsYXVuY2hlcyAqL1xuICAgIGNvbnN0IHN0YXJ0Tm9kZSA9ICRzdG9yeWRhdGEuYXR0cignc3RhcnROb2RlJyk7XG4gICAgY29uc3QgJHN0YXJ0UGFzc2FnZSA9ICQoJ3R3LXBhc3NhZ2VkYXRhW3BpZD1cIicgKyBzdGFydE5vZGUgKyAnXCJdJyk7XG5cbiAgICAvLyBldmFscyBhbGwgc3Rvcnkgc2NyaXB0c1xuICAgIHNlbGVjdG9yID0gJ3NjcmlwdCwgdHctcGFzc2FnZWRhdGFbdGFnc349XCJzY3JpcHRcIl0nO1xuICAgICRzdG9yeWRhdGEuZmluZChzZWxlY3RvcikuZWFjaChmdW5jdGlvbihfLCBhYSkge1xuICAgICAgICAkKGFhKS5hdHRyKCdkYXRhLXNyYycsICd1c2VyLWFkZGVkIHNjcmlwdCcpO1xuICAgICAgICBldmFsKGFhLmlubmVyVGV4dCk7XG4gICAgfSk7XG5cbiAgICAvLyBhcHBlbmRzIGFsbCBzdG9yeSBzdHlsZXNcbiAgICBzZWxlY3RvciA9ICdzdHlsZSwgdHctcGFzc2FnZWRhdGFbdGFnc349XCJzdHlsZVwiXSc7XG4gICAgJHN0b3J5ZGF0YS5maW5kKHNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKF8sIGFhKSB7XG4gICAgICAgICQoJ2JvZHknKS5hcHBlbmQoXG4gICAgICAgICAgICAnPHN0eWxlIGRhdGEtc3JjPVwidXNlci1hZGRlZCBzdHlsZVwiPicgK1xuICAgICAgICAgICAgYWEuaW5uZXJUZXh0ICtcbiAgICAgICAgICAgICc8L3N0eWxlPicpO1xuICAgIH0pO1xuXG4gICAgLy8gZmlyZSBhbGwgcGFzc2FnZXMgdGFnZ2VkIGxvYWRcbiAgICBzZWxlY3RvciA9ICd0dy1wYXNzYWdlZGF0YVt0YWdzfj1sb2FkXSc7XG4gICAgJHN0b3J5ZGF0YS5maW5kKHNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKF8sIGFhKSB7XG4gICAgICAgIGNvbnN0IGNsb25lID0gYWEuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBDb21waWxlci5jb21waWxlKGNsb25lKTtcbiAgICB9KTtcblxuICAgIC8vIHdpcmUgdXAgYWxsIHBhc3NhZ2VzIHRhZ2dlZCB1bmxvYWQgdG8gdGhlIGJlZm9yZXVubG9hZCBldmVudFxuICAgIHNlbGVjdG9yID0gJ3R3LXBhc3NhZ2VkYXRhW3RhZ3N+PXVubG9hZF0nO1xuICAgICRzdG9yeWRhdGEuZmluZChzZWxlY3RvcikuZWFjaChmdW5jdGlvbihfLCBhYSkge1xuICAgICAgICAkKHdpbmRvdykub24oJ2JlZm9yZXVubG9hZCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZXIucGFyc2VUZXh0KGFhLmlubmVySFRNTCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHdpbmRvdy51cGRhdGVBdWRpb0Rpc3BsYXkoKTtcblxuICAgIC8vIGFkZCB0cmFjZXJ5IGdyYW1tYXJzIGluIHNwZWNpYWwgaHRtbCBlbGVtZW50c1xuICAgIHNlbGVjdG9yID0gJ3R3LXBhc3NhZ2VkYXRhW3RhZ3N+PVwiX3RyYWNlcnlzdG9yZVwiXSwgJyArXG4gICAgICAgICd0dy1wYXNzYWdlZGF0YVt0YWdzfj1cIl90cmFjZXJ5LXN0b3JlXCJdJztcbiAgICAkc3RvcnlkYXRhLmZpbmQoc2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oXywgdHJhY2UpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRyYWNlLmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIHdpZGVBbGVydCgnQSBwYXNzYWdlIHRhZ2dlZCB0cmFjZXJ5LXN0b3JlIGxhY2tzIGEgbmFtZSBhdHRyaWJ1dGUuICcgK1xuICAgICAgICAgICAgICAgICdDYW5ub3QgYWRkIHRvIHRyYWNlcnkgc3RvcmUuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBTdGF0ZS5hZGRUcmFjZXJ5R3JhbW1hcihuYW1lLCB0cmFjZS5pbm5lckhUTUwpO1xuICAgIH0pO1xuXG4gICAgLy8gaW5pdGlhbGl6ZSB0aGUgZGVmYXVsdCBzdG9yeSBzdHlsZVxuICAgIFJlbmRlcmVyLmluaXRpYWxpemVUaGVtZSgpO1xuXG4gICAgLy8gcmVuZGVycyB0aGUgc3RhcnQgcGFzc2FnZVxuICAgIFJlbmRlcmVyLnJlbmRlcigkc3RhcnRQYXNzYWdlLmF0dHIoJ25hbWUnKSk7XG5cbiAgICAvLyBwcmV2ZW50IEZPVUM7IG1ha2Ugd2luZG93IHZpc2libGUgbm93IHRoYXQgbG9hZGluZyBpcyBjb21wbGV0ZVxuICAgICQoJ2h0bWwnKS5yZW1vdmVDbGFzcygndW5sb2FkZWQnKTtcblxuICAgIC8vIGdhdGVseSBpcyBubyBsb25nZXIgbG9hZGluZ1xuICAgIHdpbmRvdy5pc0xvYWRpbmcgPSBmYWxzZTtcbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGNvbnN0IGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcblxuICAgIGNvbnN0IGZyYW1lID0gJCgnI2RlZmF1bHRUcmFuc2NyaXB0RnJhbWUnKVswXTtcbiAgICBcbiAgICBsZXQgZnJhbWVIVE1MO1xuICAgIGxldCBmcmFtZUhlYWQ7XG4gICAgbGV0IGZyYW1lQm9keTtcbiAgICBpZiAoZnJhbWUgJiYgZnJhbWUuY29udGVudERvY3VtZW50KSB7XG4gICAgICAgIGZyYW1lSFRNTCA9IGZyYW1lLmNvbnRlbnREb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGZyYW1lSGVhZCA9IGZyYW1lSFRNTC5xdWVyeVNlbGVjdG9yKCdoZWFkJyk7XG4gICAgICAgIGZyYW1lQm9keSA9IGZyYW1lSFRNTC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gICAgfVxuXG5cbiAgICBjb25zdCAkZGVmYXVsdE1lbnUgPSAkKCcjZGVmYXVsdE1lbnUnKTtcbiAgICBcbiAgICB3aW5kb3cuT3B0aW9ucyA9IHtcbiAgICAgICAgcmVjb3JkaW5nTGV2ZWxzOiB7XG4gICAgICAgICAgICB0ZXh0Q2hhbmdlczogdHJ1ZSxcbiAgICAgICAgICAgIHBhZ2VFdmVudHM6IHRydWUsXG4gICAgICAgICAgICBzdGF0ZUNoYW5nZXM6IHRydWUsXG4gICAgICAgICAgICBsb2FkOiBmYWxzZSxcbiAgICAgICAgICAgIHBhcnNlOiBmYWxzZSxcbiAgICAgICAgICAgIHJlbmRlcjogZmFsc2UsXG4gICAgICAgIH0sXG5cbiAgICAgICAgdHJhbnNjcmlwdE11dGF0aW9uT2JzZXJ2ZXI6IG51bGwsXG5cbiAgICAgICAgdG9nZ2xlVHJhbnNjcmlwdFJlY29yZGluZygpIHtcbiAgICAgICAgICAgIFN0YXRlLnJlY29yZGluZ1RyYW5zY3JpcHQgPSAhU3RhdGUucmVjb3JkaW5nVHJhbnNjcmlwdDtcbiAgICAgICAgfSxcblxuICAgICAgICBzdGFydFRyYW5zY3JpcHRFbnRyeSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0ge307XG4gICAgICAgICAgICBmb3IgKGxldCBuYW1lIGluIFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG93TmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wID0gU3RhdGVbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGxvd05hbWUuaW5kZXhPZignYmluZGluZycpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICBsb3dOYW1lLmluZGV4T2YoJ3RyYW5zY3JpcHQnKSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgbG93TmFtZS5zdGFydHNXaXRoKCdjdXJyZW50JykgJiZcbiAgICAgICAgICAgICAgICAgICAgIWlzRnVuY3Rpb24ocHJvcCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZVtuYW1lXSA9IFN0YXRlW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgU3RhdGUuY3VycmVudFRyYW5zY3JpcHRFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICBwYXNzYWdlTmFtZTogU3RhdGUuY3VycmVudFBhc3NhZ2VOYW1lLFxuICAgICAgICAgICAgICAgIHRleHRDaGFuZ2VzOiBbXSxcbiAgICAgICAgICAgICAgICBwYWdlRXZlbnRzOiBbXSxcbiAgICAgICAgICAgICAgICBzdGF0ZUNoYW5nZXM6IFtdLFxuICAgICAgICAgICAgICAgIHBhcnNlczogW10sXG4gICAgICAgICAgICAgICAgbWFjcm9zOiBbXSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFN0YXRlLnRyYW5zY3JpcHRIaXN0b3J5LnB1c2goU3RhdGUuY3VycmVudFRyYW5zY3JpcHRFbnRyeSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZW5kVHJhbnNjcmlwdEVudHJ5KCkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG11dGF0aW9uIG9ic2VydmVyXG4gICAgICAgICAgICBpZiAoT3B0aW9ucy50cmFuc2NyaXB0TXV0YXRpb25PYnNlcnZlciAmJlxuICAgICAgICAgICAgICAgIE9wdGlvbnMudHJhbnNjcmlwdE11dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBPcHRpb25zLnRyYW5zY3JpcHRNdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVtb3ZlIGN1cnJlbnQgdHJhbnNjcmlwdCBlbnRyeSBwcm9wZXJ0eVxuICAgICAgICAgICAgU3RhdGUuY3VycmVudFRyYW5zY3JpcHRFbnRyeSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBldmVudCBjaGVja2VyXG4gICAgICAgICAgICAkKCd0dy1wYXNzYWdlLmN1cnJlbnQnKS5vZmYoJ2NsaWNrIGtleWRvd24nKTtcbiAgICAgICAgfSxcblxuICAgICAgICBwcmludFRyYW5zY3JpcHQodHlwZSkge1xuICAgICAgICAgICAgbGV0IHByaW50ZWQ7XG4gICAgICAgICAgICBsZXQgbG93ZXJUcmltVHlwZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YodHlwZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgbG93ZXJUcmltVHlwZSA9IHR5cGUudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsb3dlclRyaW1UeXBlID09PSAnaHRtbCcpIHtcbiAgICAgICAgICAgICAgICBwcmludGVkID0gT3B0aW9ucy5wcmludFRyYW5zY3JpcHRUb0hUTUwoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdHlwZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdPcHRpb25zLnByaW50VHJhbnNjcmlwdCBpcyBub3QgcmVjb2duaXplZC4gQ2Fubm90IHByaW50LicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcHJpbnRlZDtcbiAgICAgICAgfSxcblxuICAgICAgICBwcmludFRyYW5zY3JpcHRUb0hUTUwoKSB7XG4gICAgICAgICAgICAvLyBnZW5lcmF0ZSBwcmltYXJ5IGNvbnRhaW5lclxuICAgICAgICAgICAgY29uc3QgJG5vZGUgPSAkKCc8ZGl2IGlkPVwiY29udGFpbmVyXCI+PC9kaXY+Jyk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBTdGF0ZS50cmFuc2NyaXB0SGlzdG9yeS5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gU3RhdGUudHJhbnNjcmlwdEhpc3RvcnlbaWldO1xuICAgICAgICAgICAgICAgIGNvbnN0ICRlbnRyeSA9ICQoJzxkaXYgY2xhc3M9XCJlbnRyeVwiPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IGlpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgLy8gc2hvdyB0aGUgbGFzdCByZWxldmFudCBjaGFuZ2Ug4oCTIG1hY3JvcyBpZiB0aGVyZSB3YXMgb25lLCBcbiAgICAgICAgICAgICAgICAvLyBwYXJzZXMgb3RoZXJ3aXNlLCBub3RoaW5nIGlmIG5vdCBwYXJzZXNcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5tYWNyb3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlkICs9ICdfbWFjcm9zXy0xJztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ucGFyc2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZCArPSAnX3BhcnNlc18tMSc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgJHRpdGxlID1cbiAgICAgICAgICAgICAgICAgICAgJCgnPHAgZGF0YS10cmFuc2NyaXB0LWlkZW50aWZpZXI9XCInICsgaWQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1wiIGNsYXNzPVwidGl0bGVcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGUuaGlzdG9yeVtpaV0gK1xuICAgICAgICAgICAgICAgICAgICAnPC9wPicpO1xuICAgICAgICAgICAgICAgICR0aXRsZS5jc3MoJ2N1cnNvcicsICdwb2ludGVyJyk7XG4gICAgICAgICAgICAgICAgJGVudHJ5LmFwcGVuZCgkdGl0bGUpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgJGNvbGxhcHNlciA9ICQoJzxidXR0b24+LTwvYnV0dG9uPicpO1xuICAgICAgICAgICAgICAgICRjb2xsYXBzZXIuYXR0cih7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnY29sbGFwc2VyJyxcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEtb24nOiAnLScsXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLW9mZic6ICcrJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkZW50cnkuYXBwZW5kKCRjb2xsYXBzZXIpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNjcmlwdEVudHJ5ID0gU3RhdGUudHJhbnNjcmlwdEhpc3RvcnlbaWldO1xuICAgICAgICAgICAgICAgIGlmICghdHJhbnNjcmlwdEVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICRlbnRyeS5hcHBlbmQoJzxwPkVtcHR5ITwvcD4nKTtcbiAgICAgICAgICAgICAgICAgICAgJG5vZGUuYXBwZW5kKCRlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSB0cmFuc2NyaXB0RW50cnkudGV4dENoYW5nZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgY2hhbmdlcy5sZW5ndGg7IGpqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViSUQgPSBpZCArICdfJyArIGpqO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCAkc3RhdGUgPSBcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJzxkaXYgY2xhc3M9XCJzdGF0ZVwiIGlkPVwiJyArIHN1YklEICsgJ1wiPjwvZGl2PicpO1xuXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5odG1sKGNoYW5nZXNbampdLmh0bWwpO1xuXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5maW5kKCd0dy10cmFuc2NyaXB0LWV2ZW50JykuZWFjaChmdW5jdGlvbihfLCBldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2dC5yZW1vdmVBdHRyaWJ1dGUoJ3VucHJvY2Vzc2VkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBldnQuaW5uZXJIVE1MID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRyYW5zY3JpcHQtaW5kZXgnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJHN1YnRpdGxlID0gJCgnPHNwYW4gY2xhc3M9XCJzdWJ0aXRsZVwiPnRleHRjaGFuZ2U8L3NwYW4+Jyk7XG4gICAgICAgICAgICAgICAgICAgICRzdWJ0aXRsZS5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhLXRyYW5zY3JpcHQtdGltZSc6IHRyYW5zY3JpcHRFbnRyeS50aW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2RhdGEtdHJhbnNjcmlwdC1pZGVudGlmaWVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpaS50b1N0cmluZygpICsgJ190ZXh0Q2hhbmdlc18wJyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLnByZXBlbmQoJHN1YnRpdGxlKTtcblxuICAgICAgICAgICAgICAgICAgICAkZW50cnkuYXBwZW5kKCRzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8kY29udGVudHMuYXBwZW5kKCRjb250ZW50KTtcbiAgICAgICAgICAgICAgICAkbm9kZS5hcHBlbmQoJGVudHJ5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICRub2RlLmh0bWwoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRUcmFuc2NyaXB0RGlzcGxheShjbGlja2VkKSB7XG4gICAgICAgICAgICBpZiAoIWNsaWNrZWQpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBjbGlja2VkIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgJ09wdGlvbnMuc2V0VHJhbnNjcmlwdERpc3BsYXkgaXMgbm90IHZhbGlkLiBDYW5ub3Qgc2V0ICcgK1xuICAgICAgICAgICAgICAgICAgICAndHJhbnNjcmlwdCBkaXNwbGF5LicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgJGN1cnJlbnRUYXJnZXQgPSAkKGNsaWNrZWQpO1xuICAgICAgICAgICAgY29uc3QgaWRlbnRpZmllciA9IFxuICAgICAgICAgICAgICAgICRjdXJyZW50VGFyZ2V0LmF0dHIoJ2RhdGEtdHJhbnNjcmlwdC1pZGVudGlmaWVyJyk7XG4gICAgICAgICAgICBpZiAoIWlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ0EgdmFsaWQgZGF0YS10cmFuc2NyaXB0LWlkZW50aWZpZXIgZG9lcyBub3QgZXhpc3QgJyArXG4gICAgICAgICAgICAgICAgICAgICdpbiB0aGUgJGN1cnJlbnRUYXJnZXQgdmFyaWFibGUgZGVyaXZlZCBmcm9tIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrZWQgYXJndW1lbnQuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZGF0YVNyYyA9IFN0YXRlLnRyYW5zY3JpcHRIaXN0b3J5O1xuICAgICAgICAgICAgaWRlbnRpZmllci5zcGxpdCgnXycpLmZpbHRlcihmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhYSAhPT0gJyc7XG4gICAgICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlkID09PSAnLTEnICYmIGRhdGFTcmMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFTcmMgPSBkYXRhU3JjW2RhdGFTcmMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZCBpbiBkYXRhU3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFTcmMgPSBkYXRhU3JjW2lkXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ2ludmFsaWQgZGF0YS10cmFuc2NyaXB0LWlkZW50aWZpZXIhJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gZG9Ob3RoaW5nKHN0cikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGZ1bmNzID0ge1xuICAgICAgICAgICAgICAgIGpxdWVyeWV2dDogc2FmZXJKU09OUGFyc2UsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHNhZmVySlNPTlBhcnNlLFxuICAgICAgICAgICAgICAgIHRpbWU6IE51bWJlci5wYXJzZUZsb2F0LFxuICAgICAgICAgICAgICAgIG5hbWU6IGRvTm90aGluZyxcbiAgICAgICAgICAgICAgICBwYXNzYWdlTmFtZTogZG9Ob3RoaW5nLFxuICAgICAgICAgICAgICAgIHR5cGU6IGRvTm90aGluZyxcbiAgICAgICAgICAgICAgICBlcnJvcnM6IGRvTm90aGluZyxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGFsaWFzZXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ1Bhc3NhZ2UgTmFtZScsXG4gICAgICAgICAgICAgICAgcGFzc2FnZU5hbWU6ICdQYXNzYWdlIE5hbWUnLFxuICAgICAgICAgICAgICAgIGpxdWVyeWV2dDogJ2pRdWVyeSBFdmVudCcsXG4gICAgICAgICAgICAgICAgc3RhdGU6ICdDdXJyZW50IFN0YXRlJyxcbiAgICAgICAgICAgICAgICB0aW1lOiAnVGltZSBSZWNvcmRlZCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ1JlY29yZCBUeXBlJyxcbiAgICAgICAgICAgICAgICBlcnJvcnM6ICdFcnJvcnMnLFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgZGV0YWlsc0VsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGdldE93blByb3BlcnR5TmFtZXMoZGF0YVNyYykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZnVuYyA9IGZ1bmNzW25hbWVdO1xuICAgICAgICAgICAgICAgIGlmICghZnVuYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgYWxpYXMgPSBhbGlhc2VzW25hbWUudG9Mb3dlckNhc2UoKV07XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkID0gZnVuYyhkYXRhU3JjW25hbWVdKTtcbiAgICAgICAgICAgICAgICBpZiAoYWxpYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgT3B0aW9ucy52YXJUb0hUTUwoZGl2LCBwcm9jZXNzZWQsIGFsaWFzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBPcHRpb25zLnZhclRvSFRNTChkaXYsIHByb2Nlc3NlZCwgbmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGV0YWlsc0VsZW0uYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBmcmFtZSA9ICQoJyNkZWZhdWx0VHJhbnNjcmlwdEZyYW1lJylbMF07XG4gICAgICAgICAgICBjb25zdCBmcmFtZUJvZHkgPSBmcmFtZS5jb250ZW50RG9jdW1lbnQuYm9keTtcblxuICAgICAgICAgICAgY29uc3QgJGRpc3BsYXlQYW5lID0gJChmcmFtZUJvZHkucXVlcnlTZWxlY3RvcignI2Rpc3BsYXlQYW5lJykpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCAkZGV0YWlscyA9ICRkaXNwbGF5UGFuZS5maW5kKCcjdHJhbnNjcmlwdERldGFpbHNEaXYnKTtcbiAgICAgICAgICAgICRkZXRhaWxzLmh0bWwoZGV0YWlsc0VsZW0uaW5uZXJIVE1MKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lc0VsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbnN0IGZsYXRFbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkYXRhU3JjID0gU3RhdGUudHJhbnNjcmlwdEhpc3RvcnlbaWRlbnRpZmllci5zcGxpdCgnXycpWzBdXTtcbiAgICAgICAgICAgIGdldE93blByb3BlcnR5TmFtZXMoZGF0YVNyYykuZm9yRWFjaChmdW5jdGlvbihjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihkYXRhU3JjW2NvbGxlY3Rpb25dKSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgICAgICAgICAgICAgISgnZm9yRWFjaCcgaW4gZGF0YVNyY1tjb2xsZWN0aW9uXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgIWRhdGFTcmNbY29sbGVjdGlvbl0ubGVuZ3RoIHx8XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24gPT09ICd0ZXh0Q2hhbmdlcycgfHxcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbiA9PT0gJ3N0YXRlQ2hhbmdlcycgfHxcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbiA9PT0gJ3BhZ2VFdmVudHMnKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRhdGFTcmNbY29sbGVjdGlvbl0uZm9yRWFjaChmdW5jdGlvbihyZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmxhdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICBmbGF0RGl2LmNsYXNzTmFtZSA9ICdmcmFtZSc7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJhbWVzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lc0Rpdi5jbGFzc05hbWUgPSAnZnJhbWUnO1xuXG4gICAgICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5TmFtZXMocmVjb3JkKS5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAnbmFtZScgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wID09PSAncGFzc2FnZU5hbWUnKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZ1bmMgPSBmdW5jc1twcm9wXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmdW5jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuYyA9IG5vb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wID09PSAnaHRtbCcgfHwgcHJvcCA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhdERpdi5pbm5lckhUTUwgPSByZWNvcmRbcHJvcF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHQvZywgJyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuY2xhc3NOYW1lID0gJ2NvbnRlbnQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuZGF0YXNldC5yYXdEYXRhID0gcmVjb3JkW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQudGV4dENvbnRlbnQgPSByZWNvcmRbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5pbm5lckhUTUwgPSBjb250ZW50LmlubmVySFRNTFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxuL2csICc8YnI+JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCAnJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWVzRGl2LmFwcGVuZENoaWxkKGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGlhcyA9IGFsaWFzZXNbcHJvcC50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzZWQgPSBmdW5jKHJlY29yZFtwcm9wXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGlhcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25zLnZhclRvSFRNTChmbGF0RGl2LCBwcm9jZXNzZWQsIGFsaWFzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW9ucy52YXJUb0hUTUwoZnJhbWVzRGl2LCBwcm9jZXNzZWQsIGFsaWFzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25zLnZhclRvSFRNTChmbGF0RGl2LCBwcm9jZXNzZWQsIHByb3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25zLnZhclRvSFRNTChmcmFtZXNEaXYsIHByb2Nlc3NlZCwgcHJvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZmxhdEVsZW0uYXBwZW5kQ2hpbGQoZmxhdERpdik7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lc0VsZW0uYXBwZW5kQ2hpbGQoZnJhbWVzRGl2KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBjb21iaW5lZCA9IFtdXG4gICAgICAgICAgICAgICAgLmNvbmNhdChkYXRhU3JjLnRleHRDaGFuZ2VzKVxuICAgICAgICAgICAgICAgIC5jb25jYXQoZGF0YVNyYy5zdGF0ZUNoYW5nZXMpXG4gICAgICAgICAgICAgICAgLmNvbmNhdChkYXRhU3JjLnBhZ2VFdmVudHMpXG4gICAgICAgICAgICAgICAgLnNvcnQoZnVuY3Rpb24oYWEsIGJiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhYS50aW1lIDwgYmIudGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFhLnRpbWUgPT09IGJiLnRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29tYmluZWQuZm9yRWFjaChmdW5jdGlvbihyZWNvcmQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2ZyYW1lJztcblxuICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5TmFtZXMocmVjb3JkKS5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICduYW1lJyB8fCBwcm9wID09PSAncGFzc2FnZU5hbWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQgZnVuYyA9IGZ1bmNzW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZ1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmMgPSBub29wO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgPT09ICdodG1sJyB8fCBwcm9wID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSByZWNvcmRbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGlhcyA9IGFsaWFzZXNbcHJvcC50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGZ1bmMocmVjb3JkW3Byb3BdKSB8fCByZWNvcmRbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWxpYXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25zLnZhclRvSFRNTChkaXYsIHByb2Nlc3NlZCwgYWxpYXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25zLnZhclRvSFRNTChkaXYsIHByb2Nlc3NlZCwgcHJvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZmxhdEVsZW0uYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgICAgICAgICBmcmFtZXNFbGVtLmFwcGVuZENoaWxkKGRpdi5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0ICRmcmFtZXMgPSAkZGlzcGxheVBhbmUuZmluZCgnI3RyYW5zY3JpcHRGcmFtZXNEaXYnKTtcbiAgICAgICAgICAgICRmcmFtZXMuaHRtbCgnJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHVwQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICB1cEJ1dHRvbi5jbGFzc05hbWUgPSAnZGlzYWJsZWQnO1xuICAgICAgICAgICAgdXBCdXR0b24udGV4dENvbnRlbnQgPSAn4oaRJztcbiAgICAgICAgICAgICRmcmFtZXMuYXBwZW5kKHVwQnV0dG9uKTtcblxuICAgICAgICAgICAgY29uc3QgZG93bkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgZG93bkJ1dHRvbi50ZXh0Q29udGVudCA9ICfihpMnO1xuICAgICAgICAgICAgJGZyYW1lcy5hcHBlbmQoZG93bkJ1dHRvbik7XG5cbiAgICAgICAgICAgICQodXBCdXR0b24pLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCAkcHJldiA9ICRmcmFtZXMuZmluZCgnLmZyYW1lLmFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgIC5wcmV2KCcuZnJhbWUnKVxuICAgICAgICAgICAgICAgICAgICAuZmlyc3QoKTtcbiAgICAgICAgICAgICAgICBpZiAoJHByZXYubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICRmcmFtZXMuZmluZCgnLmZyYW1lJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAkcHJldi5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJChkb3duQnV0dG9uKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICBpZiAoISRwcmV2LnByZXYoJy5mcmFtZScpLmZpcnN0KCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICQodXBCdXR0b24pLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkKGRvd25CdXR0b24pLmNsaWNrKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCAkbmV4dCA9ICRmcmFtZXMuZmluZCgnLmZyYW1lLmFjdGl2ZScpXG4gICAgICAgICAgICAgICAgICAgIC5uZXh0KCcuZnJhbWUnKVxuICAgICAgICAgICAgICAgICAgICAuZmlyc3QoKTtcbiAgICAgICAgICAgICAgICBpZiAoJG5leHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICRmcmFtZXMuZmluZCgnLmZyYW1lJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAkbmV4dC5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJCh1cEJ1dHRvbikucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgaWYgKCEkbmV4dC5uZXh0KCcuZnJhbWUnKS5maXJzdCgpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAkKGRvd25CdXR0b24pLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCB0b2dnbGVSYXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgIHRvZ2dsZVJhdy5kYXRhc2V0LmlzUmF3ID0gJ3RydWUnO1xuICAgICAgICAgICAgdG9nZ2xlUmF3LmlubmVySFRNTCA9XG4gICAgICAgICAgICAgICAgJzxzcGFuIHN0eWxlPVwiY29sb3I6IHJlZDtcIj54PC9zcGFuPiByYXcnO1xuICAgICAgICAgICAgJGZyYW1lcy5hcHBlbmQodG9nZ2xlUmF3KTtcblxuICAgICAgICAgICAgJCh0b2dnbGVSYXcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0ICRjb250ZW50cyA9ICRmcmFtZXMuZmluZCgnLmNvbnRlbnQnKTtcblxuICAgICAgICAgICAgICAgIGlmICh0b2dnbGVSYXcuZGF0YXNldC5pc1JhdyA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZVJhdy5pbm5lckhUTUwgPSAnJm5ic3A7Jm5ic3A7Jm5ic3A7cmF3JztcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlUmF3LmRhdGFzZXQuaXNSYXcgPSAnZmFsc2UnO1xuXG4gICAgICAgICAgICAgICAgICAgICRjb250ZW50cy5lYWNoKGZ1bmN0aW9uKF8sIGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gY29udGVudC5kYXRhc2V0LnJhd0RhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxuL2csICc8YnI+JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx0L2csICcmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlUmF3LmlubmVySFRNTCA9IFxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHN0eWxlPVwiY29sb3I6IHJlZDtcIj54PC9zcGFuPiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdyYXcnO1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVSYXcuZGF0YXNldC5pc1JhdyA9ICd0cnVlJztcblxuICAgICAgICAgICAgICAgICAgICAkY29udGVudHMuZWFjaChmdW5jdGlvbihfLCBjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnRleHRDb250ZW50ID0gY29udGVudC5kYXRhc2V0LnJhd0RhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LmlubmVySFRNTCA9IGNvbnRlbnQuaW5uZXJIVE1MXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCAnJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkZnJhbWVzLmFwcGVuZChmcmFtZXNFbGVtKTtcbiAgICAgICAgICAgICRmcmFtZXMuZmluZCgnLmZyYW1lJykuZmlyc3QoKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgIGNvbnN0ICRmbGF0ID0gJGRpc3BsYXlQYW5lLmZpbmQoJyN0cmFuc2NyaXB0RmxhdERpdicpO1xuICAgICAgICAgICAgJGZsYXQuaHRtbCgnJyk7XG4gICAgICAgICAgICAkZmxhdC5hcHBlbmQoZmxhdEVsZW0pO1xuXG4gICAgICAgICAgICAvLyBvcGVuIGFsbCBFcnJvcnMgYnkgZGVmYXVsdFxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSAnLmNvbnRhaW5lcltkYXRhLXByb3BlcnR5LW5hbWU9XCJFcnJvcnNcIl0gPiAnICtcbiAgICAgICAgICAgICAgICAnLmNvbGxhcHNlZCA+ICcgK1xuICAgICAgICAgICAgICAgICcuY29sbGFwc2VyJztcbiAgICAgICAgICAgICRkaXNwbGF5UGFuZS5maW5kKHNlbGVjdG9yKS5jbGljaygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHZhclRvSFRNTChub2RlLCBwcm9wLCBwcm9wTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ2NvbnRhaW5lcic7XG4gICAgICAgICAgICBjb250YWluZXIuZGF0YXNldC5wcm9wZXJ0eU5hbWUgPSBwcm9wTmFtZTtcbiAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgICAgICAgICAgY29uc3QgdGV4dEZpZWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGV4dEZpZWxkKTtcblxuICAgICAgICAgICAgaWYgKHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdiJyk7XG4gICAgICAgICAgICAgICAgbGV0IGZvcm1hdHRlZE5hbWUgPSBwcm9wTmFtZTtcbiAgICAgICAgICAgICAgICB0aXRsZS5jbGFzc05hbWUgPSAndGl0bGUnO1xuICAgICAgICAgICAgICAgIGlmICgocHJvcCAmJiB0eXBlb2YocHJvcCkgPT09ICdvYmplY3QnKSAmJlxuICAgICAgICAgICAgICAgICAgICBwcm9wLmNvbnN0cnVjdG9yICYmXG4gICAgICAgICAgICAgICAgICAgIHByb3AuY29uc3RydWN0b3IubmFtZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWROYW1lICs9ICcgKCcgKyBwcm9wLmNvbnN0cnVjdG9yLm5hbWUgKyAnKSc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkTmFtZSArPSAnOiAnO1xuICAgICAgICAgICAgICAgIHRpdGxlLmlubmVySFRNTCA9ICc8c3BhbiBjbGFzcz1cInRpdGxlVGV4dFwiPicgK1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWROYW1lICtcbiAgICAgICAgICAgICAgICAgICAgJzwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgIHRleHRGaWVsZC5hcHBlbmRDaGlsZCh0aXRsZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YocHJvcCkgPT09ICdvYmplY3QnICYmIHByb3AgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGFubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgc3Bhbm5lci5jbGFzc05hbWUgPSAnc3Bhbm5lcic7XG4gICAgICAgICAgICAgICAgdGV4dEZpZWxkLmFwcGVuZENoaWxkKHNwYW5uZXIpO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3ViRWwpO1xuICAgICAgICAgICAgICAgIHN1YkVsLmNsYXNzTmFtZSA9ICdjb2xsYXBzZWQnO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29sbGFwc2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICAgICAgY29sbGFwc2VyLmNsYXNzTmFtZSA9ICdjb2xsYXBzZXInO1xuICAgICAgICAgICAgICAgIGNvbGxhcHNlci5pbm5lclRleHQgPSAnKyc7XG4gICAgICAgICAgICAgICAgY29sbGFwc2VyLnNldEF0dHJpYnV0ZSgnZGF0YS1vbicsICctJyk7XG4gICAgICAgICAgICAgICAgY29sbGFwc2VyLnNldEF0dHJpYnV0ZSgnZGF0YS1vZmYnLCAnKycpO1xuICAgICAgICAgICAgICAgIHN1YkVsLmFwcGVuZENoaWxkKGNvbGxhcHNlcik7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdWJQcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3ApO1xuICAgICAgICAgICAgICAgIGlmICghc3ViUHJvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtcHR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIGVtcHR5LmlubmVyVGV4dCA9ICdFbXB0eSEnO1xuICAgICAgICAgICAgICAgICAgICBzdWJFbC5hcHBlbmRDaGlsZChlbXB0eSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3ViUHJvcHMuZm9yRWFjaChmdW5jdGlvbihzdWJQcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJQcm9wID09PSAnbGVuZ3RoJyAmJiBwcm9wIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvcC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbXB0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtcHR5LmlubmVyVGV4dCA9ICdFbXB0eSEnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YkVsLmFwcGVuZENoaWxkKGVtcHR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW9ucy52YXJUb0hUTUwoc3ViRWwsIHByb3Bbc3ViUHJvcF0sIHN1YlByb3ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbFRleHQ7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHByb3AgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsVGV4dCA9ICdudWxsJztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihwcm9wKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsVGV4dCA9ICd1bmRlZmluZWQnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvcC50b1N0cmluZykge1xuICAgICAgICAgICAgICAgICAgICB2YWxUZXh0ID0gcHJvcC50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YocHJvcCkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbFRleHQgPSAnXCInICsgdmFsVGV4dCArICdcIic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2YWxUZXh0KTtcbiAgICAgICAgICAgICAgICB0ZXh0RmllbGQuYXBwZW5kQ2hpbGQodmFsTm9kZSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzcGFjZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICAgICAgICAgICAgc3BhY2VyLmNsYXNzTmFtZSA9ICdzcGFjZXInO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChzcGFjZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZVRyYW5zY3JpcHRWaXN1YWxzKCkge1xuICAgICAgICAgICAgY29uc3QgcGFzc2FnZVBhbmUgPSBmcmFtZUJvZHkucXVlcnlTZWxlY3RvcignI3Bhc3NhZ2VQYW5lJyk7XG4gICAgICAgICAgICBwYXNzYWdlUGFuZS5pbm5lckhUTUwgPSBPcHRpb25zLnByaW50VHJhbnNjcmlwdCgnaHRtbCcpO1xuXG4gICAgICAgICAgICBjb25zdCBjaG9pY2UgPSAkZGVmYXVsdE1lbnUuYXR0cignZGF0YS1jaG9pY2UnKTtcbiAgICAgICAgICAgIGlmIChjaG9pY2UgPT09ICd0cmFuc2NyaXB0Jykge1xuICAgICAgICAgICAgICAgICRkZWZhdWx0TWVudS5hdHRyKCdkYXRhLWNob2ljZScsICd0cmFuc2NyaXB0Jyk7XG4gICAgICAgICAgICAgICAgaWYgKCEkKGRlZmF1bHRNZW51KS5maW5kKCcuZGVzdHJ1Y3RvcicpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAkZGVmYXVsdE1lbnUuYXBwZW5kKCc8YnV0dG9uICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzPVwiZGVzdHJ1Y3RvclwiPlg8L2J1dHRvbj4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkZGVmYXVsdE1lbnUuZmluZCgndHctZWxlbWVudC1yZXNpemVyJylcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2RhdGEtc2VsZWN0b3InLCAnI2RlZmF1bHRUcmFuc2NyaXB0RGlzcGxheScpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgT3B0aW9ucy5zZXRUcmFuc2NyaXB0RGlzcGxheShwYXNzYWdlUGFuZS5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2FwdHVyZVRleHRDaGFuZ2VzKCkge1xuICAgICAgICAgICAgY29uc3QgJGN1cnJlbnQgPSAkKCd0dy1wYXNzYWdlLmN1cnJlbnQnKTtcbiAgICAgICAgICAgIGlmICghJGN1cnJlbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGxhc3RUZXh0ID0gJGN1cnJlbnQudGV4dCgpO1xuICAgICAgICAgICAgbGV0IGxhc3RIVE1MID0gJGN1cnJlbnQuaHRtbCgpO1xuXG4gICAgICAgICAgICBPcHRpb25zLmV2ZW50SW5kZXggPSAxO1xuXG4gICAgICAgICAgICAvLyBjcmVhdGUgYW4gb2JzZXJ2ZXIgaW5zdGFuY2VcbiAgICAgICAgICAgIE9wdGlvbnMudHJhbnNjcmlwdE11dGF0aW9uT2JzZXJ2ZXIgPVxuICAgICAgICAgICAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIU9wdGlvbnMucmVjb3JkaW5nTGV2ZWxzLnRleHRDaGFuZ2VzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoIVN0YXRlLnJlY29yZGluZ1RyYW5zY3JpcHQgJiYgIXdpbmRvdy5ERUJVRykpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZyb20obXV0YXRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKG11dGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnRyeSA9IFN0YXRlLmN1cnJlbnRUcmFuc2NyaXB0RW50cnk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSAkY3VycmVudC50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBodG1sID0gJGN1cnJlbnQuaHRtbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdGV4dCBoYXMgY2hhbmdlZCwgYWRkIGEgbmV3IGVudHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCAhPT0gbGFzdFRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCAkY3VycmVudCA9ICQoJ3R3LXBhc3NhZ2UuY3VycmVudCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBhbGxvdyB0aGUgZXZlbnRzIHRvIHBlcnNpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY3VycmVudC5maW5kKCd0dy10cmFuc2NyaXB0LWV2ZW50JykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWUgaW4gU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG93TmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcCA9IFN0YXRlW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobG93TmFtZS5pbmRleE9mKCdiaW5kaW5nJykgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dOYW1lLmluZGV4T2YoJ3RyYW5zY3JpcHQnKSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvd05hbWUuc3RhcnRzV2l0aCgnY3VycmVudCcpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNGdW5jdGlvbihwcm9wKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGVbbmFtZV0gPSBTdGF0ZVtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5LnRleHRDaGFuZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBTdGF0ZS5jdXJyZW50UGFzc2FnZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICRjdXJyZW50WzBdLm91dGVySFRNTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IEpTT04uc3RyaW5naWZ5KG5ld1N0YXRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHRjaGFuZ2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IGZyb20oU3RhdGUuY29tcGlsZXJTdGF0dXMuZXJyb3JzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlLmNvbXBpbGVyU3RhdHVzLmVycm9ycyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW9ucy51cGRhdGVUcmFuc2NyaXB0VmlzdWFscygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFRleHQgPSAkY3VycmVudC50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEhUTUwgPSAkY3VycmVudC5odG1sKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25zLmV2ZW50SW5kZXggPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGNvbmZpZ3VyYXRpb24gb2YgdGhlIG9ic2VydmVyOlxuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXJDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgICAgICAgICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBwYXNzIGluIHRoZSB0YXJnZXQgbm9kZSwgYXMgd2VsbCBhcyB0aGUgb2JzZXJ2ZXIgb3B0aW9uc1xuICAgICAgICAgICAgT3B0aW9ucy50cmFuc2NyaXB0TXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKFxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHksIG9ic2VydmVyQ29uZmlnKTtcbiAgICAgICAgfSxcblxuICAgICAgICBoYWx0Q2FwdHVyZVRleHRDaGFuZ2VzKCkge1xuICAgICAgICAgICAgT3B0aW9ucy50cmFuc2NyaXB0TXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2FwdHVyZVBhZ2VFdmVudHMoKSB7XG4gICAgICAgICAgICBjb25zdCAkY3VycmVudCA9ICQoJ3R3LXBhc3NhZ2UuY3VycmVudCcpO1xuICAgICAgICAgICAgJGN1cnJlbnQub24oJ2NsaWNrIGtleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWQgPSB3aW5kb3cuREVCVUcgfHwgXG4gICAgICAgICAgICAgICAgICAgIChPcHRpb25zLnJlY29yZGluZ0xldmVscy50ZXh0Q2hhbmdlcyAmJlxuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5yZWNvcmRpbmdUcmFuc2NyaXB0KTtcbiAgICAgICAgICAgICAgICAvLyBkb24ndCByZWdpc3RlciBjbGlja3Mgb24gdGhlIHBhc3NhZ2UgZWxlbWVudCwgYW5kIGRvbid0XG4gICAgICAgICAgICAgICAgLy8gcmVjb3JkIHVubGVzcyB0aGUgdXNlciBzdGF0ZSBjYWxscyBmb3IgaXRcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09ICRjdXJyZW50WzBdIHx8ICF2YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgJGh0bWwgPSAkKGUudGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0ICRldnQgPVxuICAgICAgICAgICAgICAgICAgICAkKCc8dHctdHJhbnNjcmlwdC1ldmVudCB1bnByb2Nlc3NlZD4nICtcbiAgICAgICAgICAgICAgICAgICAgJzwvdHctdHJhbnNjcmlwdC1ldmVudD4nKTtcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IGRlY2lyY2xlZCA9IGU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRlY2lyY2xlZC5vcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBkZWNpcmNsZWQudmlldztcbiAgICAgICAgICAgICAgICBkZWxldGUgZGVjaXJjbGVkLnRhcmdldDtcbiAgICAgICAgICAgICAgICBkZWxldGUgZGVjaXJjbGVkLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRlY2lyY2xlZC5oYW5kbGVPYmo7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRlY2lyY2xlZC5kZWxlZ2F0ZVRhcmdldDtcbiAgICAgICAgICAgICAgICBkZWxldGUgZGVjaXJjbGVkLnJlbGF0ZWRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRlY2lyY2xlZC50b0VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjaXJjVHh0ID0gSlNPTi5zdHJpbmdpZnkoZGVjaXJjbGVkKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRFbnRyeSA9IFN0YXRlLmN1cnJlbnRUcmFuc2NyaXB0RW50cnk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lIGluIFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd05hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSBTdGF0ZVtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvd05hbWUuaW5kZXhPZignYmluZGluZycpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbG93TmFtZS5pbmRleE9mKCd0cmFuc2NyaXB0JykgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dOYW1lLnN0YXJ0c1dpdGgoJ2N1cnJlbnQnKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzRnVuY3Rpb24ocHJvcCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlW25hbWVdID0gU3RhdGVbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICBjb25zdCBpZGVudGlmaWVyID0gXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLnRyYW5zY3JpcHRIaXN0b3J5LmluZGV4T2YoY3VycmVudEVudHJ5KS50b1N0cmluZygpICtcbiAgICAgICAgICAgICAgICAgICAgJ19wYWdlRXZlbnRzXycgK1xuICAgICAgICAgICAgICAgICAgICBTdHJpbmcoT3B0aW9ucy5ldmVudEluZGV4IC0gMSk7XG4gICAgICAgICAgICAgICAgJGV2dC5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEtdHJhbnNjcmlwdC1pbmRleCc6IE9wdGlvbnMuZXZlbnRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEtdHJhbnNjcmlwdC1pZGVudGlmaWVyJzogaWRlbnRpZmllcixcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEtdHJhbnNjcmlwdC10aW1lJzogdGltZSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICRodG1sLmFwcGVuZCgkZXZ0KTtcblxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RW50cnkudGV4dENoYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRFbnRyeS50ZXh0Q2hhbmdlcy5zbGljZSgtMSlbMF0uaHRtbCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAkY3VycmVudFswXS5vdXRlckhUTUw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VycmVudEVudHJ5LnBhZ2VFdmVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpbWUsXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6ICRjdXJyZW50WzBdLm91dGVySFRNTCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IEpTT04uc3RyaW5naWZ5KG5ld1N0YXRlKSxcbiAgICAgICAgICAgICAgICAgICAganF1ZXJ5ZXZ0OiBkZWNpcmNUeHQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwYWdlRXZlbnQnLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IGZyb20oU3RhdGUuY29tcGlsZXJTdGF0dXMuZXJyb3JzKSxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIFN0YXRlLmNvbXBpbGVyU3RhdHVzLmVycm9ycyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgT3B0aW9ucy51cGRhdGVUcmFuc2NyaXB0VmlzdWFscygpO1xuXG4gICAgICAgICAgICAgICAgT3B0aW9ucy5ldmVudEluZGV4Kys7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjYXB0dXJlU3RhdGVDaGFuZ2UobmFtZSwgdGFyZ2V0LCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gL3RyYW5zY3JpcHR8YmluZGluZ3xjb21waWxlci9cbiAgICAgICAgICAgIGlmIChTdGF0ZS5jdXJyZW50VHJhbnNjcmlwdEVudHJ5ICYmXG4gICAgICAgICAgICAgICAgIXJlZ2V4LnRlc3QocHJvcGVydHkudG9Mb3dlckNhc2UoKSkgJiZcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ2N1cnJlbnQnKSAmJlxuICAgICAgICAgICAgICAgIHRhcmdldFtwcm9wZXJ0eV0gIT09IHZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRUcmFuc2NyaXB0RW50cnkuc3RhdGVDaGFuZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBwYXNzYWdlTmFtZTogU3RhdGUuY3VycmVudFBhc3NhZ2VOYW1lLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdGF0ZUNoYW5nZScsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yczogZnJvbShTdGF0ZS5jb21waWxlclN0YXR1cy5lcnJvcnMpLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgU3RhdGUuY29tcGlsZXJTdGF0dXMuZXJyb3JzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHdpbmRvdy5QYXJzZXIgPSB7XG4gICAgICAgIGlzRW5kaW5nVGFnKHRhZykge1xuICAgICAgICAgICAgcmV0dXJuIHRhZ1swXSA9PT0gJy8nIHx8ICh0YWcuc2xpY2UgJiYgdGFnLnNsaWNlKDAsIDMpID09PSAnZW5kJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNEZWZlcnJlZCh0eXBlKSB7XG4gICAgICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBtYWNyb09iaiA9IE1hdGNoZXMuZ2V0TWFjcm9PYmplY3QodHlwZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtYWNyb09iaiAmJiBtYWNyb09iai5kZWZlciA9PT0gdHJ1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRNYWNyb1R5cGUodGV4dCwgaWQpIHtcbiAgICAgICAgICAgIGxldCBmcmFnbWVudCA9IHRleHQuc2xpY2UoXG4gICAgICAgICAgICAgICAgdGV4dC5pbmRleE9mKCc8dHctbWF0Y2ggZGF0YS1nYXRlbHktaWQ9XCInICsgaWQgKyAnXCInKSk7XG4gICAgICAgICAgICBmcmFnbWVudCA9IGZyYWdtZW50LnNsaWNlKFxuICAgICAgICAgICAgICAgIGZyYWdtZW50LmluZGV4T2YoJ2RhdGEtbWFjcm8tdHlwZT1cIicpICsgMTcpO1xuICAgICAgICAgICAgbGV0IG1hY3JvVHlwZSA9IGZyYWdtZW50XG4gICAgICAgICAgICAgICAgLnNsaWNlKDAsIGZyYWdtZW50LmluZGV4T2YoJ1wiJykpXG4gICAgICAgICAgICAgICAgLnRyaW0oKVxuICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgcmV0dXJuIG1hY3JvVHlwZTtcbiAgICAgICAgfSxcblxuICAgICAgICBjcmVhdGVPcGVuVGFnKGlkLCBkYXRhVHlwZSwgZGlhbGVjdCwgbWFjcm9UeXBlKSB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9ICc8dHctbWF0Y2ggZGF0YS1nYXRlbHktaWQ9XCInICsgaWQgKyAnXCIgJztcbiAgICAgICAgICAgIGlmIChQYXJzZXIuaXNEZWZlcnJlZChtYWNyb1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgdGV4dCArPSAnY2xhc3M9XCJkZWZlclwiICc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkaWFsZWN0KSB7XG4gICAgICAgICAgICAgICAgdGV4dCArPSAnZGF0YS1kaWFsZWN0PVwiJyArIGRpYWxlY3QgKyAnXCIgJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1hY3JvVHlwZSkge1xuICAgICAgICAgICAgICAgIHRleHQgKz0gXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLXR5cGU9XCJtYWNyb1wiIGRhdGEtbWFjcm8tdHlwZT1cIicgKyBtYWNyb1R5cGUgKyAnXCI+JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dCArPSAnZGF0YS10eXBlPVwiJyArIGRhdGFUeXBlICsgJ1wiPic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZFN0cmluZ0F0SW5kZXgoc3RyaW5nLCBzdWJzdHJpbmcsIGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIGluZGV4KSArIHN1YnN0cmluZyArIHN0cmluZy5zbGljZShpbmRleCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlQ2hhcmFjdGVyc0F0SW5kZXgoc3RyaW5nLCBpbmRleCwgbnVtVG9SZW1vdmUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UoMCwgaW5kZXgpICsgc3RyaW5nLnNsaWNlKGluZGV4ICsgbnVtVG9SZW1vdmUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBhcnNlRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoIWlzRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGVsZW1lbnQgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdQYXJzZXIucGFyc2VFbGVtZW50IGlzIG5vdCBhIHZhbGlkIEhUTUwgZWxlbWVudC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdDYW5ub3QgcGFyc2UuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5ydW5uaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLnRleHQgPSBlbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5pbmRleCA9IDA7XG4gICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMub3JpZ0luZGV4ID0gMDtcblxuICAgICAgICAgICAgbGV0IHRleHQgPSBTdGF0ZS5wYXJzZXJTdGF0dXMudGV4dDtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IFN0YXRlLnBhcnNlclN0YXR1cy5pbmRleDtcbiAgICAgICAgICAgIGxldCBvcmlnSW5kZXggPSBTdGF0ZS5wYXJzZXJTdGF0dXMub3JpZ0luZGV4O1xuXG4gICAgICAgICAgICBpZiAod2luZG93LkRFQlVHIHx8XG4gICAgICAgICAgICAgICAgKFN0YXRlLnJlY29yZGluZ1RyYW5zY3JpcHQgJiYgT3B0aW9ucy5yZWNvcmRpbmdMZXZlbHMucGFyc2UpKVxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lIGluIFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd05hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSBTdGF0ZVtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvd05hbWUuaW5kZXhPZignYmluZGluZycpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbG93TmFtZS5pbmRleE9mKCd0cmFuc2NyaXB0JykgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dOYW1lLnN0YXJ0c1dpdGgoJ2N1cnJlbnQnKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzRnVuY3Rpb24ocHJvcCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlW25hbWVdID0gU3RhdGVbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VHJhbnNjcmlwdEVudHJ5LnBhcnNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgcGFzc2FnZU5hbWU6IFN0YXRlLmN1cnJlbnRQYXNzYWdlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IEpTT04uc3RyaW5naWZ5KG5ld1N0YXRlKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0YXJ0cGFyc2UnLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IGZyb20oU3RhdGUucGFyc2VyU3RhdHVzLmVycm9ycyksXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMuZXJyb3JzID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHN1cHBvc2VkIHRvIGJlIGFuIGludmFsaWQgZWxlbWVudCBlcnJvci4gdGVzdCBsYXRlci5cbiAgICAgICAgICAgIGlmIChTdGF0ZS5wYXJzZXJTdGF0dXMuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGlpID0gMDtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBqaiA9IDA7IGpqIDwgZWxlbWVudC5jaGlsZHJlbi5sZW5ndGg7IGpqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IGVsZW1lbnQuY2hpbGRyZW5bampdO1xuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBleGFjdCBkdXBsaWNhdGVzXG4gICAgICAgICAgICAgICAgaWkgKz0gdGV4dC5zbGljZShpaSkuaW5kZXhPZihjaGlsZC5vdXRlckhUTUwpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gaWk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQudGFnTmFtZSA9PT0gJ1RXLUFSR1VNRU5UJykge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5zbGljZShzdGFydCwgc3RhcnQgKyBjaGlsZC5vdXRlckhUTUwubGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1RleHQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgUGFyc2VyLmNyZWF0ZU9wZW5UYWcoTWF0Y2hlcy5nZXROZXdNYXRjaElkKCksICdodG1sJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBuZXcgdGV4dFxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgodGV4dCwgbmV3VGV4dCwgaWkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIGxlbmd0aCBvZiB0aGUgbmV3IHRleHRcbiAgICAgICAgICAgICAgICAgICAgaWkgKz0gbmV3VGV4dC5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgaWkgKz0gY2hpbGQub3V0ZXJIVE1MLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICBuZXdUZXh0ID0gJzwvdHctbWF0Y2g+JztcblxuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgodGV4dCwgbmV3VGV4dCwgaWkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIGxlbmd0aCBvZiB0aGUgbmV3IHRleHRcbiAgICAgICAgICAgICAgICAgICAgaWkgKz0gbmV3VGV4dC5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaCh0ZXh0LnNsaWNlKHN0YXJ0LCBpaSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgTWF0Y2hlcy5jdXJyZW50TWF0Y2ggPSBudWxsO1xuXG4gICAgICAgICAgICBjb25zdCBvcmlnVGV4dCA9IHRleHQ7XG4gICAgICAgICAgICBsZXQgbWF0Y2hPcmlnSW5kZXhlcyA9IFtdO1xuXG4gICAgICAgICAgICBsZXQgc2ltcGxlTW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgd2hpbGUgKGluZGV4IDwgdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmcmFtZVRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIGlmICgvW1wiJ10vLnRlc3QodGV4dFtpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIFBhcnNlci5oYW5kbGUoXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3F1b3RlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ0luZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dFtpbmRleF0gPT09ICc8Jykge1xuICAgICAgICAgICAgICAgICAgICBQYXJzZXIuaGFuZGxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdsZXNzZXJUaGFuTm9uRW50aXR5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ0luZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL14mbHQ7Jmx0Oy8udGVzdCh0ZXh0LnNsaWNlKGluZGV4LCBpbmRleCArIDgpKSkge1xuICAgICAgICAgICAgICAgICAgICBQYXJzZXIuaGFuZGxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdWdhcmN1YmVNYWNyb09wZW5lcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdJbmRleCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvXFwoLy50ZXN0KHRleHRbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICBQYXJzZXIuaGFuZGxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdoYXJsb3dlTWFjcm9PcGVuZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnSW5kZXgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL14mZ3Q7Jmd0Oy8udGVzdCh0ZXh0LnNsaWNlKGluZGV4LCBpbmRleCArIDgpKSkge1xuICAgICAgICAgICAgICAgICAgICBQYXJzZXIuaGFuZGxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdWdhcmN1YmVNYWNyb0Nsb3NlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdJbmRleCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0W2luZGV4XSA9PT0gJyknKSB7XG4gICAgICAgICAgICAgICAgICAgIFBhcnNlci5oYW5kbGUoXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmxvd2VNYWNyb0Nsb3NlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdJbmRleCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvXFxbLy50ZXN0KHRleHRbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICBQYXJzZXIuaGFuZGxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdoYXJsb3dlSG9va09wZW5lcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdJbmRleCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvXS8udGVzdCh0ZXh0W2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgUGFyc2VyLmhhbmRsZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaGFybG93ZUhvb2tDbG9zZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnSW5kZXgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL1xcJC8udGVzdCh0ZXh0W2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgUGFyc2VyLmhhbmRsZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAndmFyaWFibGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnSW5kZXgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL1xcZC8udGVzdCh0ZXh0W2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgUGFyc2VyLmhhbmRsZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbnVtYmVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ0luZGV4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9cXG4vLnRlc3QodGV4dFtpbmRleF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIFBhcnNlci5oYW5kbGUoXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25ld2xpbmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnSW5kZXgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL1teXFxzPD5dLy50ZXN0KHRleHRbaW5kZXhdKSkge1xuICAgICAgICAgICAgICAgICAgICBQYXJzZXIuaGFuZGxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdyZXNlcnZlZFdvcmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnSW5kZXgpOyAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5pbmRleCsrO1xuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5vcmlnSW5kZXgrKztcblxuICAgICAgICAgICAgICAgIHRleHQgPSBTdGF0ZS5wYXJzZXJTdGF0dXMudGV4dDtcbiAgICAgICAgICAgICAgICBpbmRleCA9IFN0YXRlLnBhcnNlclN0YXR1cy5pbmRleDtcbiAgICAgICAgICAgICAgICBvcmlnSW5kZXggPSBTdGF0ZS5wYXJzZXJTdGF0dXMub3JpZ0luZGV4O1xuXG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lVGV4dCAhPT0gdGV4dCAmJlxuICAgICAgICAgICAgICAgICAgICAod2luZG93LkRFQlVHIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoU3RhdGUucmVjb3JkaW5nVHJhbnNjcmlwdCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9wdGlvbnMucmVjb3JkaW5nTGV2ZWxzLnBhcnNlKSkpXG4gICAgICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0ge307XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWUgaW4gU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd05hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wID0gU3RhdGVbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG93TmFtZS5pbmRleE9mKCdiaW5kaW5nJykgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93TmFtZS5pbmRleE9mKCd0cmFuc2NyaXB0JykgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG93TmFtZS5zdGFydHNXaXRoKCdjdXJyZW50JykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNGdW5jdGlvbihwcm9wKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZVtuYW1lXSA9IFN0YXRlW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudFRyYW5zY3JpcHRFbnRyeS5wYXJzZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NhZ2VOYW1lOiBTdGF0ZS5jdXJyZW50UGFzc2FnZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogSlNPTi5zdHJpbmdpZnkobmV3U3RhdGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3BhcnNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yczogZnJvbShTdGF0ZS5wYXJzZXJTdGF0dXMuZXJyb3JzKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLmVycm9ycyA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB0ZXh0O1xuXG4gICAgICAgICAgICBpZiAoTWF0Y2hlcy5jdXJyZW50TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZmFpbGVkIG1hdGNoOicsIE1hdGNoZXMuY3VycmVudE1hdGNoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZW1haW5kZXIgPSBvcmlnVGV4dC5zbGljZSgwLCBtYXRjaE9yaWdJbmRleGVzWzBdKSArXG4gICAgICAgICAgICAgICAgICAgICdcXG5cXG5FUlJPUiBGT0xMT1dTIEJFTE9XOlxcbicgK1xuICAgICAgICAgICAgICAgICAgICBvcmlnVGV4dC5zbGljZShtYXRjaE9yaWdJbmRleGVzWzBdKTtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ0EgbWF0Y2ggd2FzIG5ldmVyIHN1Y2Nlc3NmdWxseSBlbmRlZC4gSW5jb21wbGV0ZSAnICtcbiAgICAgICAgICAgICAgICAgICAgKE1hdGNoZXMuZ2V0TWFjcm9UeXBlKE1hdGNoZXMuY3VycmVudE1hdGNoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXREYXRhVHlwZShNYXRjaGVzLmN1cnJlbnRNYXRjaCkpICtcbiAgICAgICAgICAgICAgICAgICAgJy5cXG5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgcmVtYWluZGVyKTtcbiAgICAgICAgICAgICAgICBNYXRjaGVzLmN1cnJlbnRNYXRjaCA9IG51bGw7XG4gICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICBpZiAod2luZG93LkRFQlVHIHx8XG4gICAgICAgICAgICAgICAgKFN0YXRlLnJlY29yZGluZ1RyYW5zY3JpcHQgJiYgT3B0aW9ucy5yZWNvcmRpbmdMZXZlbHMucGFyc2UpKVxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lIGluIFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd05hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSBTdGF0ZVtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvd05hbWUuaW5kZXhPZignYmluZGluZycpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbG93TmFtZS5pbmRleE9mKCd0cmFuc2NyaXB0JykgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dOYW1lLnN0YXJ0c1dpdGgoJ2N1cnJlbnQnKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzRnVuY3Rpb24ocHJvcCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlW25hbWVdID0gU3RhdGVbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VHJhbnNjcmlwdEVudHJ5LnBhcnNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgcGFzc2FnZU5hbWU6IFN0YXRlLmN1cnJlbnRQYXNzYWdlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IEpTT04uc3RyaW5naWZ5KG5ld1N0YXRlKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2VuZHBhcnNlJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBmcm9tKFN0YXRlLnBhcnNlclN0YXR1cy5lcnJvcnMpLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLmVycm9ycyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGhhbmRsZSh0ZXh0LCB0eXBlLCBpbmRleCwgb3JpZ0luZGV4KSB7XG4gICAgICAgICAgICBpZiAoU3RhdGUucGFyc2VyU3RhdHVzLnJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBQYXJzZXIucGFyc2VSdWxlc1t0eXBlXSh0ZXh0LCBpbmRleCwgb3JpZ0luZGV4LCBhcmd1bWVudHNbNF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHBhcnNlUnVsZXM6IHtcbiAgICAgICAgICAgIHF1b3RlKHRleHQsIGluZGV4LCBvcmlnSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBsZXQgcXVvdGVDaGFyID0gdGV4dFtpbmRleF07XG4gICAgICAgICAgICAgICAgbGV0IHF1b3RlVHlwZSA9ICdkb3VibGVRdW90ZSc7XG4gICAgICAgICAgICAgICAgbGV0IG90aGVyVHlwZSA9ICdzaW5nbGVRdW90ZSc7XG5cbiAgICAgICAgICAgICAgICBpZiAodGV4dFtpbmRleF0gPT09IFwiJ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1b3RlVHlwZSA9ICdzaW5nbGVRdW90ZSc7XG4gICAgICAgICAgICAgICAgICAgIG90aGVyVHlwZSA9ICdkb3VibGVRdW90ZSc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdG9wLWxldmVsIHF1b3Rlcywgc2luZ2xlIHF1b3RlcyBpbnNpZGUgdmFsaWQgZG91YmxlIFxuICAgICAgICAgICAgICAgIC8vIHF1b3RlIGJsb2NrcywgYW5kIGVzY2FwZWQgcXVvdGVzIGFyZW4ndCB0cmVhdGVkIGFzIFxuICAgICAgICAgICAgICAgIC8vIHNlbWFudGljLiB0aGVyZSBpcyBwcm9iYWJseSBhIGJ1ZyB3aXRoIHN1Y2Nlc3NpdmVcbiAgICAgICAgICAgICAgICAvLyBiYWNrc2xhc2hlc1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50ID0gTWF0Y2hlcy5jdXJyZW50TWF0Y2g7XG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50IHx8XG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuZ2V0RGF0YVR5cGUoY3VycmVudCkgPT09ICdodG1sJyB8fFxuICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmdldERhdGFUeXBlKGN1cnJlbnQpID09PSAnaG9vaycgfHxcbiAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXREYXRhVHlwZShjdXJyZW50KSA9PT0gb3RoZXJUeXBlIHx8XG4gICAgICAgICAgICAgICAgICAgIHRleHRbaW5kZXggLSAxXSA9PT0gJ1xcXFwnIHx8XG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuaXNGaW5pc2hlZFN0YXJ0VGFnKGN1cnJlbnQpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBuZXdUZXh0ID0gUGFyc2VyLmNyZWF0ZU9wZW5UYWcoXG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuZ2V0TmV3TWF0Y2hJZCgpLFxuICAgICAgICAgICAgICAgICAgICBxdW90ZVR5cGUpO1xuXG4gICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBuZXcgdGV4dFxuICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIuYWRkU3RyaW5nQXRJbmRleCh0ZXh0LCBuZXdUZXh0LCBpbmRleCk7XG5cbiAgICAgICAgICAgICAgICAvLyBza2lwIGFoZWFkIHRoZSBsZW5ndGggb2YgdGhlIGFkZGVkIHN0cmluZ1xuICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoICsgMTtcblxuICAgICAgICAgICAgICAgIC8vbWF0Y2hPcmlnSW5kZXhlcy51bnNoaWZ0KG9yaWdJbmRleCk7XG4gICAgICAgICAgICAgICAgb3JpZ0luZGV4Kys7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCB0byB0aGUgaW5kZXggYWZ0ZXIgdGhlIG5leHQgKHVuZXNjYXBlZClcbiAgICAgICAgICAgICAgICAvLyBkb3VibGUgcXVvdGVcbiAgICAgICAgICAgICAgICBsZXQgYmFja3NsYXNoZXMgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpbmRleCA8IHRleHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0W2luZGV4XSA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrc2xhc2hlcysrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRleHRbaW5kZXhdID09PSBxdW90ZUNoYXIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tzbGFzaGVzICUgMiA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dFtpbmRleF0gPT09ICc8JyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja3NsYXNoZXMgJSAyID09PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdmFsaWQgaHRtbCBlbGVtZW50cyBpbiBzdHJpbmdzXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWZ0ZXIgPSB0ZXh0LnNsaWNlKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub2RlTWF0Y2hlcyA9IGFyZ3VtZW50c1szXS5tYXAoZnVuY3Rpb24oYWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWZ0ZXIuc2xpY2UoMCwgYWEubGVuZ3RoKSA9PT0gYWE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IG5vZGVNYXRjaGVzLmxlbmd0aDsgamorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlTWF0Y2hlc1tqal0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gYXJndW1lbnRzWzNdW2pqXS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnSW5kZXggKz0gYXJndW1lbnRzWzNdW2pqXS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrc2xhc2hlcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBvcmlnSW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgdW5jbG9zZWQgcXVvdGVzXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSB0ZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdUZXh0ID0gJzwvdHctbWF0Y2g+JztcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFBhcnNlci5hZGRTdHJpbmdBdEluZGV4KHRleHQsIG5ld1RleHQsIGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAvL21hdGNoT3JpZ0luZGV4ZXMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMudGV4dCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLm9yaWdJbmRleCA9IG9yaWdJbmRleDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGxlc3NlclRoYW5Ob25FbnRpdHkodGV4dCwgaW5kZXgsIG9yaWdJbmRleCkge1xuICAgICAgICAgICAgICAgIGxldCBhZnRlciA9IHRleHQuc2xpY2UoaW5kZXgpO1xuICAgICAgICAgICAgICAgIGxldCBub2RlTWF0Y2hlcyA9IGFyZ3VtZW50c1szXS5tYXAoZnVuY3Rpb24oYWEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFmdGVyLnNsaWNlKDAsIGFhLmxlbmd0aCkgPT09IGFhO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgamogPSAwOyBqaiA8IG5vZGVNYXRjaGVzLmxlbmd0aDsgamorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZU1hdGNoZXNbampdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCArPSBhcmd1bWVudHNbM11bampdLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnSW5kZXggKz0gYXJndW1lbnRzWzNdW2pqXS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMudGV4dCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLm9yaWdJbmRleCA9IG9yaWdJbmRleDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHN1Z2FyY3ViZU1hY3JvT3BlbmVyKHRleHQsIGluZGV4LCBvcmlnSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBtYWNyb3MgbmFtZXMgYXJlIHRlcm1pbmF0ZWQgYnkgYSBzcGFjZSBvciAmZ3Q7Jmd0O1xuICAgICAgICAgICAgICAgIGxldCBtYWNyb1R5cGUgPSB0ZXh0LnNsaWNlKGluZGV4ICsgOCkuc3BsaXQoLyB8Jmd0OyZndDsvKVswXTtcbiAgICAgICAgICAgICAgICBpZiAoIW1hY3JvVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IG5ld1RleHQgPSAnPC90dy1tYXRjaD4nO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIG9wZW5pbmcgPDwgYnJhY2tldHNcbiAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLnJlbW92ZUNoYXJhY3RlcnNBdEluZGV4KFxuICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgOCArIG1hY3JvVHlwZS5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgLy9tYXRjaE9yaWdJbmRleGVzLnVuc2hpZnQob3JpZ0luZGV4KTtcblxuICAgICAgICAgICAgICAgIG9yaWdJbmRleCArPSA4ICsgbWFjcm9UeXBlLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIC8vIGRvbid0IHN0YXJ0IGEgbmV3IG1hY3JvIGlmIGl0J3MgYW4gZW5kaW5nIHRhZ1xuICAgICAgICAgICAgICAgIGlmIChNYXRjaGVzLmN1cnJlbnRNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VycmVudE1hdGNoVHlwZSA9IFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXRNYWNyb1R5cGUoTWF0Y2hlcy5jdXJyZW50TWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1hdGNoVHlwZSA9PT0gJ2Vsc2VpZicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNYXRjaFR5cGUgPT09ICdlbHNlLWlmJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE1hdGNoVHlwZSA9PT0gJ2Vsc2UnKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1hdGNoVHlwZSAhPT0gJ2Vsc2UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hY3JvVHlwZSA9PT0gJ2Vsc2VpZicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm9UeXBlID09PSAnZWxzZS1pZicgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFjcm9UeXBlID09PSAnZWxzZScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgodGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1RleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IE1hdGNoZXMuZ2V0Q3VycmVudFBhcmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuY3VycmVudE1hdGNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5jdXJyZW50TWF0Y2ggPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFjcm9UeXBlID09PSAnL2lmJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWNyb1R5cGUgPT09ICdlbmRpZicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gbmV3VGV4dC5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gTWF0Y2hlcy5nZXRDdXJyZW50UGFyZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5jdXJyZW50TWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmN1cnJlbnRNYXRjaCA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBhcnNlci5pc0VuZGluZ1RhZyhtYWNyb1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgY2xvc2luZyAmZ3Q7Jmd0OyBicmFja2V0c1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhcnNlci5yZW1vdmVDaGFyYWN0ZXJzQXRJbmRleCh0ZXh0LCBpbmRleCwgOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnSW5kZXggKz0gODtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIuYWRkU3RyaW5nQXRJbmRleCh0ZXh0LCBuZXdUZXh0LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCArPSBuZXdUZXh0Lmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gTWF0Y2hlcy5nZXRDdXJyZW50UGFyZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuY3VycmVudE1hdGNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuY3VycmVudE1hdGNoID0gcGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYXRjaE9yaWdJbmRleGVzLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLm9yaWdJbmRleCA9IG9yaWdJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdNYXRjaCA9IE1hdGNoZXMuY3JlYXRlTWF0Y2hPYmplY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFjcm8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5jdXJyZW50TWF0Y2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3VnYXJjdWJlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hY3JvVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuY3VycmVudE1hdGNoLmNoaWxkcmVuLnB1c2gobmV3TWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmN1cnJlbnRNYXRjaCA9IG5ld01hdGNoO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuY3VycmVudE1hdGNoID0gTWF0Y2hlcy5jcmVhdGVNYXRjaE9iamVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYWNybycsXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Z2FyY3ViZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNyb1R5cGUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5ld1RleHQgPSBQYXJzZXIuY3JlYXRlT3BlblRhZyhcbiAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXRDdXJyZW50TWF0Y2hJZCgpLFxuICAgICAgICAgICAgICAgICAgICAnbWFjcm8nLFxuICAgICAgICAgICAgICAgICAgICAnc3VnYXJjdWJlJyxcbiAgICAgICAgICAgICAgICAgICAgbWFjcm9UeXBlKTtcbiAgICAgICAgICAgICAgICAvLyBhZGQgbmV3IHRleHRcbiAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgodGV4dCwgbmV3VGV4dCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgbGVuZ3RoIG9mIHRoZSBuZXcgdGV4dFxuICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy50ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMub3JpZ0luZGV4ID0gb3JpZ0luZGV4O1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaGFybG93ZU1hY3JvT3BlbmVyKHRleHQsIGluZGV4LCBvcmlnSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBoYXJsb3dlIG1hY3JvIG5hbWVzIGFyZSB0ZXJtaW5hdGVkIGJ5IGEgY29sb25cbiAgICAgICAgICAgICAgICBsZXQgbmV4dENvbG9uID0gdGV4dFxuICAgICAgICAgICAgICAgICAgICAuc2xpY2UoaW5kZXggKyAxKVxuICAgICAgICAgICAgICAgICAgICAuc2VhcmNoKCc6Jyk7XG4gICAgICAgICAgICAgICAgbGV0IG5leHROb25FbmRlciA9IHRleHRcbiAgICAgICAgICAgICAgICAgICAgLnNsaWNlKGluZGV4ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgLnNlYXJjaCgvW1xccygpPjsnXCJdLyk7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dENvbG9uID09PSAtMSB8fFxuICAgICAgICAgICAgICAgICAgICBuZXh0Tm9uRW5kZXIgPT09IC0xIHx8XG4gICAgICAgICAgICAgICAgICAgIG5leHROb25FbmRlciA8IG5leHRDb2xvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRjaGVzLmN1cnJlbnRNYXRjaCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5jdXJyZW50TWF0Y2guZGlhbGVjdCA9PT0gJ2hhcmxvd2UnKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmhhcmxvd2VQYXJlbnRoZXNlcysrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBtYWNyb1R5cGUgPSB0ZXh0LnNsaWNlKGluZGV4ICsgMSkuc3BsaXQoJzonKVswXTtcblxuICAgICAgICAgICAgICAgIC8vIHNraXAgb3ZlciB0aGUgb3BlbmluZyAoLCB0aGUgbWFjcm8gbmFtZSwgYW5kIHRoZVxuICAgICAgICAgICAgICAgIC8vIHRlcm1pbmFsIGNvbG9uXG4gICAgICAgICAgICAgICAgdGV4dCA9IFBhcnNlci5yZW1vdmVDaGFyYWN0ZXJzQXRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIDIgKyBtYWNyb1R5cGUubGVuZ3RoKTtcblxuICAgICAgICAgICAgICAgIC8vbWF0Y2hPcmlnSW5kZXhlcy51bnNoaWZ0KG9yaWdJbmRleCk7XG4gICAgICAgICAgICAgICAgb3JpZ0luZGV4ICs9IDEgKyBtYWNyb1R5cGUubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgaWYgKE1hdGNoZXMuY3VycmVudE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdNYXRjaCA9IE1hdGNoZXMuY3JlYXRlTWF0Y2hPYmplY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFjcm8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5jdXJyZW50TWF0Y2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaGFybG93ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWNyb1R5cGUpO1xuICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmN1cnJlbnRNYXRjaC5jaGlsZHJlbi5wdXNoKG5ld01hdGNoKTtcbiAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5jdXJyZW50TWF0Y2ggPSBuZXdNYXRjaDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmN1cnJlbnRNYXRjaCA9IE1hdGNoZXMuY3JlYXRlTWF0Y2hPYmplY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFjcm8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdoYXJsb3dlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hY3JvVHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IG5ld1RleHQgPSBQYXJzZXIuY3JlYXRlT3BlblRhZyhcbiAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXRDdXJyZW50TWF0Y2hJZCgpLFxuICAgICAgICAgICAgICAgICAgICAnbWFjcm8nLFxuICAgICAgICAgICAgICAgICAgICAnaGFybG93ZScsXG4gICAgICAgICAgICAgICAgICAgIG1hY3JvVHlwZSk7XG5cbiAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgodGV4dCwgbmV3VGV4dCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgbGVuZ3RoIG9mIHRoZSBuZXcgdGV4dFxuICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy50ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMub3JpZ0luZGV4ID0gb3JpZ0luZGV4O1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc3VnYXJjdWJlTWFjcm9DbG9zZXIodGV4dCwgaW5kZXgsIG9yaWdJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghTWF0Y2hlcy5jdXJyZW50TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBuZXdUZXh0O1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudE1hdGNoID0gTWF0Y2hlcy5jdXJyZW50TWF0Y2g7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGNoZXMuaXNEb3VibGVUYWdNYWNyb09wZW5lcihjdXJyZW50TWF0Y2gpKSB7XG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuY3VycmVudE1hdGNoLmZpbmlzaGVkU3RhcnRUYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5ld1RleHQgPSBQYXJzZXIuY3JlYXRlT3BlblRhZyhcbiAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXROZXdNYXRjaElkKCksXG4gICAgICAgICAgICAgICAgICAgICdvcGVuVGFnVGVybWluYXRvcicsXG4gICAgICAgICAgICAgICAgICAgICdzdWdhcmN1YmUnKTtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgodGV4dCwgbmV3VGV4dCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNsb3NpbmcgPj4gYnJhY2tldHNcbiAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLnJlbW92ZUNoYXJhY3RlcnNBdEluZGV4KHRleHQsIGluZGV4LCA4KTtcblxuICAgICAgICAgICAgICAgIG5ld1RleHQgPSAnPC90dy1tYXRjaD4nO1xuICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIuYWRkU3RyaW5nQXRJbmRleCh0ZXh0LCBuZXdUZXh0LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgaW5kZXggKz0gbmV3VGV4dC5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFNYXRjaGVzLmN1cnJlbnRNYXRjaC5maW5pc2hlZFN0YXJ0VGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXRDdXJyZW50UGFyZW50KE1hdGNoZXMuY3VycmVudE1hdGNoKTtcbiAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5jdXJyZW50TWF0Y2ggPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIC8vbWF0Y2hPcmlnSW5kZXhlcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy50ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMub3JpZ0luZGV4ID0gb3JpZ0luZGV4O1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaGFybG93ZU1hY3JvQ2xvc2VyKHRleHQsIGluZGV4LCBvcmlnSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0Y2hlcy5oYXJsb3dlUGFyZW50aGVzZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuaGFybG93ZVBhcmVudGhlc2VzLS07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFNYXRjaGVzLmN1cnJlbnRNYXRjaCB8fFxuICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmN1cnJlbnRNYXRjaC5kaWFsZWN0ID09PSAnc3VnYXJjdWJlJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLnJlbW92ZUNoYXJhY3RlcnNBdEluZGV4KHRleHQsIGluZGV4LCAxKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRNYXRjaCA9IE1hdGNoZXMuY3VycmVudE1hdGNoO1xuICAgICAgICAgICAgICAgIGxldCB0eXBlID0gTWF0Y2hlcy5nZXRNYWNyb1R5cGUoY3VycmVudE1hdGNoKSB8fCAnJztcbiAgICAgICAgICAgICAgICBsZXQgbWFjcm9PYmogPSBNYXRjaGVzLmdldE1hY3JvT2JqZWN0KHR5cGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFtYWNyb09iaikge1xuICAgICAgICAgICAgICAgICAgICBtYWNyb09iaiA9IFN0YXRlLm1hY3JvQWxpYXNTdG9yZVt0eXBlXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIW1hY3JvT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hY3JvT2JqID0gU3RhdGUuZnVuY3Rpb25TdG9yZVt0eXBlXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIW1hY3JvT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qd2lkZUFsZXJ0KCdUaGVyZSBpcyBubyBtYWNybyBkZWZpbml0aW9uIGZvciB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFjcm8gdHlwZSAnICsgdHlwZSArICcuJyk7ICovXG4gICAgICAgICAgICAgICAgICAgIG1hY3JvT2JqID0ge307XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IG5ld1RleHQ7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRIb29rID0gdGV4dC5zbGljZShpbmRleCkubWF0Y2goL1xccypcXFsvKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dEhvb2sgJiZcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5zbGljZShpbmRleCkuaW5kZXhPZihuZXh0SG9va1swXSkgPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gYnJlYWtzIGlmIHJlcGxhY2VkIGluIGFueSB3YXk/Pz9cbiAgICAgICAgICAgICAgICAgICAgbWFjcm9PYmouaXNEb3VibGVUYWcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmN1cnJlbnRNYXRjaC5maW5pc2hlZFN0YXJ0VGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbmV3VGV4dCA9IFBhcnNlci5jcmVhdGVPcGVuVGFnKFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXROZXdNYXRjaElkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAnb3BlblRhZ1Rlcm1pbmF0b3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmxvd2UnKSArICc8L3R3LW1hdGNoPic7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIuYWRkU3RyaW5nQXRJbmRleCh0ZXh0LCBuZXdUZXh0LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmN1cnJlbnRNYXRjaCA9IE1hdGNoZXMuY3VycmVudE1hdGNoLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgbmV3VGV4dCA9IFBhcnNlci5jcmVhdGVPcGVuVGFnKFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXROZXdNYXRjaElkKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAnb3BlblRhZ1Rlcm1pbmF0b3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2hhcmxvd2UnKSArICc8L3R3LW1hdGNoPic7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIuYWRkU3RyaW5nQXRJbmRleCh0ZXh0LCBuZXdUZXh0LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1RleHQgPSAnPC90dy1tYXRjaD4nO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgodGV4dCwgbmV3VGV4dCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBpbmRleCArPSBuZXdUZXh0Lmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9tYXRjaE9yaWdJbmRleGVzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLnRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5vcmlnSW5kZXggPSBvcmlnSW5kZXg7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBoYXJsb3dlSG9va09wZW5lcih0ZXh0LCBpbmRleCwgb3JpZ0luZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKE1hdGNoZXMuY3VycmVudE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdNYXRjaCA9IE1hdGNoZXMuY3JlYXRlTWF0Y2hPYmplY3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAnaG9vaycsXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmN1cnJlbnRNYXRjaCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdoYXJsb3dlJyk7XG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuY3VycmVudE1hdGNoLmNoaWxkcmVuLnB1c2gobmV3TWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmN1cnJlbnRNYXRjaCA9IG5ld01hdGNoO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuY3VycmVudE1hdGNoID0gTWF0Y2hlcy5jcmVhdGVNYXRjaE9iamVjdChcbiAgICAgICAgICAgICAgICAgICAgICAgICdob29rJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaGFybG93ZScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIucmVtb3ZlQ2hhcmFjdGVyc0F0SW5kZXgodGV4dCwgaW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgLy9tYXRjaE9yaWdJbmRleGVzLnVuc2hpZnQob3JpZ0luZGV4KTtcblxuICAgICAgICAgICAgICAgIGxldCBuZXdUZXh0ID0gUGFyc2VyLmNyZWF0ZU9wZW5UYWcoXG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuZ2V0Q3VycmVudE1hdGNoSWQoKSwgJ2hvb2snLCAnaGFybG93ZScpO1xuICAgICAgICAgICAgICAgIC8vIGFkZCBuZXcgdGV4dFxuICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIuYWRkU3RyaW5nQXRJbmRleCh0ZXh0LCBuZXdUZXh0LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgLy8gYWRkIHRoZSBsZW5ndGggb2YgdGhlIG5ldyB0ZXh0XG4gICAgICAgICAgICAgICAgaW5kZXggKz0gbmV3VGV4dC5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLnRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5vcmlnSW5kZXggPSBvcmlnSW5kZXg7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBoYXJsb3dlSG9va0Nsb3Nlcih0ZXh0LCBpbmRleCwgb3JpZ0luZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFNYXRjaGVzLmN1cnJlbnRNYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgaG9va0lEID0gTWF0Y2hlcy5nZXRDdXJyZW50TWF0Y2hJZCgpO1xuICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIucmVtb3ZlQ2hhcmFjdGVyc0F0SW5kZXgodGV4dCwgaW5kZXgsIDEpO1xuXG4gICAgICAgICAgICAgICAgbGV0IG5ld1RleHQgPSAnPC90dy1tYXRjaD4nO1xuICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIuYWRkU3RyaW5nQXRJbmRleCh0ZXh0LCBuZXdUZXh0LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgaW5kZXggKz0gbmV3VGV4dC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIE1hdGNoZXMuY3VycmVudE1hdGNoID0gXG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuZ2V0Q3VycmVudFBhcmVudChNYXRjaGVzLmN1cnJlbnRNYXRjaCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgdHlwZSA9IE1hdGNoZXMuZ2V0TWFjcm9UeXBlKE1hdGNoZXMuY3VycmVudE1hdGNoKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmlzRmluaXNoZWRTdGFydFRhZyhNYXRjaGVzLmN1cnJlbnRNYXRjaCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuZXdUZXh0ID0gJzwvdHctbWF0Y2g+JztcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFBhcnNlci5hZGRTdHJpbmdBdEluZGV4KHRleHQsIG5ld1RleHQsIGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmN1cnJlbnRNYXRjaCA9IFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXRDdXJyZW50UGFyZW50KE1hdGNoZXMuY3VycmVudE1hdGNoKTtcblxuICAgICAgICAgICAgICAgICAgICAvL21hdGNoT3JpZ0luZGV4ZXMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMudGV4dCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLm9yaWdJbmRleCA9IG9yaWdJbmRleDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHZhcmlhYmxlKHRleHQsIGluZGV4LCBvcmlnSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoL1xccy8udGVzdCh0ZXh0W2luZGV4ICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBlbmRlclJFID0gL1tcXHM8PiwoKVxcW1xcXSdcIl18Jmx0O3wmZ3Q7fCQvO1xuICAgICAgICAgICAgICAgIGxldCB2YXJMZW5ndGggPSB0ZXh0XG4gICAgICAgICAgICAgICAgICAgIC5zbGljZShpbmRleClcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KGVuZGVyUkUpWzBdLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIGxldCBhY2Nlc3NvcnNMZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRbaW5kZXggKyB2YXJMZW5ndGhdID09PSAnWycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPVxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5zbGljZShpbmRleCArIHZhckxlbmd0aCkubWF0Y2goL1xcW1xcUytcXF0vKSB8fCBbJyddO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hhciA9IHRleHRbaW5kZXggKyB2YXJMZW5ndGggKyBtYXRjaFswXS5sZW5ndGhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoWzBdLmxlbmd0aCB8fCAhZW5kZXJSRS50ZXN0KG5leHRDaGFyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gdmFyTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ0luZGV4ICs9IHZhckxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLm9yaWdJbmRleCA9IG9yaWdJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGFjY2Vzc29yc0xlbmd0aCA9IG1hdGNoWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgbmV3VGV4dCA9IFBhcnNlci5jcmVhdGVPcGVuVGFnKFxuICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmdldE5ld01hdGNoSWQoKSwgJ3ZhcmlhYmxlJyk7XG4gICAgICAgICAgICAgICAgdGV4dCA9IFBhcnNlci5hZGRTdHJpbmdBdEluZGV4KHRleHQsIG5ld1RleHQsIGluZGV4KTtcbiAgICAgICAgICAgICAgICBpbmRleCArPSBuZXdUZXh0Lmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIGluZGV4ICs9IHZhckxlbmd0aDtcbiAgICAgICAgICAgICAgICBvcmlnSW5kZXggKz0gdmFyTGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFjY2Vzc29yc0xlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcGxpdCA9IHRleHQuc2xpY2UoaW5kZXgsIGluZGV4ICsgYWNjZXNzb3JzTGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KC9bXFxbXFxdXS8pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGFhKSB7IHJldHVybiBhYSAhPT0gJyc7IH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGxpdC5mb3JFYWNoKGZ1bmN0aW9uKGFjY2Vzc29yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdUZXh0ID0gUGFyc2VyLmNyZWF0ZU9wZW5UYWcoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXROZXdNYXRjaElkKCksICdhY2Nlc3NvcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFBhcnNlci5hZGRTdHJpbmdBdEluZGV4KHRleHQsIG5ld1RleHQsIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYWNjZXNzb3JWYWwgPSBhY2Nlc3NvcjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIFwiXCIgb3IgJydcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW1vdmluZ1F1b3RlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjY2Vzc29yWzBdID09PSBhY2Nlc3NvclthY2Nlc3Nvci5sZW5ndGggLSAxXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhY2Nlc3NvclswXSA9PT0gJ1wiJyB8fCBhY2Nlc3NvclswXSA9PT0gXCInXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92aW5nUXVvdGVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NvclZhbCA9IGFjY2Vzc29yLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLnJlbW92ZUNoYXJhY3RlcnNBdEluZGV4KHRleHQsIGluZGV4ICsgMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFsgKyBhY2Nlc3NvclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gMSArIGFjY2Vzc29yVmFsLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW92aW5nUXVvdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFBhcnNlci5yZW1vdmVDaGFyYWN0ZXJzQXRJbmRleCh0ZXh0LCBpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICsgXVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3VGV4dCA9ICc8L3R3LW1hdGNoPic7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgodGV4dCwgbmV3VGV4dCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gbmV3VGV4dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5ld1RleHQgPSAnPC90dy1tYXRjaD4nO1xuICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIuYWRkU3RyaW5nQXRJbmRleCh0ZXh0LCBuZXdUZXh0LCBpbmRleCk7XG5cbiAgICAgICAgICAgICAgICAvLyBmaWd1cmUgb3V0IHdoeSB5b3UgbmVlZCBhIC0gMSBoZXJlIGxvbFxuICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoIC0gMTtcblxuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy50ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMub3JpZ0luZGV4ID0gb3JpZ0luZGV4O1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgbnVtYmVyKHRleHQsIGluZGV4LCBvcmlnSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBza2lwIGFueXRoaW5nIG91dHNpZGUgb2YgbWF0Y2hlc1xuICAgICAgICAgICAgICAgIGlmICghTWF0Y2hlcy5jdXJyZW50TWF0Y2ggfHxcbiAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5pc0ZpbmlzaGVkU3RhcnRUYWcoTWF0Y2hlcy5jdXJyZW50TWF0Y2gpIHx8XG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuZ2V0RGF0YVR5cGUoTWF0Y2hlcy5jdXJyZW50TWF0Y2gpID09PSAnaG9vaycpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyogZ2V0IHRoZSBuZXh0IG5vbi1udW1iZXIgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgICogbWF0Y2ggYWxsIHdoaXRlc3BhY2UgYW5kIG1hdGhlbWF0aWNhbCBvcGVyYXRvcnMgYW5kXG4gICAgICAgICAgICAgICAgICogbWFjcm8gY2xvc3VyZXMgYW5kIGNvbW1hcywgYW5kIGVuc3VyZSB0aGF0IHRoZSBuZXh0XG4gICAgICAgICAgICAgICAgICogbm9uLW51bWJlciBjaGFyYWN0ZXIgaXMgb25lICovXG4gICAgICAgICAgICAgICAgbGV0IHRlbXAgPSB0ZXh0LnNsaWNlKGluZGV4KS5zZWFyY2goL1xcRC8pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0UGVyaW9kID0gdGV4dC5zbGljZShpbmRleCkuc2VhcmNoKC9cXC4vKTtcblxuICAgICAgICAgICAgICAgIGlmICh0ZW1wID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wID0gdGV4dC5zbGljZShpbmRleCkubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZmlyc3RQZXJpb2QgIT09IC0xICYmIGZpcnN0UGVyaW9kIDw9IHRlbXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcCArPSB0ZXh0LnNsaWNlKGluZGV4KS5tYXRjaCgvXFwuXFxkKi8pWzBdLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKiBza2lwIGFueXRoaW5nIG91dHNpZGUgb2YgbWF0Y2hlcywgb3IgaW52YWxpZCBtYXRjaGVzLiAqL1xuICAgICAgICAgICAgICAgIGlmICghdGV4dFtpbmRleCArIHRlbXBdIHx8XG4gICAgICAgICAgICAgICAgICAgIC9bXlxcZC4sXS8udGVzdCh0ZXh0LnNsaWNlKGluZGV4LCBpbmRleCArIHRlbXApKSB8fFxuICAgICAgICAgICAgICAgICAgICAhL14oW1xccytcXC0qXFwvJSgpLD5dfCZndDspLy50ZXN0KHRleHQuc2xpY2UoaW5kZXggKyB0ZW1wKSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IG5ld1RleHQgPSBQYXJzZXIuY3JlYXRlT3BlblRhZyhcbiAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXROZXdNYXRjaElkKCksXG4gICAgICAgICAgICAgICAgICAgICdudW1iZXInKTtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgodGV4dCwgbmV3VGV4dCwgaW5kZXgpO1xuICAgICAgICAgICAgICAgIGluZGV4ICs9IHRlbXAgKyBuZXdUZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICBvcmlnSW5kZXggKz0gdGVtcDtcblxuICAgICAgICAgICAgICAgIG5ld1RleHQgPSAnPC90dy1tYXRjaD4nO1xuICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIuYWRkU3RyaW5nQXRJbmRleCh0ZXh0LCBuZXdUZXh0LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgaW5kZXggKz0gbmV3VGV4dC5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLnRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5vcmlnSW5kZXggPSBvcmlnSW5kZXg7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBuZXdsaW5lKHRleHQsIGluZGV4LCBvcmlnSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMubGluZU51bWJlcisrO1xuXG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLnRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5pbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5vcmlnSW5kZXggPSBvcmlnSW5kZXg7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICByZXNlcnZlZFdvcmQodGV4dCwgaW5kZXgsIG9yaWdJbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgYW55dGhpbmcgb3V0c2lkZSBvZiBtYXRjaGVzXG4gICAgICAgICAgICAgICAgaWYgKCFNYXRjaGVzLmN1cnJlbnRNYXRjaCB8fFxuICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmlzRmluaXNoZWRTdGFydFRhZyhNYXRjaGVzLmN1cnJlbnRNYXRjaCkgfHxcbiAgICAgICAgICAgICAgICAgICAgTWF0Y2hlcy5nZXREYXRhVHlwZShNYXRjaGVzLmN1cnJlbnRNYXRjaCkgPT09ICdob29rJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBoYW5kbGUgY29tbWFzIGZvciBhcmd1bWVudCBsaXN0c1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0W2luZGV4XSA9PT0gJywnICYmXG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuY3VycmVudE1hdGNoLmRhdGFUeXBlID09PSAnbWFjcm8nKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1RleHQgPSBQYXJzZXIuY3JlYXRlT3BlblRhZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hdGNoZXMuZ2V0TmV3TWF0Y2hJZCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbW1hJyk7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIuYWRkU3RyaW5nQXRJbmRleCh0ZXh0LCBuZXdUZXh0LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNraXAgYWhlYWQgdGhlIGxlbmd0aCBvZiB0aGUgYWRkZWQgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld1RleHQgPSAnPC90dy1tYXRjaD4nO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgodGV4dCwgbmV3VGV4dCwgaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gbmV3VGV4dC5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdGVzdCBhbmQgZml4IGZvciBsZWZ0LXBhZGRlZCBzdHJpbmdzXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBhbGwgc3BhY2VzIGJldHdlZW4gY29tbWEtc2VwYXJhdGVkIGFyZ3VtZW50c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IC8gLztcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlZ2V4LnRlc3QodGV4dFtpbmRleCArIDFdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFBhcnNlci5yZW1vdmVDaGFyYWN0ZXJzQXRJbmRleChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LCBpbmRleCArIDEsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHdvcmQgPSB0ZXh0LnNsaWNlKGluZGV4KS5zcGxpdCgvW1xcczw+KV18Jmx0O3wmZ3Q7LylbMF07XG4gICAgICAgICAgICAgICAgaWYgKHRleHRbaW5kZXggLSAxXS5tYXRjaCgvXFxzLykgJiYgXG4gICAgICAgICAgICAgICAgICAgIE1hdGNoZXMucmVzZXJ2ZWRXb3JkTG9va3VwW3dvcmRdKSBcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdUZXh0ID0gUGFyc2VyLmNyZWF0ZU9wZW5UYWcoXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmdldE5ld01hdGNoSWQoKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAncmVzZXJ2ZWRXb3JkJyk7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIuYWRkU3RyaW5nQXRJbmRleCh0ZXh0LCBuZXdUZXh0LCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNraXAgYWhlYWQgdGhlIGxlbmd0aCBvZiB0aGUgYWRkZWQgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ICs9IG5ld1RleHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIHRvIHRoZSBpbmRleCBhZnRlciB0aGUgcmVzZXJ2ZWQgd29yZCBjb21wbGV0ZXNcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gd29yZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdJbmRleCArPSB3b3JkLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICBuZXdUZXh0ID0gJzwvdHctbWF0Y2g+JztcbiAgICAgICAgICAgICAgICAgICAgdGV4dCA9IFBhcnNlci5hZGRTdHJpbmdBdEluZGV4KHRleHQsIG5ld1RleHQsIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggKz0gbmV3VGV4dC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy50ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMub3JpZ0luZGV4ID0gb3JpZ0luZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHBhcnNlVGV4dCh0ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0dy1tYXRjaCcpO1xuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdwYXJzZUNvbnRhaW5lcic7XG4gICAgICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gdGV4dDtcblxuICAgICAgICAgICAgUGFyc2VyLnBhcnNlRWxlbWVudChjb250YWluZXIpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICAgICAgfSxcblxuICAgICAgICB1bnBhcnNlRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhVHlwZSA9IE1hdGNoZXMuZ2V0RGF0YVR5cGUoZWxlbWVudCk7XG4gICAgICAgICAgICBjb25zdCBtYWNyb1R5cGUgPSBNYXRjaGVzLmdldE1hY3JvVHlwZShlbGVtZW50KTtcblxuICAgICAgICAgICAgaWYgKGRhdGFUeXBlID09PSAnc2luZ2xlUXVvdGUnIHx8XG4gICAgICAgICAgICAgICAgZGF0YVR5cGUgPT09ICdkb3VibGVRdW90ZScgfHxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZSA9PT0gJ3Jlc2VydmVkV29yZCcgfHxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZSA9PT0gJ2NvbW1hJyB8fFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlID09PSAnaHRtbCcgfHxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZSA9PT0gJ2FjY2Vzc29yJykgXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5vdXRlckhUTUwgPSBlbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YVR5cGUgPT09ICdob29rJykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQub3V0ZXJIVE1MID0gJ1snICsgZWxlbWVudC5pbm5lckhUTUwgKyAnXSc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGFUeXBlID09PSAndmFyaWFibGUnKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5vdXRlckhUTUwgPSBlbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YVR5cGUgPT09ICdtYWNybycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaWFsZWN0ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGlhbGVjdCcpO1xuICAgICAgICAgICAgICAgIGlmIChkaWFsZWN0ID09PSAnaGFybG93ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vdXRlckhUTUwgPSBcbiAgICAgICAgICAgICAgICAgICAgICAgICcoJyArIE1hdGNoZXMuZ2V0TWFjcm9UeXBlKGVsZW1lbnQpICsgJzogJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaWFsZWN0ID09PSAnc3VnYXJjdWJlJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoTWFjcm9bbWFjcm9UeXBlXS5pc0RvdWJsZVRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vdXRlclRleHQgPSAnJmx0OyZsdDsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmdldE1hY3JvVHlwZShlbGVtZW50KSArICcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcmbHQ7Jmx0O2VuZCcgKyBtYWNyb1R5cGUgKyAnJmd0OyZndDsnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vdXRlclRleHQgPSAnJmx0OyZsdDsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRjaGVzLmdldE1hY3JvVHlwZShlbGVtZW50KSArICcgJyArIGVsZW1lbnQuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd3V0P1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBkYXRhLWRpYWxlY3QgdmFsdWUgd2FzIG5vdCByZWNvZ25pemVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgb25seSBjdXJyZW50bHktc3VwcG9ydGVkIGRpYWxlY3RzIGFyZSAnICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAnU3VnYXJjdWJlIGFuZCBIYXJsb3dlLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YVR5cGUgPT09ICdvcGVuVGFnVGVybWluYXRvcicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkaWFsZWN0ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGlhbGVjdCcpO1xuICAgICAgICAgICAgICAgIGlmIChkaWFsZWN0ID09PSAnaGFybG93ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vdXRlckhUTUwgPSAnKSc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaWFsZWN0ID09PSAnc3VnYXJjdWJlJykge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm91dGVySFRNTCA9ICcmZ3Q7Jmd0Oyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd3V0P1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBkYXRhLWRpYWxlY3QgdmFsdWUgd2FzIG5vdCByZWNvZ25pemVkLiBUaGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnb25seSBjdXJyZW50bHktc3VwcG9ydGVkIGRpYWxlY3RzIGFyZSBTdWdhcmN1YmUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYW5kIEhhcmxvd2UuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHVucGFyc2VUZXh0KHRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgICAgICBQYXJzZXIudW5wYXJzZU5vZGUoZGl2KTtcbiAgICAgICAgICAgIHJldHVybiBkaXYuaW5uZXJIVE1MO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBhcnNlU2ltcGxlKHRleHQsIHZhcnMpIHtcbiAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5ydW5uaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLnRleHQgPSB0ZXh0O1xuICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLmluZGV4ID0gMDtcbiAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5vcmlnSW5kZXggPSAwO1xuXG4gICAgICAgICAgICBsZXQgaW5kZXggPSBTdGF0ZS5wYXJzZXJTdGF0dXMuaW5kZXg7XG4gICAgICAgICAgICBsZXQgb3JpZ0luZGV4ID0gU3RhdGUucGFyc2VyU3RhdHVzLm9yaWdJbmRleDtcblxuICAgICAgICAgICAgbGV0IHNpbXBsZVZhcmlhYmxlcyA9IG51bGw7XG4gICAgICAgICAgICBpZiAodmFycyAmJiB0eXBlb2YodmFycykgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgc2ltcGxlVmFyaWFibGVzID0gdmFycztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5ERUJVRyB8fFxuICAgICAgICAgICAgICAgIChTdGF0ZS5yZWNvcmRpbmdUcmFuc2NyaXB0ICYmIE9wdGlvbnMucmVjb3JkaW5nTGV2ZWxzLnBhcnNlKSlcbiAgICAgICAgICAgIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb3dOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9wID0gU3RhdGVbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsb3dOYW1lLmluZGV4T2YoJ2JpbmRpbmcnKSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvd05hbWUuaW5kZXhPZigndHJhbnNjcmlwdCcpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbG93TmFtZS5zdGFydHNXaXRoKCdjdXJyZW50JykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc0Z1bmN0aW9uKHByb3ApKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZVtuYW1lXSA9IFN0YXRlW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudFRyYW5zY3JpcHRFbnRyeS5wYXJzZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHBhc3NhZ2VOYW1lOiBTdGF0ZS5jdXJyZW50UGFzc2FnZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiBKU09OLnN0cmluZ2lmeShuZXdTdGF0ZSksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdGFydHNpbXBsZXBhcnNlJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBmcm9tKFN0YXRlLnBhcnNlclN0YXR1cy5lcnJvcnMpLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLmVycm9ycyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aGlsZSAoaW5kZXggPCB0ZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lVGV4dCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKC9eJmx0O1xcP1xccy8udGVzdCh0ZXh0LnNsaWNlKGluZGV4KSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC9cXHNcXD8mZ3Q7Ly50ZXN0KHRleHQuc2xpY2UoaW5kZXgpKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpbXBsZUZyYWcgPSB0ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggKyB0ZXh0LnNsaWNlKGluZGV4KS5zZWFyY2goL1xcc1xcPyZndDsvKSArIDYpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoNiwgLTYpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRleHQgPSBQYXJzZXIucmVtb3ZlQ2hhcmFjdGVyc0F0SW5kZXgoXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaW1wbGVGcmFnLmxlbmd0aCArIDEyKTtcblxuICAgICAgICAgICAgICAgICAgICBzaW1wbGVGcmFnLnNwbGl0KCc7JykuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmU6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXI6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50OiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbkFyZ3VtZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN0cmlwUXVvdGVzQW5kUGVyaW9kKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3RyaXBwZWRUZXh0ID0gdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgcGVyaW9kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmlwcGVkVGV4dC5lbmRzV2l0aCgnLicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RyaXBwZWRUZXh0LnN0YXJ0c1dpdGgoJ1wiJykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBwZWRUZXh0LmVuZHNXaXRoKCdcIicpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHQuc2xpY2UoMSwgLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSBsaW5lLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uKHBhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFydC50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24ocGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kaXJlY3RpdmUgPSBzdHJpcFF1b3Rlc0FuZFBlcmlvZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGFydHNbMF0gfHwgJycpLnRyaW0oKS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai50YXJnZXQgPSBzdHJpcFF1b3Rlc0FuZFBlcmlvZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGFydHNbMV0gfHwgJycpLnRyaW0oKS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iai5tb2RpZmllciA9IHN0cmlwUXVvdGVzQW5kUGVyaW9kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwYXJ0c1syXSB8fCAnJykudHJpbSgpLnRvTG93ZXJDYXNlKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcmdUZXh0ID0gKHBhcnRzLnNsaWNlKDMpIHx8ICcnKS5qb2luKCcgJykudHJpbSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBpc1ZhbGlkUXVvdGVBdEluZGV4KHRleHQsIGlpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRbaWldID09PSAnXCInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gdGV4dC5zbGljZSgwLCBpaSArIDEpLm1hdGNoKC9cXFxcKyg/PVwiKV4vKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRleHRbaWkgLSAxXSAhPT0gJ1xcXFwnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWF0Y2ggJiYgbWF0Y2hbMF0ubGVuZ3RoICUgMiA9PT0gMCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcXVvdGVPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcXVvdGVPcGVuSW5kZXggPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlpID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpaSA8IGFyZ1RleHQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ1RleHRbaWldID09PSAnXCInICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWRRdW90ZUF0SW5kZXgoYXJnVGV4dCwgaWkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1b3RlT3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ1RleHQuc2xpY2UocXVvdGVPcGVuSW5kZXggKyAxLCBpaSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVvdGVPcGVuSW5kZXggPSBpaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1b3RlT3BlbiA9ICFxdW90ZU9wZW47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC90aGV8c2V0Ly50ZXN0KG9iai5kaXJlY3RpdmUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgL2lzfHRvfGFyZS8udGVzdChvYmoubW9kaWZpZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaW1wbGVWYXJpYWJsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZihhcmdzKSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3MubGVuZ3RoIDw9IDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbXBsZVZhcmlhYmxlc1tvYmoudGFyZ2V0XSA9IGFyZ3NbMF0gfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW1wbGVWYXJpYWJsZXNbb2JqLnRhcmdldF0gPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvZG8vLnRlc3Qob2JqLmRpcmVjdGl2ZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvdG98d2l0aC8udGVzdChvYmoubW9kaWZpZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdHIgPSAnKCcgKyBvYmoudGFyZ2V0ICsgJzogJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmdzLmxlbmd0aCAtIDE7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9ICdcIicgKyBhcmdzW2lpXSArICdcIiwgJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnXCInICsgYXJnc1thcmdzLmxlbmd0aCAtIDFdICsgJ1wiKSc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gUGFyc2VyLmFkZFN0cmluZ0F0SW5kZXgodGV4dCwgc3RyLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy50ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLnBhcnNlclN0YXR1cy5vcmlnSW5kZXggPSBvcmlnSW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLmluZGV4Kys7XG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLm9yaWdJbmRleCsrO1xuXG4gICAgICAgICAgICAgICAgdGV4dCA9IFN0YXRlLnBhcnNlclN0YXR1cy50ZXh0O1xuICAgICAgICAgICAgICAgIGluZGV4ID0gU3RhdGUucGFyc2VyU3RhdHVzLmluZGV4O1xuICAgICAgICAgICAgICAgIG9yaWdJbmRleCA9IFN0YXRlLnBhcnNlclN0YXR1cy5vcmlnSW5kZXg7XG5cbiAgICAgICAgICAgICAgICBpZiAoZnJhbWVUZXh0ICE9PSB0ZXh0ICYmXG4gICAgICAgICAgICAgICAgICAgICh3aW5kb3cuREVCVUcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChTdGF0ZS5yZWNvcmRpbmdUcmFuc2NyaXB0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW9ucy5yZWNvcmRpbmdMZXZlbHMucGFyc2UpKSlcbiAgICAgICAgICAgICAgICB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG93TmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSBTdGF0ZVtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb3dOYW1lLmluZGV4T2YoJ2JpbmRpbmcnKSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dOYW1lLmluZGV4T2YoJ3RyYW5zY3JpcHQnKSA9PT0gLTEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dOYW1lLnN0YXJ0c1dpdGgoJ2N1cnJlbnQnKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpc0Z1bmN0aW9uKHByb3ApKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlW25hbWVdID0gU3RhdGVbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VHJhbnNjcmlwdEVudHJ5LnBhcnNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKS50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2FnZU5hbWU6IFN0YXRlLmN1cnJlbnRQYXNzYWdlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBKU09OLnN0cmluZ2lmeShuZXdTdGF0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc2ltcGxlcGFyc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBmcm9tKFN0YXRlLnBhcnNlclN0YXR1cy5lcnJvcnMpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5wYXJzZXJTdGF0dXMuZXJyb3JzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAod2luZG93LkRFQlVHIHx8XG4gICAgICAgICAgICAgICAgKFN0YXRlLnJlY29yZGluZ1RyYW5zY3JpcHQgJiYgT3B0aW9ucy5yZWNvcmRpbmdMZXZlbHMucGFyc2UpKVxuICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBuYW1lIGluIFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvd05hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSBTdGF0ZVtuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvd05hbWUuaW5kZXhPZignYmluZGluZycpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbG93TmFtZS5pbmRleE9mKCd0cmFuc2NyaXB0JykgPT09IC0xICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dOYW1lLnN0YXJ0c1dpdGgoJ2N1cnJlbnQnKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzRnVuY3Rpb24ocHJvcCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlW25hbWVdID0gU3RhdGVbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VHJhbnNjcmlwdEVudHJ5LnBhcnNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgcGFzc2FnZU5hbWU6IFN0YXRlLmN1cnJlbnRQYXNzYWdlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IEpTT04uc3RyaW5naWZ5KG5ld1N0YXRlKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2VuZHNpbXBsZXBhcnNlJyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBmcm9tKFN0YXRlLnBhcnNlclN0YXR1cy5lcnJvcnMpLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgU3RhdGUucGFyc2VyU3RhdHVzLmVycm9ycyA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfSxcbiAgICB9O1xufSgpKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgY29uc3QgZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xuXG4gICAgY29uc3QgJGRpc3BsYXlQYXNzYWdlID0gJCgndHctc3RvcnkjcGFzc2FnZScpO1xuXG4gICAgd2luZG93LlJlbmRlcmVyID0ge1xuICAgICAgICBpc1JlbmRlcmluZzogZmFsc2UsXG5cbiAgICAgICAgY29udmVyc2lvbnM6IFtcbiAgICAgICAgICAgICdjb252ZXJ0Q29tcGxleExpbmtzJyxcbiAgICAgICAgICAgICdjb252ZXJ0UGxhaW5MaW5rcycsXG4gICAgICAgICAgICAnY29udmVydEl0YWxpY3MnLFxuICAgICAgICAgICAgJ2NvbnZlcnRCb2xkcycsXG4gICAgICAgICAgICAnY29udmVydFN0cm9uZ3MnLFxuICAgICAgICAgICAgJ2NvbnZlcnRFbXBoYXNlcycsXG4gICAgICAgICAgICAnY29udmVydFN1cGVycycsXG4gICAgICAgICAgICAnY29udmVydFN1YnMnLFxuICAgICAgICAgICAgJ2NvbnZlcnRVbmRlcmxpbmVzJyxcbiAgICAgICAgICAgICdjb252ZXJ0U3RyaWtldGhyb3VnaHMnLFxuICAgICAgICBdLFxuXG4gICAgICAgIHBhc3NhZ2VzU2VlblRoaXNSZW5kZXI6IFtdLFxuXG4gICAgICAgIFBBU1NBR0VfUkVDVVJTSU9OX0xJTUlUOiA1MDAsXG5cbiAgICAgICAgaW5pdGlhbGl6ZVRoZW1lKCkge1xuICAgICAgICAgICAgJCgnI3RoZW1lU3R5bGUnKS5yZXBsYWNlV2l0aChcbiAgICAgICAgICAgICAgICAkKCc8c3R5bGUgaWQ9XCJ0aGVtZVN0eWxlXCI+PC9zdHlsZT4nKVxuICAgICAgICAgICAgICAgICAgICAuaHRtbChTdGF0ZS5jdXJyZW50VGhlbWUuc3R5bGUpKTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIHJlbmRlcihwYXNzYWdlTmFtZSwgcmV3aW5kRmFzdEZvcndhcmQsIHR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMuaXNSZW5kZXJpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICB0aGlzLnBhc3NhZ2VzU2VlblRoaXNSZW5kZXIgPSBbXTtcblxuICAgICAgICAgICAgaWYgKCFwYXNzYWdlTmFtZSB8fCB0eXBlb2YocGFzc2FnZU5hbWUpICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHBhc3NhZ2VOYW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1JlbmRlcmVyLnJlbmRlciBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCAkcGFzc2FnZSA9ICQoJ3R3LXBhc3NhZ2VkYXRhW25hbWU9XCInICsgcGFzc2FnZU5hbWUgKyAnXCJdJyk7XG4gICAgICAgICAgICBpZiAoISRwYXNzYWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHBhc3NhZ2UgcmVmZXJyZWQgdG8gYnkgdGhlIHBhc3NhZ2VOYW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAnYXJndW1lbnQgcGFzc2VkIHRvIFJlbmRlcmVyLnJlbmRlciBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnBhc3NhZ2VzU2VlblRoaXNSZW5kZXIgPSBbIHBhc3NhZ2VOYW1lIF07XG5cbiAgICAgICAgICAgICQoJ3R3LWhpc3RvcnktYnV0dG9uJykuYXBwZW5kVG8oJCgndHctc3RvcnkjcGFzc2FnZScpKTtcblxuICAgICAgICAgICAgTWFjcm8ud29ybGQucmVzdG9yZU1vZGVsUHJvdG9GdW5jcy5oYW5kbGVyKCk7XG5cbiAgICAgICAgICAgIGxldCBjaGFuZ2VkUmVuZGVyVHlwZSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IHRhZ3MgPSAkcGFzc2FnZS5hdHRyKCd0YWdzJyk7XG4gICAgICAgICAgICBpZiAodGFncykge1xuICAgICAgICAgICAgICAgIHRhZ3MgPSB0YWdzLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICAgICAgdGFncy5mb3JFYWNoKGZ1bmN0aW9uKHRhZykge1xuICAgICAgICAgICAgICAgICAgICB0YWcgPSB0YWcudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFnLnN0YXJ0c1dpdGgodGFnLm1hdGNoKC93b3JsZC18d29ybGQvKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0YWcuZW5kc1dpdGgodGFnLm1hdGNoKC93b3JsZC18d29ybGQvKSkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaW1tZWRUYWcgPSB0YWcuc3BsaXQoL3dvcmxkLXx3b3JsZC8pWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyID0gU3RhdGUuY3VycmVudFdvcmxkTW9kZWxTdGF0ZS5hbGwucGxheWVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLmN1cnJlbnRbdHJpbW1lZFRhZ10gPSAnIycgKyBwYXNzYWdlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YWcuc3RhcnRzV2l0aCh0YWcubWF0Y2goJ2NvbmZpZzonKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0YWcuZW5kc1dpdGgodGFnLm1hdGNoKCdjb25maWc6JykpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gdGFnLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zcGxpdCgnY29uZmlnOicpWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCc9JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uKHBhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZFswXSA9PT0gJ3JlbmRlclR5cGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWRbMV0gaW4gQ29uZmlnLnJlbmRlclR5cGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBwYXlsb2FkWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkUmVuZGVyVHlwZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlbmRlclR5cGVzID0gQ29uZmlnLnJlbmRlclR5cGVzO1xuICAgICAgICAgICAgY29uc3QgdGhlbWUgPSBTdGF0ZS5jdXJyZW50VGhlbWU7XG5cbiAgICAgICAgICAgIC8qIEluIGNlcnRhaW4gY2FzZXMsIG1vc3Qgbm90YWJseSBpZiBubyBub2RlIGV4aXN0cywgb3IgaWYgdGhlIFxuICAgICAgICAgICAgICogcmVuZGVyVHlwZSBpcyBzdWdhcmN1YmUsIGEgbmV3IDx0dy1wYXNzYWdlPiBub2RlIG11c3QgYmVcbiAgICAgICAgICAgICAqIGNyZWF0ZWQuICovXG4gICAgICAgICAgICBsZXQgbWFraW5nTm9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHJld2luZEZhc3RGb3J3YXJkID09PSAncmV3aW5kJykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSByZW5kZXJUeXBlcy5qb25haCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCAkcmV3aW5kVG8gPSAkKCd0dy1wYXNzYWdlW2RhdGEtaWQ9XCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NhZ2VOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcIl0nKTtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGUucmV3aW5kVG8ocGFzc2FnZU5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICQoJ3R3LXBhc3NhZ2UnKS5yZW1vdmVDbGFzcygnY3VycmVudCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICRyZXdpbmRUby5hZGRDbGFzcygnY3VycmVudCcpO1xuICAgICAgICAgICAgICAgICAgICAkcmV3aW5kVG8ubmV4dEFsbCgpLmFkZENsYXNzKCdmdXR1cmUnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IHJlbmRlclR5cGVzLnN1Z2FyY3ViZSkge1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5yZXdpbmRUbyhwYXNzYWdlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIG1ha2luZ05vZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHR5cGUgYXJndW1lbnQgcGFzc2VkIHRvIFJlbmRlcmVyLnJlbmRlciAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpcyBub3Qgb25lIG9mIHRoZSByZWNvZ25pemVkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbmZpZy5yZW5kZXJUeXBlcy4gQ2Fubm90IHJld2luZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmV3aW5kRmFzdEZvcndhcmQgPT09ICdmYXN0Zm9yd2FyZCcpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gcmVuZGVyVHlwZXMuam9uYWgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJGZhc3RGb3J3YXJkVG8gPSAkKCd0dy1wYXNzYWdlW2RhdGEtaWQ9XCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NhZ2VOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcIl0nKTtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGUudW5yZXdpbmRUbyhwYXNzYWdlTmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgndHctcGFzc2FnZScpLnJlbW92ZUNsYXNzKCdjdXJyZW50Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgJGZhc3RGb3J3YXJkVG8uYWRkQ2xhc3MoJ2N1cnJlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgJGZhc3RGb3J3YXJkVG8ucmVtb3ZlQ2xhc3MoJ2Z1dHVyZScpO1xuICAgICAgICAgICAgICAgICAgICAkZmFzdEZvcndhcmRUby5wcmV2QWxsKCd0dy1wYXNzYWdlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnZnV0dXJlJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSByZW5kZXJUeXBlcy5zdWdhcmN1YmUpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGUudW5yZXdpbmRUbyhwYXNzYWdlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIG1ha2luZ05vZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHR5cGUgYXJndW1lbnQgcGFzc2VkIHRvIFJlbmRlcmVyLnJlbmRlciAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpcyBub3Qgb25lIG9mIHRoZSByZWNvZ25pemVkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbmZpZy5yZW5kZXJUeXBlcy4gQ2Fubm90IHJld2luZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLyogQ2xpY2tpbmcgYSBsaW5rIHJlbW92ZXMgYWxsIGZ1dHVyZSBzdGF0ZSwgYm90aCBpbiB0ZXJtcyBvZlxuICAgICAgICAgICAgICAgICAqIHZpc2libGUgam9uYWggcGFzc2FnZXMsIGFuZCBvYmplY3RzIGluIFN0YXRlLmZ1dHVyZSpcbiAgICAgICAgICAgICAgICAgKiBhcnJheXMgKi9cbiAgICAgICAgICAgICAgICAkKCd0dy1wYXNzYWdlLmZ1dHVyZScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIFN0YXRlLm5ld1N0YXRlKHBhc3NhZ2VOYW1lKTtcblxuICAgICAgICAgICAgICAgIG1ha2luZ05vZGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobWFraW5nTm9kZSkge1xuICAgICAgICAgICAgICAgIFJlbmRlcmVyLm1ha2VOb2RlKHBhc3NhZ2VOYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgJGN1cnJlbnQgPSAkKCd0dy1wYXNzYWdlLmN1cnJlbnQnKTtcblxuICAgICAgICAgICAgaWYgKHRhZ3MpIHtcbiAgICAgICAgICAgICAgICAvKiBBZGQgYWxsIHRhZ3MgdG8gdGhlIHBhc3NhZ2UgYW5kIGJvZHkgc28gdGhleSBjYW4gYmUgdXNlZCBieSBcbiAgICAgICAgICAgICAgICAgKiBhdXRob3IgQ1NTIGFuZCBKUy4gKi9cbiAgICAgICAgICAgICAgICAkY3VycmVudC5hZGQoJ2JvZHknKS5hdHRyKCdkYXRhLXRhZ3MnLCB0YWdzLmpvaW4oJyAnKSk7XG5cbiAgICAgICAgICAgICAgICB0YWdzLmZvckVhY2goZnVuY3Rpb24odGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhZyA9IHRhZy50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcuc3RhcnRzV2l0aCh0YWcubWF0Y2goJ2NvbmZpZzonKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICF0YWcuZW5kc1dpdGgodGFnLm1hdGNoKCdjb25maWc6JykpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0gdGFnLnNwbGl0KCdjb25maWc6JylbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudHJpbSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCc9JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uKHBhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZFswXS50b0xvd2VyQ2FzZSgpID09PSAnbmV3bGluZWhhbmRsaW5ndHlwZScgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkWzFdIGluIENvbmZpZy5uZXdsaW5lSGFuZGxpbmdUeXBlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25maWcuZWRpdFRoZW1lKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3bGluZUhhbmRsaW5nOiBwYXlsb2FkWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXlsb2FkWzBdLnRvTG93ZXJDYXNlKCkgPT09ICdyZXdpbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlnLmVkaXRUaGVtZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJld2luZDogcGF5bG9hZFsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGF5bG9hZFswXS50b0xvd2VyQ2FzZSgpID09PSAnZmFzdGZvcndhcmQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlnLmVkaXRUaGVtZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhc3Rmb3J3YXJkOiBwYXlsb2FkWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUmVuZGVyVHlwZSkge1xuICAgICAgICAgICAgICAgIENvbmZpZy5lZGl0VGhlbWUoe1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJUeXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUJhY2tBbmRGb3J3YXJkQnV0dG9ucygpO1xuXG4gICAgICAgICAgICBpZiAoU3RhdGUuY3VycmVudFRoZW1lLm5ld2xpbmVIYW5kbGluZ1R5cGUgPT09XG4gICAgICAgICAgICAgICAgQ29uZmlnLm5ld2xpbmVIYW5kbGluZ1R5cGVzLm5ld2xpbmVUb0JyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMubmV3bGluZVRvQnIoJGN1cnJlbnRbMF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKCdib2R5Jykuc2Nyb2xsVG9wKCRjdXJyZW50Lm9mZnNldCgpLnRvcCAtIDUpO1xuXG4gICAgICAgICAgICB0aGlzLmlzUmVuZGVyaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgIFN0YXRlLnZhbGlkYXRlU3RhdGVJbnRlZ3JpdHkoKTtcblxuICAgICAgICAgICAgaWYgKFN0YXRlLnJlY29yZGluZ1RyYW5zY3JpcHQpIHtcbiAgICAgICAgICAgICAgICBPcHRpb25zLnVwZGF0ZVRyYW5zY3JpcHRWaXN1YWxzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgbWFrZU5vZGUocGFzc2FnZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0ICRwYXNzYWdlID0gJCgndHctcGFzc2FnZWRhdGFbbmFtZT1cIicgKyBwYXNzYWdlTmFtZSArICdcIl0nKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlclR5cGVzID0gQ29uZmlnLnJlbmRlclR5cGVzO1xuICAgICAgICAgICAgY29uc3QgdGhlbWUgPSBTdGF0ZS5jdXJyZW50VGhlbWU7XG5cbiAgICAgICAgICAgIGNvbnN0IGhlYWRlclBhc3NhZ2VzID1cbiAgICAgICAgICAgICAgICAkc3RvcnlkYXRhLmZpbmQoJ3R3LXBhc3NhZ2VkYXRhW3RhZ3N+PVwiaGVhZGVyXCJdLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3R3LXBhc3NhZ2VkYXRhW3RhZ3N+PVwicHJlcmVuZGVyXCJdLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3R3LXBhc3NhZ2VkYXRhW3RhZ3N+PVwicHJlLXJlbmRlclwiXScpXG4gICAgICAgICAgICAgICAgLnRvQXJyYXkoKTtcbiAgICAgICAgICAgIGNvbnN0IGZvb3RlclBhc3NhZ2VzID1cbiAgICAgICAgICAgICAgICAkc3RvcnlkYXRhLmZpbmQoJ3R3LXBhc3NhZ2VkYXRhW3RhZ3N+PVwiZm9vdGVyXCJdLCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3R3LXBhc3NhZ2VkYXRhW3RhZ3N+PVwicG9zdHJlbmRlclwiXSwgJyArXG4gICAgICAgICAgICAgICAgICAgICd0dy1wYXNzYWdlZGF0YVt0YWdzfj1cInBvc3QtcmVuZGVyXCJdJylcbiAgICAgICAgICAgICAgICAudG9BcnJheSgpO1xuXG4gICAgICAgICAgICAvLyBhZGQgYSB2YWxpZCBwYXNzYWdlIGZvciByZW5kZXJpbmcgaWYgb25lIGRvZXMgbm90IGFscmVhZHkgZXhpc3RcbiAgICAgICAgICAgIGlmICh0aGVtZS5yZW5kZXJUeXBlID09PSByZW5kZXJUeXBlcy5qb25haCB8fFxuICAgICAgICAgICAgICAgICEkKCd0dy1wYXNzYWdlLmN1cnJlbnQnKS5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQYXNzYWdlKHBhc3NhZ2VOYW1lLCAkcGFzc2FnZS5odG1sKCkpO1xuICAgICAgICAgICAgfSBcblxuICAgICAgICAgICAgY29uc3QgJGN1cnJlbnROb2RlID0gJCgndHctcGFzc2FnZS5jdXJyZW50Jyk7XG5cbiAgICAgICAgICAgIGlmICh0aGVtZS5yZW5kZXJUeXBlID09PSByZW5kZXJUeXBlcy5zdWdhcmN1YmUpIHtcbiAgICAgICAgICAgICAgICAkY3VycmVudE5vZGVbMF0uaW5uZXJIVE1MID0gJHBhc3NhZ2UuaHRtbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBPcHRpb25zLmVuZFRyYW5zY3JpcHRFbnRyeSgpO1xuICAgICAgICAgICAgT3B0aW9ucy5zdGFydFRyYW5zY3JpcHRFbnRyeSgpO1xuXG4gICAgICAgICAgICBsZXQgdGV4dDtcbiAgICAgICAgICAgIGxldCBoZWFkZXJJRCA9IDE7XG4gICAgICAgICAgICBoZWFkZXJQYXNzYWdlcy5yZXZlcnNlKCkuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gQ29tcGlsZXIuY29tcGlsZVNpbXBsZShoZWFkZXIuaW5uZXJIVE1MKTtcbiAgICAgICAgICAgICAgICAkKGhlYWRlcikuYXR0cigndGFncycpLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbih0YWcpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9iamVjdDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhZyBpbiBTdGF0ZS50aGVtZVN0b3JlLnBhc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoZW1lID0gU3RhdGUudGhlbWVTdG9yZS5wYXNzYWdlW3RhZ107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZW5kZXJTdHIgPSB0aGVtZS5yZW5kZXIodGV4dCwgaGVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHN0eWxlIGNsYXNzPVwiJyArIHRhZyArICctc3R5bGVcIj4nICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGVtZS5zdHlsZSB8fCAnJykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L3N0eWxlPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlclN0cjtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJTdHIgPSAnPHR3LWhlYWRlciBpZD1cImhlYWRlcicgK1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJJRCArXG4gICAgICAgICAgICAgICAgICAgICdcIj4nICsgXG4gICAgICAgICAgICAgICAgICAgIHRleHQgK1xuICAgICAgICAgICAgICAgICAgICAnPC90dy1oZWFkZXI+JztcbiAgICAgICAgICAgICAgICAkY3VycmVudE5vZGVbMF0uaW5uZXJIVE1MICs9IGhlYWRlclN0cjtcbiAgICAgICAgICAgICAgICBoZWFkZXJJRCsrO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRleHQgPSBDb21waWxlci5jb21waWxlU2ltcGxlKCRwYXNzYWdlLmh0bWwoKSk7XG4gICAgICAgICAgICAkcGFzc2FnZS5hdHRyKCd0YWdzJykuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uKHRhZykge1xuICAgICAgICAgICAgICAgIGlmICh0YWcgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhZyBpbiBTdGF0ZS50aGVtZVN0b3JlLnBhc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhlbWUgPSBTdGF0ZS50aGVtZVN0b3JlLnBhc3NhZ2VbdGFnXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyU3RyID0gdGhlbWUucmVuZGVyKHRleHQsICRwYXNzYWdlWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCArPVxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzdHlsZSBjbGFzcz1cIicgKyB0YWcgKyAnLXN0eWxlXCI+JyArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0aGVtZS5zdHlsZSB8fCAnJykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJzwvc3R5bGU+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJTdHI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRjdXJyZW50Tm9kZS5odG1sKHRleHQpO1xuXG4gICAgICAgICAgICBsZXQgZm9vdGVySUQgPSAxO1xuICAgICAgICAgICAgZm9vdGVyUGFzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihmb290ZXIpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gQ29tcGlsZXIuY29tcGlsZVNpbXBsZShmb290ZXIuaW5uZXJIVE1MKTtcbiAgICAgICAgICAgICAgICAkKGZvb3RlcikuYXR0cigndGFncycpLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbih0YWcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YWcgaW4gU3RhdGUudGhlbWVTdG9yZS5wYXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aGVtZSA9IFN0YXRlLnRoZW1lU3RvcmUucGFzc2FnZVt0YWddO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVuZGVyU3RyID0gdGhlbWUucmVuZGVyKHRleHQsIGZvb3Rlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzdHlsZSBjbGFzcz1cIicgKyB0YWcgKyAnLXN0eWxlXCI+JyArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhlbWUuc3R5bGUgfHwgJycpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9zdHlsZT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJTdHI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZvb3RlclN0ciA9ICc8dHctZm9vdGVyIGlkPVwiZm9vdGVyJyArXG4gICAgICAgICAgICAgICAgICAgIGZvb3RlcklEICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiPicgKyBcbiAgICAgICAgICAgICAgICAgICAgdGV4dCArXG4gICAgICAgICAgICAgICAgICAgICc8L3R3LWZvb3Rlcj4nO1xuICAgICAgICAgICAgICAgICRjdXJyZW50Tm9kZVswXS5pbm5lckhUTUwgKz0gZm9vdGVyU3RyO1xuICAgICAgICAgICAgICAgIGZvb3RlcklEKys7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgUmVuZGVyZXIuY29udmVyc2lvbnMuZm9yRWFjaChmdW5jdGlvbihjb252ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbCA9IFJlbmRlcmVyW2NvbnZlcnNpb25dKCRjdXJyZW50Tm9kZS5odG1sKCkpO1xuICAgICAgICAgICAgICAgICRjdXJyZW50Tm9kZVswXS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHRleHRDaGFuZ2VzID0gT3B0aW9ucy5yZWNvcmRpbmdMZXZlbHMudGV4dENoYW5nZXM7XG4gICAgICAgICAgICBpZiAod2luZG93LkRFQlVHIHx8IHRleHRDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgT3B0aW9ucy5jYXB0dXJlVGV4dENoYW5nZXMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQ29tcGlsZXIuY29tcGlsZSgkY3VycmVudE5vZGUpO1xuXG4gICAgICAgICAgICBjb25zdCBwYWdlRXZlbnRzID0gT3B0aW9ucy5yZWNvcmRpbmdMZXZlbHMucGFnZUV2ZW50cztcbiAgICAgICAgICAgIGlmICh3aW5kb3cuREVCVUcgfHwgcGFnZUV2ZW50cykge1xuICAgICAgICAgICAgICAgIE9wdGlvbnMuY2FwdHVyZVBhZ2VFdmVudHMoKTsgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBhZGRQYXNzYWdlKHBhc3NhZ2VOYW1lLCB0ZXh0KSB7XG4gICAgICAgICAgICAkKCd0dy1wYXNzYWdlJykucmVtb3ZlQ2xhc3MoJ2N1cnJlbnQnKTtcblxuICAgICAgICAgICAgY29uc3QgbmV3UGFzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3R3LXBhc3NhZ2UnKTtcbiAgICAgICAgICAgIG5ld1Bhc3NhZ2UuY2xhc3NOYW1lID0gJ2N1cnJlbnQgJztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKFN0YXRlLmN1cnJlbnRUaGVtZS5yZXdpbmQpIHtcbiAgICAgICAgICAgICAgICBuZXdQYXNzYWdlLmNsYXNzTmFtZSArPSAncmV3aW5kICc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChTdGF0ZS5jdXJyZW50VGhlbWUuZmFzdEZvcndhcmQpIHtcbiAgICAgICAgICAgICAgICBuZXdQYXNzYWdlLmNsYXNzTmFtZSArPSAnZmFzdEZvcndhcmQgJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRlcm1pbmFsIHNwYWNlXG4gICAgICAgICAgICBuZXdQYXNzYWdlLmNsYXNzTmFtZSA9IG5ld1Bhc3NhZ2UuY2xhc3NOYW1lLnNsaWNlKDAsIC0xKTtcblxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IFN0YXRlLmN1cnJlbnRUaGVtZS5yZW5kZXJUeXBlO1xuICAgICAgICAgICAgbmV3UGFzc2FnZS5kYXRhc2V0LnJlbmRlclR5cGUgPSB0eXBlO1xuXG4gICAgICAgICAgICAkZGlzcGxheVBhc3NhZ2UuYXBwZW5kKG5ld1Bhc3NhZ2UpO1xuXG4gICAgICAgICAgICBuZXdQYXNzYWdlLmlkID0gcGFzc2FnZU5hbWU7XG4gICAgICAgICAgICBuZXdQYXNzYWdlLmlubmVySFRNTCA9IHRleHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZG9EaXNwbGF5KHBhc3NhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0ICRwYXNzYWdlID0gJChwYXNzYWdlKTtcblxuICAgICAgICAgICAgLy8gQSB2YWx1ZSBvZiAtMSB3aWxsIHNraXAgYWxsIHRoZXNlIGNoZWNrcy5cbiAgICAgICAgICAgIGlmICh0aGlzLlBBU1NBR0VfUkVDVVJTSU9OX0xJTUlUICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFzc2FnZXNTZWVuVGhpc1JlbmRlci5wdXNoKCRwYXNzYWdlLmF0dHIoJ25hbWUnKSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzZWVuID0gdGhpcy5wYXNzYWdlc1NlZW5UaGlzUmVuZGVyO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpY3QgPSB7fTtcbiAgICAgICAgICAgICAgICBzZWVuLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRpY3RbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpY3RbbmFtZV0gPSAxO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGljdFtuYW1lXSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lcyhkaWN0KS5tYXAoZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRpY3RbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmIChtYXggPj0gdGhpcy5QQVNTQUdFX1JFQ1VSU0lPTl9MSU1JVCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1JlY3Vyc2lvbiBsaW1pdCByZWFjaGVkLiBJdCBpcyBsaWtlbHkgdGhhdCBhICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3NhZ2UgaXMgYXQgc29tZSBsZXZlbCBkaXNwbGF5aW5nIGl0c2VsZiwgd2hpY2ggJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXhjZXB0aW5nIGludGVycnVwdGlvbiB3b3VsZCBjcmVhdGUgYW4gaW5maW5pdGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbG9vcC4gSW5jcmVhc2UgUmVuZGVyZXIuUEFTU0FHRV9SRUNVUlNJT05fTElNSVQgaWYgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmVlZGVkLCBidXQgYmV3YXJlIHRoYXQgdGhpcyBkcmFtYXRpY2FsbHkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2VzIHRoZSByaXNrIG9mIGZhdGFsIGJyb3dzZXIgc3RhY2sgZXJyb3JzLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkaXNwbGF5ID0gJCgnPHR3LWRpc3BsYXkgaWQ9JyArICRwYXNzYWdlLmF0dHIoJ25hbWUnKSArICc+JyArXG4gICAgICAgICAgICAgICAgJHBhc3NhZ2UuaHRtbCgpICtcbiAgICAgICAgICAgICAgICAnPC90dy1tYXRjaD4nKVswXTtcbiAgICAgICAgICAgIENvbXBpbGVyLmNvbXBpbGUoZGlzcGxheSk7XG4gICAgICAgICAgICByZXR1cm4gZGlzcGxheTtcbiAgICAgICAgfSxcblxuICAgICAgICBoYW5kbGVCYWNrQW5kRm9yd2FyZEJ1dHRvbnMoKSB7XG4gICAgICAgICAgICBjb25zdCAkY3VycmVudE5vZGUgPSAkKCd0dy1wYXNzYWdlLmN1cnJlbnQnKTtcbiAgICAgICAgICAgIGNvbnN0ICRiYWNrQnV0dG9uID0gJCgndHctaGlzdG9yeS1idXR0b24uYmFjaycpO1xuICAgICAgICAgICAgY29uc3QgJGZvcndhcmRCdXR0b24gPSAkKCd0dy1oaXN0b3J5LWJ1dHRvbi5mb3J3YXJkJyk7XG4gICAgICAgICAgICBjb25zdCAkdHdTdG9yeSA9ICQoJ3R3LXN0b3J5I3Bhc3NhZ2UnKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZ09iaiA9IFN0YXRlLmN1cnJlbnRUaGVtZTtcblxuICAgICAgICAgICAgaWYgKGNvbmZpZ09iai5yZW5kZXJUeXBlID09PSBDb25maWcucmVuZGVyVHlwZXMuc3VnYXJjdWJlKSB7XG4gICAgICAgICAgICAgICAgLy8gZmlyc3QgaXMgbG9hZC4gY2FuJ3QgZ28gdG8gbG9hZFxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZUaGVtZSA9XG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLnRoZW1lSGlzdG9yeVtTdGF0ZS50aGVtZUhpc3RvcnkubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICAgICAgaWYgKFN0YXRlLmhpc3RvcnkubGVuZ3RoID4gMiAmJlxuICAgICAgICAgICAgICAgICAgICBwcmV2VGhlbWUucmVuZGVyVHlwZSA9PT0gQ29uZmlnLnJlbmRlclR5cGVzLnN1Z2FyY3ViZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICRiYWNrQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJGN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkYmFja0J1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdoaWRkZW4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKCR0d1N0b3J5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoU3RhdGUuaGlzdG9yeUZ1dHVyZS5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLnRoZW1lSGlzdG9yeUZ1dHVyZVswXS5yZW5kZXJUeXBlID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlnLnJlbmRlclR5cGVzLnN1Z2FyY3ViZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICRmb3J3YXJkQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJGN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkZm9yd2FyZEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdoaWRkZW4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKCR0d1N0b3J5KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkY3VycmVudE5vZGUucmVtb3ZlQ2xhc3MoJ2pvbmFoJyk7XG4gICAgICAgICAgICAgICAgJGN1cnJlbnROb2RlLmFkZENsYXNzKCdzdWdhcmN1YmUnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnT2JqLnJlbmRlclR5cGUgPT09XG4gICAgICAgICAgICAgICAgQ29uZmlnLnJlbmRlclR5cGVzLmpvbmFoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICRiYWNrQnV0dG9uLmFkZCgkZm9yd2FyZEJ1dHRvbilcbiAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdoaWRkZW4nKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJHR3U3RvcnkpO1xuXG4gICAgICAgICAgICAgICAgJGN1cnJlbnROb2RlLnJlbW92ZUNsYXNzKCdzdWdhcmN1YmUnKTtcbiAgICAgICAgICAgICAgICAkY3VycmVudE5vZGUuYWRkQ2xhc3MoJ2pvbmFoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29udmVydFBsYWluTGlua3ModGV4dCkge1xuICAgICAgICAgICAgY29uc3QgcmVnZXggPSAvXFxbXFxbKFxccypbXltcXF1cXHNdW15bXFxdXSopXFxdXFxdL2c7XG4gICAgICAgICAgICBsZXQgbWF0Y2g7XG4gICAgICAgICAgICB3aGlsZSAobWF0Y2ggPSByZWdleC5leGVjKHRleHQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hTdHIgPSAnPHR3LWxpbmsgY2xhc3M9XCJwYXNzYWdlXCIgcGFzc2FnZS1uYW1lPVwiJyArXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdICsgJ1wiPicgKyBtYXRjaFsxXSArICc8L3R3LWxpbms+JztcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG1hdGNoWzBdLCBtYXRjaFN0cik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbnZlcnRDb21wbGV4TGlua3ModGV4dCkge1xuICAgICAgICAgICAgbGV0IG1hdGNoO1xuXG4gICAgICAgICAgICAvLyBzdWdhcmN1YmUtc3R5bGUgbGlua3NcbiAgICAgICAgICAgIGxldCByZWdleCA9IC9cXFtcXFsoXFxzKlteW1xcXVxcc11bXltcXF1dKlxcfFxccypbXltcXF1cXHNdW15bXFxdXSopXV0vZztcbiAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGxpdCA9IG1hdGNoWzFdLnNwbGl0KCd8Jyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hTdHIgPSAnPHR3LWxpbmsgY2xhc3M9XCJwYXNzYWdlXCIgcGFzc2FnZS1uYW1lPVwiJyArXG4gICAgICAgICAgICAgICAgICAgIHNwbGl0LnNsaWNlKDEsIHNwbGl0Lmxlbmd0aCkuam9pbignfCcpICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiPicgKyBzcGxpdFswXSArICc8L3R3LWxpbms+JztcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG1hdGNoWzBdLCBtYXRjaFN0cik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGhhcmxvd2Utc3R5bGUgZm9yd2FyZC1hcnJvdyBsaW5rc1xuICAgICAgICAgICAgcmVnZXggPSAvXFxbXFxbKFxccypbXltcXF1cXHNdW15bXFxdXSotJmd0O1xccypbXltcXF1cXHNdW15bXFxdXSopXV0vZztcbiAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGxpdCA9IG1hdGNoWzFdLnNwbGl0KC8tKD86PnwmZ3Q7KS8pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoU3RyID0gJzx0dy1saW5rIGNsYXNzPVwicGFzc2FnZVwiIHBhc3NhZ2UtbmFtZT1cIicgK1xuICAgICAgICAgICAgICAgICAgICBzcGxpdFtzcGxpdC5sZW5ndGggLSAxXSArXG4gICAgICAgICAgICAgICAgICAgICdcIj4nICsgc3BsaXQuc2xpY2UoMCwgc3BsaXQubGVuZ3RoIC0gMSkuam9pbignLT4nKSArXG4gICAgICAgICAgICAgICAgICAgICc8L3R3LWxpbms+JztcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG1hdGNoWzBdLCBtYXRjaFN0cik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGhhcmxvd2Utc3R5bGUgYmFja3dhcmQtYXJyb3cgbGlua3NcbiAgICAgICAgICAgIHJlZ2V4ID0gL1xcW1xcWyhcXHMqW15bXFxdXFxzXVteW1xcXV0qJmx0Oy1cXHMqW15bXFxdXFxzXVteW1xcXV0qKV1dL2c7XG4gICAgICAgICAgICB3aGlsZSAobWF0Y2ggPSByZWdleC5leGVjKHRleHQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BsaXQgPSBtYXRjaFsxXS5zcGxpdCgvKD86PHwmbHQ7KS0vKTtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG1hdGNoWzBdLFxuICAgICAgICAgICAgICAgICAgICAnPHR3LWxpbmsgY2xhc3M9XCJwYXNzYWdlXCIgcGFzc2FnZS1uYW1lPVwiJyArXG4gICAgICAgICAgICAgICAgICAgIHNwbGl0WzBdICsgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAgICBzcGxpdC5zbGljZSgxLCBzcGxpdC5sZW5ndGgpLmpvaW4oJzwtJykgK1xuICAgICAgICAgICAgICAgICAgICAnPC90dy1saW5rPicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfSxcblxuICAgICAgICBjb252ZXJ0SXRhbGljcyh0ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCByZWdleCA9IC9cXC9cXC8oXFxTKylcXC9cXC8vZztcbiAgICAgICAgICAgIGxldCBtYXRjaDtcbiAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaFN0ciA9ICc8aSBjbGFzcz1cImdhdGVseVwiPicgKyBtYXRjaFsxXSArICc8L2k+JztcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG1hdGNoWzBdLCBtYXRjaFN0cik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbnZlcnRCb2xkcyh0ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCByZWdleCA9IC8nJyhcXFMrKScnL2c7XG4gICAgICAgICAgICBsZXQgbWF0Y2g7XG4gICAgICAgICAgICB3aGlsZSAobWF0Y2ggPSByZWdleC5leGVjKHRleHQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hTdHIgPSAnPGIgY2xhc3M9XCJnYXRlbHlcIj4nICsgbWF0Y2hbMV0gKyAnPC9iPic7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShtYXRjaFswXSwgbWF0Y2hTdHIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfSxcblxuICAgICAgICBjb252ZXJ0U3Ryb25ncyh0ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCByZWdleCA9IC9cXCpcXCooXFxTKylcXCpcXCovZztcbiAgICAgICAgICAgIGxldCBtYXRjaDtcbiAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaFN0ciA9ICc8c3Ryb25nIGNsYXNzPVwiZ2F0ZWx5XCI+JyArXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoWzFdICtcbiAgICAgICAgICAgICAgICAgICAgJzwvc3Ryb25nPic7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShtYXRjaFswXSwgbWF0Y2hTdHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29udmVydEVtcGhhc2VzKHRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gL1xcKihcXFMrKVxcKi9nO1xuICAgICAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICAgICAgd2hpbGUgKG1hdGNoID0gcmVnZXguZXhlYyh0ZXh0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoU3RyID0gJzxlbSBjbGFzcz1cImdhdGVseVwiPicgKyBtYXRjaFsxXSArICc8L2VtPic7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShtYXRjaFswXSwgbWF0Y2hTdHIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfSxcblxuICAgICAgICBjb252ZXJ0U3VwZXJzKHRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gL1xcXlxcXihcXFMrKVxcXlxcXi9nO1xuICAgICAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICAgICAgd2hpbGUgKG1hdGNoID0gcmVnZXguZXhlYyh0ZXh0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoU3RyID0gJzxzdXAgY2xhc3M9XCJnYXRlbHlcIj4nICsgbWF0Y2hbMV0gKyAnPC9zdXA+JztcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKG1hdGNoWzBdLCBtYXRjaFN0cik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvbnZlcnRTdWJzKHRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gL35+KFxcUyspfn4vZztcbiAgICAgICAgICAgIGxldCBtYXRjaDtcbiAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IHJlZ2V4LmV4ZWModGV4dCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaFN0ciA9ICc8ZGVsIGNsYXNzPVwiZ2F0ZWx5XCI+JyArIG1hdGNoWzFdICsgJzwvZGVsPic7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShtYXRjaFswXSwgbWF0Y2hTdHIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfSxcblxuICAgICAgICBjb252ZXJ0VW5kZXJsaW5lcyh0ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCByZWdleCA9IC9fXyhcXFMrKV9fL2c7XG4gICAgICAgICAgICBsZXQgbWF0Y2g7XG4gICAgICAgICAgICB3aGlsZSAobWF0Y2ggPSByZWdleC5leGVjKHRleHQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hTdHIgPSAnPHUgY2xhc3M9XCJnYXRlbHlcIj4nICsgbWF0Y2hbMV0gKyAnPC91Pic7XG4gICAgICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZShtYXRjaFswXSwgbWF0Y2hTdHIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGV4dDtcbiAgICAgICAgfSxcblxuICAgICAgICBjb252ZXJ0U3RyaWtldGhyb3VnaHModGV4dCkge1xuICAgICAgICAgICAgY29uc3QgcmVnZXggPSAvPT0oXFxTKyk9PS9nO1xuICAgICAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICAgICAgd2hpbGUgKG1hdGNoID0gcmVnZXguZXhlYyh0ZXh0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoU3RyID0gJzx1IGNsYXNzPVwiZ2F0ZWx5XCI+JyArIG1hdGNoWzFdICsgJzwvdT4nO1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UobWF0Y2hbMF0sIG1hdGNoU3RyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbmV3bGluZVRvQnIocGFyZW50KSB7XG4gICAgICAgICAgICBsZXQgcGFyZW50RWxlbSA9IHBhcmVudDtcbiAgICAgICAgICAgIGlmIChwYXJlbnRFbGVtWzBdKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50RWxlbSA9IHBhcmVudEVsZW1bMF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHRyZWVXYWxrZXIgPSBkb2N1bWVudC5jcmVhdGVUcmVlV2Fsa2VyKFxuICAgICAgICAgICAgICAgIHBhcmVudEVsZW0sXG4gICAgICAgICAgICAgICAgTm9kZUZpbHRlci5TSE9XX1RFWFQsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhY2NlcHROb2RlOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnRhZ05hbWUgIT09ICdTQ1JJUFQnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnRhZ05hbWUgIT09ICdTVFlMRScpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE5vZGVGaWx0ZXIuRklMVEVSX1JFSkVDVDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBub2RlTGlzdCA9IFtdO1xuICAgICAgICAgICAgd2hpbGUgKHRyZWVXYWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICAgICAgICAgIG5vZGVMaXN0LnB1c2godHJlZVdhbGtlci5jdXJyZW50Tm9kZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5vZGVMaXN0LmZvckVhY2goZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcGxhY2VkID0gbm9kZS50ZXh0Q29udGVudFxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxuL2csICc8YnIgY2xhc3M9XCJnYXRlbHlcIj4nKTtcbiAgICAgICAgICAgICAgICAkKG5vZGUpLnJlcGxhY2VXaXRoKHJlcGxhY2VkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHVuZG9OZXdsaW5lSGFuZGxpbmcocGFyZW50KSB7XG4gICAgICAgICAgICBjb25zdCAkdGFncyA9ICQocGFyZW50KS5maW5kKCdici5nYXRlbHknKTtcbiAgICAgICAgICAgICR0YWdzLmVhY2goZnVuY3Rpb24oXywgZWxlbSkge1xuICAgICAgICAgICAgICAgIGVsZW0ub3V0ZXJIVE1MID0gJ1xcbic7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB3aW5kb3cuZGVlcENvcHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZihvYmopICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZ2F0ZWx5TG9nKCdvYmogYXJndW1lbnQgcGFzc2VkIHRvIGRlZXBDb3B5IGlzIG5vdCBhbiBvYmplY3QuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmopKTtcbiAgICB9XG5cbiAgICB3aW5kb3cuZGVlcEZyZWV6ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICBmb3IgKGxldCBuYW1lIGluIG9iaikge1xuICAgICAgICAgICAgLy8gRnJlZXplIHByb3AgaWYgaXQgaXMgYW4gb2JqZWN0XG4gICAgICAgICAgICBpZiAodHlwZW9mKG9ialtuYW1lXSkgPT09ICdvYmplY3QnICYmIG9ialtuYW1lXSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRlZXBGcmVlemUob2JqW25hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZyZWV6ZSBzZWxmIChuby1vcCBpZiBhbHJlYWR5IGZyb3plbilcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUob2JqKTtcbiAgICB9XG5cbiAgICB3aW5kb3cuU3RhdGUgPSB7XG4gICAgICAgIHVzZXJEYXRhOiB7fSxcblxuICAgICAgICBnZXRVc2VyRGF0YShuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RhdGUudXNlckRhdGFbbmFtZV07XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0VXNlckRhdGEobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIFN0YXRlLnVzZXJEYXRhW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29tcGlsZXJTdGF0dXM6IHtcbiAgICAgICAgICAgIHBhc3NhZ2U6ICcnLFxuICAgICAgICAgICAgcm9vdEVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICAgICAgcnVubmluZzogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcnM6IFtdLFxuICAgICAgICB9LFxuXG4gICAgICAgIHBhcnNlclN0YXR1czoge1xuICAgICAgICAgICAgZWxlbWVudDogbnVsbCxcbiAgICAgICAgICAgIHRleHQ6IG51bGwsXG4gICAgICAgICAgICBsaW5lTnVtYmVyOiAwLFxuICAgICAgICAgICAgcnVubmluZzogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcnM6IFtdLFxuICAgICAgICB9LFxuXG4gICAgICAgIGN1cnJlbnRQYXNzYWdlTmFtZTogbnVsbCxcbiAgICAgICAgaGlzdG9yeTogW10sXG4gICAgICAgIGhpc3RvcnlGdXR1cmU6IFtdLFxuXG4gICAgICAgIGN1cnJlbnRUcmFuc2NyaXB0RW50cnk6IG51bGwsXG4gICAgICAgIHRyYW5zY3JpcHRIaXN0b3J5OiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGFzc2FnZU5hbWU6ICdsb2FkJyxcbiAgICAgICAgICAgICAgICB0ZXh0Q2hhbmdlczogW10sXG4gICAgICAgICAgICAgICAgc3RhdGVDaGFuZ2VzOiBbXSxcbiAgICAgICAgICAgICAgICBwYWdlRXZlbnRzOiBbXSxcbiAgICAgICAgICAgICAgICBwYXJzZXM6IFtdLFxuICAgICAgICAgICAgICAgIG1hY3JvczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICB0cmFuc2NyaXB0SGlzdG9yeUZ1dHVyZTogW10sXG4gICAgICAgIHJlY29yZGluZ1RyYW5zY3JpcHQ6IGZhbHNlLFxuXG4gICAgICAgIGN1cnJlbnRWYXJpYWJsZVN0YXRlOiBudWxsLFxuICAgICAgICB2YXJpYWJsZUhpc3Rvcnk6IFtdLFxuICAgICAgICB2YXJpYWJsZUhpc3RvcnlGdXR1cmU6IFtdLFxuXG4gICAgICAgIGN1cnJlbnRXb3JsZE1vZGVsU3RhdGU6IG51bGwsXG4gICAgICAgIHdvcmxkTW9kZWxIaXN0b3J5OiBbXSxcbiAgICAgICAgd29ybGRNb2RlbEhpc3RvcnlGdXR1cmU6IFtdLFxuXG4gICAgICAgIGN1cnJlbnRCaW5kaW5nU3RhdGU6IG51bGwsXG4gICAgICAgIGJpbmRpbmdIaXN0b3J5OiBbXSxcbiAgICAgICAgYmluZGluZ0hpc3RvcnlGdXR1cmU6IFtdLFxuXG4gICAgICAgIGN1cnJlbnRIZWFkZXJJRDogMSxcbiAgICAgICAgY3VycmVudEZvb3RlcklEOiAxLFxuXG4gICAgICAgIGZ1bmN0aW9uU3RvcmU6IHt9LFxuXG4gICAgICAgIG1hY3JvQWxpYXNTdG9yZToge30sXG4gICAgICAgIG1hY3JvQWxpYXNEaXNwb3NhbHM6IFtdLFxuXG4gICAgICAgIHRyYWNlcnlTdG9yZToge30sXG5cbiAgICAgICAgdGhlbWVIaXN0b3J5OiBbXSxcbiAgICAgICAgdGhlbWVIaXN0b3J5RnV0dXJlOiBbXSxcbiAgICAgICAgY3VycmVudFRoZW1lOiBUaGVtZXMuZ2V0RGVmYXVsdFN0b3J5VGhlbWUoKSxcbiAgICAgICAgdGhlbWVTdG9yZToge1xuICAgICAgICAgICAgcGFzc2FnZTogVGhlbWVzLmdldERlZmF1bHRQYXNzYWdlVGhlbWVzKCksXG5cbiAgICAgICAgICAgIHN0b3J5OiB7XG4gICAgICAgICAgICAgICAgJ2RlZmF1bHQnOiAgVGhlbWVzLmdldERlZmF1bHRTdG9yeVRoZW1lKCksXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2ltcGxlVmFyaWFibGVzOiB7fSxcblxuICAgICAgICBnZXRHbG9iYWxWYXJpYWJsZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVlcENvcHkoU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldFNpbXBsZVZhcmlhYmxlcygpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhc3NhZ2VOYW1lID0gU3RhdGUuY3VycmVudFBhc3NhZ2VOYW1lO1xuICAgICAgICAgICAgY29uc3Qgb2JqID0gU3RhdGUuc2ltcGxlVmFyaWFibGVzW3Bhc3NhZ2VOYW1lXTtcbiAgICAgICAgICAgIGlmICghb2JqIHx8IHR5cGVvZihvYmopICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZXBDb3B5KFN0YXRlLnNpbXBsZVZhcmlhYmxlc1twYXNzYWdlTmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldFNpbXBsZVZhcmlhYmxlKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBwYXNzYWdlTmFtZSA9IFN0YXRlLmN1cnJlbnRQYXNzYWdlTmFtZTtcbiAgICAgICAgICAgIGlmICghU3RhdGUuc2ltcGxlVmFyaWFibGVzW3Bhc3NhZ2VOYW1lXSkge1xuICAgICAgICAgICAgICAgIFN0YXRlLnNpbXBsZVZhcmlhYmxlc1twYXNzYWdlTmFtZV0gPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgU3RhdGUuc2ltcGxlVmFyaWFibGVzW3Bhc3NhZ2VOYW1lXVtuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldEFsbFNjb3BlZFZhcmlhYmxlcyhlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoIWlzRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmV0T2JqO1xuICAgICAgICAgICAgbGV0IG92ZXJ3cml0ZXM7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnVFctUEFTU0FHRURBVEEnKSB7XG4gICAgICAgICAgICAgICAgcmV0T2JqID0gU3RhdGUuZ2V0R2xvYmFsVmFyaWFibGVzKCk7XG4gICAgICAgICAgICAgICAgb3ZlcndyaXRlcyA9IFN0YXRlLmdldFNpbXBsZVZhcmlhYmxlcygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXRPYmogPSBTdGF0ZS5nZXRCbG9ja1Njb3BlKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIG92ZXJ3cml0ZXMgPSBTdGF0ZS5nZXRHbG9iYWxWYXJpYWJsZXMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lcyhvdmVyd3JpdGVzKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXRPYmpbbmFtZV0gPSBvdmVyd3JpdGVzW25hbWVdO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiByZXRPYmo7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0VmFyaWFibGUodmFyaWFibGVOYW1lT3JQb2ludGVyLCBibG9ja05vZGUsIHJlY3Vyc2luZykge1xuICAgICAgICAgICAgbGV0IHZhck5hbWVWYWw7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IHR5cGVvZih2YXJpYWJsZU5hbWVPclBvaW50ZXIpO1xuICAgICAgICAgICAgaWYgKCF2YXJpYWJsZU5hbWVPclBvaW50ZXIgfHxcbiAgICAgICAgICAgICAgICAodHlwZSAhPT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gJ3N0cmluZycpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhcmlhYmxlTmFtZU9yUG9pbnRlciBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1N0YXRlLmdldFZhcmlhYmxlIGlzIG5vdCBhIHZhbGlkIHN0cmluZyBvciBvYmplY3QuICcgK1xuICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YodmFyaWFibGVOYW1lT3JQb2ludGVyKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RhdGUuaXNQb2ludGVyKHZhcmlhYmxlTmFtZU9yUG9pbnRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY3Vyc2luZyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnU29tZXdoZXJlIHdpdGhpbiB0aGUgc3RhdGUgdGhlcmUgaXMgYSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9pbnRlciB0aGF0IHBvaW50cyB0byBhbm90aGVyIHBvaW50ZXIuIFRoaXMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5vdCBhbGxvd2VkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyTmFtZVZhbCA9IHZhcmlhYmxlTmFtZU9yUG9pbnRlci5wYXRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdmFyaWFibGVOYW1lT3JQb2ludGVyIGlzIGFuIG9iamVjdCwgYnV0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5vdCBhIHZhbGlkIHBvaW50ZXIgb2JqZWN0LiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKHZhcmlhYmxlTmFtZU9yUG9pbnRlcikgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFyTmFtZVZhbCA9IHZhcmlhYmxlTmFtZU9yUG9pbnRlci50cmltKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJsb2NrU2NvcGUgPSBTdGF0ZS5nZXRCbG9ja1Njb3BlKGJsb2NrTm9kZSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNwbGl0ID0gdmFyTmFtZVZhbC5zcGxpdCgvW1xcW1xcXV0vKS5maWx0ZXIoZnVuY3Rpb24oYWEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWEgIT09ICcnO1xuICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uKGFhKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbnVtID0gTnVtYmVyKGFhKTtcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKG51bSkgfHwgbnVtIDwgMCB8fCBudW0gJSAxICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoYWEpID09PSAnc3RyaW5nJyAmJiBhYS50cmltKClbMF0gPT09ICckJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpbW1lZCA9IGFhLnRyaW0oKS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChibG9ja1Njb3BlICYmIHRyaW1tZWQgaW4gYmxvY2tTY29wZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBibG9ja1Njb3BlW3RyaW1tZWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmltbWVkIGluIFN0YXRlLmN1cnJlbnRWYXJpYWJsZVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YXRlLmN1cnJlbnRWYXJpYWJsZVN0YXRlW3RyaW1tZWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgdmFyaWFibGU7XG4gICAgICAgICAgICBpZiAoYmxvY2tTY29wZSkge1xuICAgICAgICAgICAgICAgIHZhcmlhYmxlID0gYmxvY2tTY29wZVtzcGxpdFswXV07XG4gICAgICAgICAgICAgICAgaWYgKFN0YXRlLmlzUG9pbnRlcih2YXJpYWJsZSkgJiYgcmVjdXJzaW5nIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlY3Vyc2luZ1ZhbCA9IHJlY3Vyc2luZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihOdW1iZXIocmVjdXJzaW5nKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3Vyc2luZ1ZhbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZSA9IFN0YXRlLmdldFZhcmlhYmxlKHZhcmlhYmxlLCBudWxsLCByZWN1cnNpbmdWYWwrKyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mKHZhcmlhYmxlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB2YXJpYWJsZSA9IFN0YXRlLmN1cnJlbnRWYXJpYWJsZVN0YXRlW3NwbGl0WzBdXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZih2YXJpYWJsZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd1bmRlZmluZWQnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChTdGF0ZS5pc1BvaW50ZXIodmFyaWFibGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3Vyc2luZyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdTb21ld2hlcmUgd2l0aGluIHRoZSBzdGF0ZSB0aGVyZSBpcyBhICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3BvaW50ZXIgdGhhdCBwb2ludHMgdG8gYW5vdGhlciBwb2ludGVyLiBUaGlzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5vdCBhbGxvd2VkLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlY3Vyc2luZ1ZhbCA9IHJlY3Vyc2luZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihOdW1iZXIocmVjdXJzaW5nKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3Vyc2luZ1ZhbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZSA9IFN0YXRlLmdldFZhcmlhYmxlKHZhcmlhYmxlLCBudWxsLCByZWN1cnNpbmdWYWwrKyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpaSA9IDE7IGlpIDwgc3BsaXQubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyaWFibGUgPSB2YXJpYWJsZVtzcGxpdFtpaV1dO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodmFyaWFibGUpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdmFyaWFibGU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0UG9pbnRlcih2YXJOYW1lLCBibG9ja05vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNwbGl0ID0gdmFyTmFtZS5zcGxpdCgvW1xcW1xcXV0vKS5maWx0ZXIoZnVuY3Rpb24oYWEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWEgIT09ICcnO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCB0b2dldGhlciA9IHNwbGl0WzBdO1xuICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAxOyBpaSA8IHNwbGl0Lmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvcnRpb24gPSBzcGxpdFtpaV0udHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmIChwb3J0aW9uWzBdID09PSAnJCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gKFN0YXRlLmdldFZhcmlhYmxlKHBvcnRpb24uc2xpY2UoMSksIGJsb2NrTm9kZSkgfHwgJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgdG9nZXRoZXIgKz0gJ1snICsgdmFsICsgJ10nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRvZ2V0aGVyICs9ICdbJyArIHBvcnRpb24gKyAnXSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdnYXRlbHlQb2ludGVyJyxcbiAgICAgICAgICAgICAgICBwYXRoOiB0b2dldGhlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXNQb2ludGVyKG1heWJlUG9pbnRlcikge1xuICAgICAgICAgICAgcmV0dXJuIG1heWJlUG9pbnRlciAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZihtYXliZVBvaW50ZXIpID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgIG1heWJlUG9pbnRlci50eXBlID09PSAnZ2F0ZWx5UG9pbnRlcicgJiZcbiAgICAgICAgICAgICAgICBtYXliZVBvaW50ZXIucGF0aCAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZihtYXliZVBvaW50ZXIucGF0aCkgPT09ICdzdHJpbmcnO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldEJsb2NrU2NvcGUobm9kZSkge1xuICAgICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGFyciA9IFtdO1xuICAgICAgICAgICAgY29uc3QgYmxvY2tEZWZzID0gbm9kZS5kYXRhc2V0LmJsb2NrRGVmaW5pdGlvbnM7XG4gICAgICAgICAgICBpZiAoYmxvY2tEZWZzKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2goc2FmZXJKU09OUGFyc2UoYmxvY2tEZWZzKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJsb2NrU2NvcGUgPSAkKG5vZGUpLnBhcmVudHMoJ1tkYXRhLWJsb2NrLWRlZmluaXRpb25zXScpLmZpbHRlcihmdW5jdGlvbihfLCBub2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFkb2N1bWVudC5jb250YWlucyhub2RlKSB8fCAkKG5vZGUpLnBhcmVudHMoJ3R3LXBhc3NhZ2UnKS5sZW5ndGg7XG4gICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24oXywgbm9kZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjb3BlID0gc2FmZXJKU09OUGFyc2Uobm9kZS5kYXRhc2V0LmJsb2NrRGVmaW5pdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlmIChzY29wZSAmJiB0eXBlb2Yoc2NvcGUpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2NvcGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRvQXJyYXkoKVxuICAgICAgICAgICAgLmNvbmNhdChhcnIpXG4gICAgICAgICAgICAucmV2ZXJzZSgpO1xuXG4gICAgICAgICAgICBjb25zdCByZXR1cm5TY29wZSA9IHt9O1xuICAgICAgICAgICAgYmxvY2tTY29wZS5mb3JFYWNoKGZ1bmN0aW9uKHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lcyhzY29wZSkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblNjb3BlW25hbWVdID0gc2NvcGVbbmFtZV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGdldE93blByb3BlcnR5TmFtZXMocmV0dXJuU2NvcGUpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5TY29wZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdmFyaWFibGVJbkJsb2NrU2NvcGUodmFyTmFtZSwgbm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhck5hbWUgaW4gKFN0YXRlLmdldEJsb2NrU2NvcGUobm9kZSkgfHwge30pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFZhcmlhYmxlKHZhcmlhYmxlTmFtZU9yUG9pbnRlciwgZXF1YWxzVHlwZSwgbmV3VmFsdWUsIGJsb2NrTm9kZSkge1xuICAgICAgICAgICAgbGV0IHZhck5hbWVWYWw7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IHR5cGVvZih2YXJpYWJsZU5hbWVPclBvaW50ZXIpO1xuICAgICAgICAgICAgaWYgKCF2YXJpYWJsZU5hbWVPclBvaW50ZXIgfHxcbiAgICAgICAgICAgICAgICAodHlwZSAhPT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gJ3N0cmluZycpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhcmlhYmxlTmFtZU9yUG9pbnRlciBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1N0YXRlLnNldFZhcmlhYmxlIGlzIG5vdCBhIHZhbGlkIHN0cmluZyBvciBvYmplY3QuICcgK1xuICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YodmFyaWFibGVOYW1lT3JQb2ludGVyKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RhdGUuaXNQb2ludGVyKHZhcmlhYmxlTmFtZU9yUG9pbnRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyTmFtZVZhbCA9IHZhcmlhYmxlTmFtZU9yUG9pbnRlci5wYXRoO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhcmlhYmxlTmFtZU9yUG9pbnRlciBpcyBhbiBvYmplY3QsIGJ1dCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpcyBub3QgYSB2YWxpZCBwb2ludGVyIG9iamVjdC4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZih2YXJpYWJsZU5hbWVPclBvaW50ZXIpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhck5hbWVWYWwgPSB2YXJpYWJsZU5hbWVPclBvaW50ZXIudHJpbSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzcGxpdCA9IHZhck5hbWVWYWwudHJpbSgpLnNwbGl0KC9bXFxbXFxdXS8pLmZpbHRlcihmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhYSAhPT0gJyc7XG4gICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24oYWEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBudW0gPSBOdW1iZXIoYWEpO1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4obnVtKSB8fCBudW0gPCAwIHx8IG51bSAlIDEgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhYSkgPT09ICdzdHJpbmcnICYmIGFhLnRyaW0oKVswXSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmltbWVkID0gYWEudHJpbSgpLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaW1tZWQgaW4gU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGVbdHJpbW1lZF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKFN0YXRlLmlzUG9pbnRlcihTdGF0ZS5jdXJyZW50VmFyaWFibGVTdGF0ZVtzcGxpdFswXV0pKSB7XG4gICAgICAgICAgICAgICAgc3BsaXRbMF0gPSBTdGF0ZS5jdXJyZW50VmFyaWFibGVTdGF0ZVtzcGxpdFswXV0ucGF0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGZ1bGxQYXRoID0gc3BsaXRbMF0gKyBzcGxpdC5zbGljZSgxKS5tYXAoZnVuY3Rpb24oYWEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1snICsgYWEgKyAnXSc7XG4gICAgICAgICAgICB9KS5qb2luKCcnKTtcblxuICAgICAgICAgICAgbGV0IHZhcmlhYmxlID0gU3RhdGUuZ2V0VmFyaWFibGUoc3BsaXRbMF0sIGJsb2NrTm9kZSk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YodmFyaWFibGUpID09PSAndW5kZWZpbmVkJyAmJiBzcGxpdC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGVyZSBpcyBubyBUd2luZSB2YXJpYWJsZSBtYXRjaGluZyB0aGUgbmFtZSAnICtcbiAgICAgICAgICAgICAgICAgICAgdmFyTmFtZVZhbCArICcgaW4gdGhlIGN1cnJlbnQgdmFyaWFibGUgJyArXG4gICAgICAgICAgICAgICAgICAgICdzdGF0ZS4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpaSA9IDE7IGlpIDwgc3BsaXQubGVuZ3RoIC0gMTsgaWkrKykge1xuICAgICAgICAgICAgICAgIHZhcmlhYmxlID0gdmFyaWFibGVbc3BsaXRbaWldXTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodmFyaWFibGUpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZXJlIGlzIG5vIFR3aW5lIHZhcmlhYmxlIG1hdGNoaW5nIHRoZSBuYW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyTmFtZVZhbCArICcgaW4gdGhlIGN1cnJlbnQgdmFyaWFibGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhdGUuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIGxldCBsYXN0QWNjZXNzb3I7XG4gICAgICAgICAgICBpZiAoc3BsaXQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGxhc3RBY2Nlc3NvciA9IHNwbGl0W3NwbGl0Lmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBTdGF0ZS5jdXJyZW50VmFyaWFibGVTdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGFzc2lnblR5cGUgPSBlcXVhbHNUeXBlLnRyaW0oKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YobGFzdEFjY2Vzc29yKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXNzaWduVHlwZSA9PT0gJz0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlW2xhc3RBY2Nlc3Nvcl0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2lnblR5cGUgPT09ICcrPScpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVbbGFzdEFjY2Vzc29yXSArPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2lnblR5cGUgPT09ICctPScpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVbbGFzdEFjY2Vzc29yXSAtPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2lnblR5cGUgPT09ICcqPScpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVbbGFzdEFjY2Vzc29yXSAqPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2lnblR5cGUgPT09ICcvPScpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVbbGFzdEFjY2Vzc29yXSAvPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2lnblR5cGUgPT09ICclPScpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVbbGFzdEFjY2Vzc29yXSAlPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBlcXVhbHNUeXBlIGFyZ3VtZW50IGlzIG5vdCB2YWxpZC4gQ2Fubm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2V4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChhc3NpZ25UeXBlID09PSAnPScpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlW3Zhck5hbWVWYWxdID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3NpZ25UeXBlID09PSAnKz0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZVt2YXJOYW1lVmFsXSArPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2lnblR5cGUgPT09ICctPScpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlW3Zhck5hbWVWYWxdIC09IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXNzaWduVHlwZSA9PT0gJyo9Jykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGVbdmFyTmFtZVZhbF0gKj0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3NpZ25UeXBlID09PSAnLz0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZVt2YXJOYW1lVmFsXSAvPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2lnblR5cGUgPT09ICclPScpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlW3Zhck5hbWVWYWxdICU9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGVxdWFsc1R5cGUgYXJndW1lbnQgaXMgbm90IHZhbGlkLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVsbFBhdGggPSAnJCcgKyBmdWxsUGF0aDtcbiAgICAgICAgICAgIGlmIChTdGF0ZS5nZXRCaW5kaW5nKGZ1bGxQYXRoKSkge1xuICAgICAgICAgICAgICAgIFN0YXRlLnVwZGF0ZUJpbmRpbmcoZnVsbFBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGxldFZhcmlhYmxlKHZhcmlhYmxlTmFtZU9yUG9pbnRlciwgZXF1YWxzVHlwZSwgbmV3VmFsdWUsIGJsb2NrTm9kZSkge1xuICAgICAgICAgICAgbGV0IHZhck5hbWVWYWw7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IHR5cGVvZih2YXJpYWJsZU5hbWVPclBvaW50ZXIpO1xuICAgICAgICAgICAgaWYgKCF2YXJpYWJsZU5hbWVPclBvaW50ZXIgfHxcbiAgICAgICAgICAgICAgICAodHlwZSAhPT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gJ3N0cmluZycpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhcmlhYmxlTmFtZU9yUG9pbnRlciBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1N0YXRlLnNldFZhcmlhYmxlIGlzIG5vdCBhIHZhbGlkIHN0cmluZyBvciBvYmplY3QuICcgK1xuICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YodmFyaWFibGVOYW1lT3JQb2ludGVyKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RhdGUuaXNQb2ludGVyKHZhcmlhYmxlTmFtZU9yUG9pbnRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyTmFtZVZhbCA9IHZhcmlhYmxlTmFtZU9yUG9pbnRlci5wYXRoO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHZhcmlhYmxlTmFtZU9yUG9pbnRlciBpcyBhbiBvYmplY3QsIGJ1dCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpcyBub3QgYSB2YWxpZCBwb2ludGVyIG9iamVjdC4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZih2YXJpYWJsZU5hbWVPclBvaW50ZXIpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhck5hbWVWYWwgPSB2YXJpYWJsZU5hbWVPclBvaW50ZXIudHJpbSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzcGxpdCA9IHZhck5hbWVWYWwudHJpbSgpLnNwbGl0KC9bXFxbXFxdXS8pLmZpbHRlcihmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhYSAhPT0gJyc7XG4gICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24oYWEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBudW0gPSBOdW1iZXIoYWEpO1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4obnVtKSB8fCBudW0gPCAwIHx8IG51bSAlIDEgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhYSkgPT09ICdzdHJpbmcnICYmIGFhLnRyaW0oKVswXSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmltbWVkID0gYWEudHJpbSgpLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyaW1tZWQgaW4gU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGVbdHJpbW1lZF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKFN0YXRlLmlzUG9pbnRlcihTdGF0ZS5jdXJyZW50VmFyaWFibGVTdGF0ZVtzcGxpdFswXV0pKSB7XG4gICAgICAgICAgICAgICAgc3BsaXRbMF0gPSBTdGF0ZS5jdXJyZW50VmFyaWFibGVTdGF0ZVtzcGxpdFswXV0ucGF0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGZ1bGxQYXRoID0gc3BsaXRbMF0gKyBzcGxpdC5zbGljZSgxKS5tYXAoZnVuY3Rpb24oYWEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1snICsgYWEgKyAnXSc7XG4gICAgICAgICAgICB9KS5qb2luKCcnKTtcblxuICAgICAgICAgICAgbGV0IHZhcmlhYmxlID0gU3RhdGUuZ2V0VmFyaWFibGUoc3BsaXRbMF0sIGJsb2NrTm9kZSk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YodmFyaWFibGUpID09PSAndW5kZWZpbmVkJyAmJiBzcGxpdC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGVyZSBpcyBubyBUd2luZSB2YXJpYWJsZSBtYXRjaGluZyB0aGUgbmFtZSAnICtcbiAgICAgICAgICAgICAgICAgICAgdmFyTmFtZVZhbCArICcgaW4gdGhlIGN1cnJlbnQgdmFyaWFibGUgJyArXG4gICAgICAgICAgICAgICAgICAgICdzdGF0ZS4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd1bmRlZmluZWQnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpaSA9IDE7IGlpIDwgc3BsaXQubGVuZ3RoIC0gMTsgaWkrKykge1xuICAgICAgICAgICAgICAgIHZhcmlhYmxlID0gdmFyaWFibGVbc3BsaXRbaWldXTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodmFyaWFibGUpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZXJlIGlzIG5vIFR3aW5lIHZhcmlhYmxlIG1hdGNoaW5nIHRoZSBuYW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyTmFtZVZhbCArICcgaW4gdGhlIGN1cnJlbnQgdmFyaWFibGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RhdGUuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgbGFzdEFjY2Vzc29yO1xuICAgICAgICAgICAgaWYgKHNwbGl0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBsYXN0QWNjZXNzb3IgPSBzcGxpdFtzcGxpdC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGU7XG4gICAgICAgICAgICBjb25zdCBhc3NpZ25UeXBlID0gZXF1YWxzVHlwZS50cmltKCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mKGxhc3RBY2Nlc3NvcikgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFzc2lnblR5cGUgPT09ICc9Jykge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVtsYXN0QWNjZXNzb3JdID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3NpZ25UeXBlID09PSAnKz0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlW2xhc3RBY2Nlc3Nvcl0gKz0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3NpZ25UeXBlID09PSAnLT0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlW2xhc3RBY2Nlc3Nvcl0gLT0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3NpZ25UeXBlID09PSAnKj0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlW2xhc3RBY2Nlc3Nvcl0gKj0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3NpZ25UeXBlID09PSAnLz0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlW2xhc3RBY2Nlc3Nvcl0gLz0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3NpZ25UeXBlID09PSAnJT0nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhYmxlW2xhc3RBY2Nlc3Nvcl0gJT0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgZXF1YWxzVHlwZSBhcmd1bWVudCBpcyBub3QgdmFsaWQuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVsbFBhdGggPSAnJCcgKyBmdWxsUGF0aDtcbiAgICAgICAgICAgICAgICBpZiAoU3RhdGUuZ2V0QmluZGluZyhmdWxsUGF0aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGUudXBkYXRlQmluZGluZyhmdWxsUGF0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHNhZmVyQ29tYmluZWRQYXJzZShibG9ja05vZGUuZGF0YXNldC5ibG9ja0RlZmluaXRpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEgfHwgdHlwZW9mKGRhdGEpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0ge307XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGF0YVt2YXJOYW1lVmFsXSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIGJsb2NrTm9kZS5kYXRhc2V0LmJsb2NrRGVmaW5pdGlvbnMgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBwdXRWYXJpYWJsZSh2YXJpYWJsZU5hbWVPclBvaW50ZXIsIGVxdWFsc1R5cGUsIG5ld1ZhbHVlLCBibG9ja05vZGUpIHtcbiAgICAgICAgICAgIGxldCB2YXJOYW1lVmFsO1xuICAgICAgICAgICAgbGV0IHR5cGUgPSB0eXBlb2YodmFyaWFibGVOYW1lT3JQb2ludGVyKTtcbiAgICAgICAgICAgIGlmICghdmFyaWFibGVOYW1lT3JQb2ludGVyIHx8XG4gICAgICAgICAgICAgICAgKHR5cGUgIT09ICdvYmplY3QnICYmIHR5cGUgIT09ICdzdHJpbmcnKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB2YXJpYWJsZU5hbWVPclBvaW50ZXIgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdTdGF0ZS5zZXRWYXJpYWJsZSBpcyBub3QgYSB2YWxpZCBzdHJpbmcgb3Igb2JqZWN0LiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKHZhcmlhYmxlTmFtZU9yUG9pbnRlcikgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0YXRlLmlzUG9pbnRlcih2YXJpYWJsZU5hbWVPclBvaW50ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhck5hbWVWYWwgPSB2YXJpYWJsZU5hbWVPclBvaW50ZXIucGF0aDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSB2YXJpYWJsZU5hbWVPclBvaW50ZXIgaXMgYW4gb2JqZWN0LCBidXQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnaXMgbm90IGEgdmFsaWQgcG9pbnRlciBvYmplY3QuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YodmFyaWFibGVOYW1lT3JQb2ludGVyKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YXJOYW1lVmFsID0gdmFyaWFibGVOYW1lT3JQb2ludGVyLnRyaW0oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYmxvY2tTY29wZSA9IFN0YXRlLmdldEJsb2NrU2NvcGUoYmxvY2tOb2RlKTtcblxuICAgICAgICAgICAgY29uc3Qgc3BsaXQgPSB2YXJOYW1lVmFsLnNwbGl0KC9bXFxbXFxdXS8pLmZpbHRlcihmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhYSAhPT0gJyc7XG4gICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24oYWEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBudW0gPSBOdW1iZXIoYWEpO1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4obnVtKSB8fCBudW0gPCAwIHx8IG51bSAlIDEgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhYSkgPT09ICdzdHJpbmcnICYmIGFhLnRyaW0oKVswXSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cmltbWVkID0gYWEudHJpbSgpLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrU2NvcGUgJiYgdHJpbW1lZCBpbiBibG9ja1Njb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsb2NrU2NvcGVbdHJpbW1lZF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyaW1tZWQgaW4gU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGVbdHJpbW1lZF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndW5kZWZpbmVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhYTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChTdGF0ZS5pc1BvaW50ZXIoU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGVbc3BsaXRbMF1dKSkge1xuICAgICAgICAgICAgICAgIHNwbGl0WzBdID0gU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGVbc3BsaXRbMF1dLnBhdGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChTdGF0ZS52YXJpYWJsZUluQmxvY2tTY29wZShzcGxpdFswXSwgYmxvY2tOb2RlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBTdGF0ZS5nZXRCbG9ja1Njb3BlKGJsb2NrTm9kZSlbc3BsaXRbMF1dO1xuICAgICAgICAgICAgICAgIGlmIChTdGF0ZS5pc1BvaW50ZXIodGVtcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BsaXRbMF0gPSB0ZW1wLnBhdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBmdWxsUGF0aCA9ICckJyArIHNwbGl0WzBdICsgc3BsaXQuc2xpY2UoMSkubWFwKGZ1bmN0aW9uKGFhKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdbJyArIGFhICsgJ10nO1xuICAgICAgICAgICAgfSkuam9pbignJyk7XG5cbiAgICAgICAgICAgIGxldCB2YXJpYWJsZSA9IFN0YXRlLmdldFZhcmlhYmxlKHNwbGl0WzBdLCBibG9ja05vZGUpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mKHZhcmlhYmxlKSA9PT0gJ3VuZGVmaW5lZCcgJiYgc3BsaXQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gVHdpbmUgdmFyaWFibGUgbWF0Y2hpbmcgdGhlIG5hbWUgJyArXG4gICAgICAgICAgICAgICAgICAgIHZhck5hbWVWYWwgKyAnIGluIHRoZSBjdXJyZW50IHZhcmlhYmxlICcgK1xuICAgICAgICAgICAgICAgICAgICAnc3RhdGUuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAxOyBpaSA8IHNwbGl0Lmxlbmd0aCAtIDE7IGlpKyspIHtcbiAgICAgICAgICAgICAgICB2YXJpYWJsZSA9IHZhcmlhYmxlW3NwbGl0W2lpXV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHZhcmlhYmxlKSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGVyZSBpcyBubyBUd2luZSB2YXJpYWJsZSBtYXRjaGluZyB0aGUgbmFtZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhck5hbWVWYWwgKyAnIGluIHRoZSBjdXJyZW50IHZhcmlhYmxlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3N0YXRlLiBDYW5ub3QgZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGRhdGEgPSBibG9ja1Njb3BlO1xuICAgICAgICAgICAgaWYgKCFkYXRhIHx8IHR5cGVvZihkYXRhKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0ge307XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgbGV0IGxhc3RBY2Nlc3NvcjtcbiAgICAgICAgICAgIGlmIChzcGxpdC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgbGFzdEFjY2Vzc29yID0gc3BsaXRbc3BsaXQubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IFN0YXRlLmN1cnJlbnRWYXJpYWJsZVN0YXRlO1xuICAgICAgICAgICAgY29uc3QgYXNzaWduVHlwZSA9IGVxdWFsc1R5cGUudHJpbSgpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZihsYXN0QWNjZXNzb3IpICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGlmIChhc3NpZ25UeXBlID09PSAnPScpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVbbGFzdEFjY2Vzc29yXSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXNzaWduVHlwZSA9PT0gJys9Jykge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVtsYXN0QWNjZXNzb3JdICs9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXNzaWduVHlwZSA9PT0gJy09Jykge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVtsYXN0QWNjZXNzb3JdIC09IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXNzaWduVHlwZSA9PT0gJyo9Jykge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVtsYXN0QWNjZXNzb3JdICo9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXNzaWduVHlwZSA9PT0gJy89Jykge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVtsYXN0QWNjZXNzb3JdIC89IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXNzaWduVHlwZSA9PT0gJyU9Jykge1xuICAgICAgICAgICAgICAgICAgICB2YXJpYWJsZVtsYXN0QWNjZXNzb3JdICU9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGVxdWFsc1R5cGUgYXJndW1lbnQgaXMgbm90IHZhbGlkLiBDYW5ub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZXhlY3V0ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhck5hbWVWYWwgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYmxvY2s7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9ja05vZGUuZGF0YXNldC5ibG9ja0RlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBibG9jayA9IGJsb2NrTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrID0gJChibG9ja05vZGUpLnBhcmVudHMoJ1tkYXRhLWJsb2NrLWRlZmluaXRpb25zXScpLmZpcnN0KClbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZzID0gc2FmZXJKU09OUGFyc2UoYmxvY2suZGF0YXNldC5ibG9ja0RlZmluaXRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZnMgJiYgdHlwZW9mKGRlZnMpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmc1t2YXJOYW1lVmFsXSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suZGF0YXNldC5ibG9ja0RlZmluaXRpb25zID0gSlNPTi5zdHJpbmdpZnkoZGVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ3dob2FhYWFhYSBub29vb29vb29vIGJsb2NrLXNjb3BlZCBwdXQgZmFpbHVyZSEhISEhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhck5hbWVWYWwgaW4gY3VycmVudFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhc3NpZ25UeXBlID09PSAnPScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZVt2YXJOYW1lVmFsXSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2lnblR5cGUgPT09ICcrPScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZVt2YXJOYW1lVmFsXSArPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3NpZ25UeXBlID09PSAnLT0nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGVbdmFyTmFtZVZhbF0gLT0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXNzaWduVHlwZSA9PT0gJyo9Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlW3Zhck5hbWVWYWxdICo9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFzc2lnblR5cGUgPT09ICcvPScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZVt2YXJOYW1lVmFsXSAvPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3NpZ25UeXBlID09PSAnJT0nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGVbdmFyTmFtZVZhbF0gJT0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBlcXVhbHNUeXBlIGFyZ3VtZW50IGlzIG5vdCB2YWxpZC4gQ2Fubm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdTdGF0ZS5wdXQgZmFpbGVkIGJlY2F1c2Ugbm8gdmFyaWFibGUgbmFtZWQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJOYW1lVmFsICsgJyBoYXMgYmVlbiBkZWNsYXJlZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFN0YXRlLmdldEJpbmRpbmcoZnVsbFBhdGgpKSB7XG4gICAgICAgICAgICAgICAgU3RhdGUudXBkYXRlQmluZGluZyhmdWxsUGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0TmV3Rm9vdGVySUQoKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RhdGUuY3VycmVudEZvb3RlcklEKys7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbmV3U3RhdGUocGFzc2FnZU5hbWUpIHtcbiAgICAgICAgICAgIFN0YXRlLmhpc3RvcnkucHVzaChwYXNzYWdlTmFtZSk7XG4gICAgICAgICAgICBTdGF0ZS5jdXJyZW50UGFzc2FnZU5hbWUgPSBwYXNzYWdlTmFtZTtcbiAgICAgICAgICAgIFN0YXRlLmhpc3RvcnlGdXR1cmUgPSBbXTtcblxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9XG4gICAgICAgICAgICAgICAgU3RhdGUudmFyaWFibGVIaXN0b3J5W1N0YXRlLnZhcmlhYmxlSGlzdG9yeS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIFN0YXRlLnZhcmlhYmxlSGlzdG9yeS5wdXNoKHt9KTtcbiAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRWYXJpYWJsZVN0YXRlID1cbiAgICAgICAgICAgICAgICBTdGF0ZS52YXJpYWJsZUhpc3RvcnlbU3RhdGUudmFyaWFibGVIaXN0b3J5Lmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKHByZXZpb3VzU3RhdGUpXG4gICAgICAgICAgICAgICAgc3RhdGVzLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VmFyaWFibGVTdGF0ZVtuYW1lXSA9IHByZXZpb3VzU3RhdGVbbmFtZV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFN0YXRlLnZhcmlhYmxlSGlzdG9yeUZ1dHVyZSA9IFtdO1xuXG4gICAgICAgICAgICBsZXQgZGVlcFdNO1xuICAgICAgICAgICAgaWYgKFN0YXRlLndvcmxkTW9kZWxIaXN0b3J5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGRlZXBXTSA9IGRlZXBDb3B5KFN0YXRlLmN1cnJlbnRXb3JsZE1vZGVsU3RhdGUpO1xuICAgICAgICAgICAgICAgIGRlZXBXTS5wYXNzYWdlTmFtZSA9IHBhc3NhZ2VOYW1lO1xuICAgICAgICAgICAgICAgIFN0YXRlLndvcmxkTW9kZWxIaXN0b3J5LnB1c2goZGVlcFdNKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVlcFdNID0gZGVlcENvcHkoX3dvcmxkTW9kZWxUZW1wU3RvcmUpO1xuICAgICAgICAgICAgICAgIGRlZXBXTS5wYXNzYWdlTmFtZSA9IHBhc3NhZ2VOYW1lO1xuICAgICAgICAgICAgICAgIFN0YXRlLndvcmxkTW9kZWxIaXN0b3J5LnB1c2goZGVlcFdNKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgU3RhdGUuY3VycmVudFdvcmxkTW9kZWxTdGF0ZSA9IGRlZXBXTTtcblxuICAgICAgICAgICAgU3RhdGUud29ybGRNb2RlbEhpc3RvcnlGdXR1cmUgPSBbXTtcblxuICAgICAgICAgICAgTWFjcm8ud29ybGQucmVzdG9yZU1vZGVsUHJvdG9GdW5jcy5oYW5kbGVyKCk7XG5cbiAgICAgICAgICAgIFN0YXRlLmJpbmRpbmdIaXN0b3J5LnB1c2goe30pO1xuICAgICAgICAgICAgU3RhdGUuY3VycmVudEJpbmRpbmdTdGF0ZSA9XG4gICAgICAgICAgICAgICAgU3RhdGUuYmluZGluZ0hpc3RvcnlbU3RhdGUuYmluZGluZ0hpc3RvcnkubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBTdGF0ZS5iaW5kaW5nSGlzdG9yeUZ1dHVyZSA9IFtdO1xuXG4gICAgICAgICAgICBjb25zdCBkZWVwVGhlbWUgPSBkZWVwQ29weShTdGF0ZS5jdXJyZW50VGhlbWUpO1xuICAgICAgICAgICAgZGVlcFRoZW1lLnBhc3NhZ2VOYW1lID0gcGFzc2FnZU5hbWU7XG4gICAgICAgICAgICBTdGF0ZS50aGVtZUhpc3RvcnkucHVzaChkZWVwVGhlbWUpO1xuICAgICAgICAgICAgZGVlcFRoZW1lLnByZXJlbmRlciA9IG5ldyBGdW5jdGlvbihcbiAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VGhlbWUucHJlcmVuZGVyU3RyaW5nKTtcbiAgICAgICAgICAgIGRlZXBUaGVtZS5wb3N0cmVuZGVyID0gbmV3IEZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRUaGVtZS5wb3N0cmVuZGVyU3RyaW5nKTtcblxuICAgICAgICAgICAgU3RhdGUuY3VycmVudFRoZW1lID0gZGVlcFRoZW1lO1xuXG4gICAgICAgICAgICBTdGF0ZS50aGVtZUhpc3RvcnlGdXR1cmUgPSBbXTtcblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5ERUJVRykge1xuICAgICAgICAgICAgICAgIC8vIHNob3dzIGJhc2ljIG1lbW9yeSBhbGxvY2F0aW9uc1xuICAgICAgICAgICAgICAgIGZvciAobGV0IG5hbWUgaW4gU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oU3RhdGVbbmFtZV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ciA9IEpTT04uc3RyaW5naWZ5KFN0YXRlW25hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmFtZSwgc3RyLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuYW1lLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0b3RhbCBzdGF0ZScsIEpTT04uc3RyaW5naWZ5KFN0YXRlKS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0b3RhbCBIVE1MJywgXG4gICAgICAgICAgICAgICAgICAgIHRvcC5kb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuaW5uZXJIVE1MLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ19fQlJFQUtfXycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHJld2luZFRvKHBhc3NhZ2VOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IFN0YXRlLmhpc3RvcnkubGFzdEluZGV4T2YocGFzc2FnZU5hbWUpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHBhc3NhZ2VuYW1lICcgK1xuICAgICAgICAgICAgICAgICAgICBwYXNzYWdlTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICcgZG9lcyBub3QgZXhpc3QgaW4gdGhlIGhpc3RvcnkuIENhbm5vdCByZXdpbmQuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTdGF0ZS5oaXN0b3J5RnV0dXJlID0gU3RhdGUuaGlzdG9yeVxuICAgICAgICAgICAgICAgIC5zbGljZShpbmRleCArIDEpXG4gICAgICAgICAgICAgICAgLmNvbmNhdChTdGF0ZS5oaXN0b3J5RnV0dXJlKTtcbiAgICAgICAgICAgIFN0YXRlLmhpc3RvcnkgPSBTdGF0ZS5oaXN0b3J5LnNsaWNlKDAsIGluZGV4ICsgMSk7XG4gICAgICAgICAgICBTdGF0ZS5jdXJyZW50UGFzc2FnZU5hbWUgPVxuICAgICAgICAgICAgICAgIFN0YXRlLmhpc3RvcnlbU3RhdGUuaGlzdG9yeS5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgU3RhdGUudHJhbnNjcmlwdEhpc3RvcnlGdXR1cmUgPSBTdGF0ZS50cmFuc2NyaXB0SGlzdG9yeVxuICAgICAgICAgICAgICAgIC5zbGljZShpbmRleCArIDEpXG4gICAgICAgICAgICAgICAgLmNvbmNhdChTdGF0ZS50cmFuc2NyaXB0SGlzdG9yeUZ1dHVyZSk7XG4gICAgICAgICAgICBTdGF0ZS50cmFuc2NyaXB0SGlzdG9yeSA9XG4gICAgICAgICAgICAgICAgU3RhdGUudHJhbnNjcmlwdEhpc3Rvcnkuc2xpY2UoMCwgaW5kZXggKyAxKTtcblxuICAgICAgICAgICAgU3RhdGUudmFyaWFibGVIaXN0b3J5RnV0dXJlID0gU3RhdGUudmFyaWFibGVIaXN0b3J5XG4gICAgICAgICAgICAgICAgLnNsaWNlKGluZGV4ICsgMSlcbiAgICAgICAgICAgICAgICAuY29uY2F0KFN0YXRlLnZhcmlhYmxlSGlzdG9yeUZ1dHVyZSk7XG4gICAgICAgICAgICBTdGF0ZS52YXJpYWJsZUhpc3RvcnkgPSBTdGF0ZS52YXJpYWJsZUhpc3Rvcnkuc2xpY2UoMCwgaW5kZXggKyAxKTtcbiAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRWYXJpYWJsZVN0YXRlID1cbiAgICAgICAgICAgICAgICBTdGF0ZS52YXJpYWJsZUhpc3RvcnlbU3RhdGUudmFyaWFibGVIaXN0b3J5Lmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICBjb25zdCB3bUhpc3RvcnkgPSBTdGF0ZS53b3JsZE1vZGVsSGlzdG9yeTtcbiAgICAgICAgICAgIFN0YXRlLndvcmxkTW9kZWxIaXN0b3J5RnV0dXJlID0gd21IaXN0b3J5XG4gICAgICAgICAgICAgICAgLnNsaWNlKGluZGV4ICsgMSlcbiAgICAgICAgICAgICAgICAuY29uY2F0KFN0YXRlLndvcmxkTW9kZWxIaXN0b3J5RnV0dXJlKTtcbiAgICAgICAgICAgIFN0YXRlLndvcmxkTW9kZWxIaXN0b3J5ID0gd21IaXN0b3J5LnNsaWNlKDAsIGluZGV4ICsgMSk7XG4gICAgICAgICAgICBTdGF0ZS5jdXJyZW50V29ybGRNb2RlbFN0YXRlID0gd21IaXN0b3J5W3dtSGlzdG9yeS5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgU3RhdGUuYmluZGluZ0hpc3RvcnlGdXR1cmUgPSBTdGF0ZS5iaW5kaW5nSGlzdG9yeVxuICAgICAgICAgICAgICAgIC5zbGljZShpbmRleCArIDEpXG4gICAgICAgICAgICAgICAgLmNvbmNhdChTdGF0ZS5iaW5kaW5nSGlzdG9yeUZ1dHVyZSk7XG4gICAgICAgICAgICBTdGF0ZS5iaW5kaW5nSGlzdG9yeSA9IFN0YXRlLmJpbmRpbmdIaXN0b3J5LnNsaWNlKDAsIGluZGV4ICsgMSk7XG4gICAgICAgICAgICBTdGF0ZS5jdXJyZW50QmluZGluZ1N0YXRlID1cbiAgICAgICAgICAgICAgICBTdGF0ZS5iaW5kaW5nSGlzdG9yeVtTdGF0ZS5iaW5kaW5nSGlzdG9yeS5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgU3RhdGUudGhlbWVIaXN0b3J5RnV0dXJlID0gU3RhdGUudGhlbWVIaXN0b3J5XG4gICAgICAgICAgICAgICAgLnNsaWNlKGluZGV4ICsgMSlcbiAgICAgICAgICAgICAgICAuY29uY2F0KFN0YXRlLnRoZW1lSGlzdG9yeUZ1dHVyZSk7XG4gICAgICAgICAgICBTdGF0ZS50aGVtZUhpc3RvcnkgPSBTdGF0ZS50aGVtZUhpc3Rvcnkuc2xpY2UoMCwgaW5kZXggKyAxKTtcbiAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRUaGVtZSA9XG4gICAgICAgICAgICAgICAgU3RhdGUudGhlbWVIaXN0b3J5W1N0YXRlLnRoZW1lSGlzdG9yeS5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgU3RhdGUuY3VycmVudFRoZW1lLnByZXJlbmRlciA9IG5ldyBGdW5jdGlvbihcbiAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VGhlbWUucHJlcmVuZGVyU3RyaW5nKTtcbiAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRUaGVtZS5wb3N0cmVuZGVyID0gbmV3IEZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRUaGVtZS5wb3N0cmVuZGVyU3RyaW5nKTtcbiAgICAgICAgfSxcblxuICAgICAgICB1bnJld2luZFRvKHBhc3NhZ2VOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IFN0YXRlLmhpc3RvcnlGdXR1cmUuaW5kZXhPZihwYXNzYWdlTmFtZSk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgcGFzc2FnZW5hbWUgJyArXG4gICAgICAgICAgICAgICAgICAgIHBhc3NhZ2VOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgJyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgaGlzdG9yeS4gQ2Fubm90IHJld2luZC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFN0YXRlLmhpc3RvcnkgPSBTdGF0ZS5oaXN0b3J5XG4gICAgICAgICAgICAgICAgLmNvbmNhdChTdGF0ZS5oaXN0b3J5RnV0dXJlLnNsaWNlKDAsIGluZGV4ICsgMSkpO1xuICAgICAgICAgICAgU3RhdGUuaGlzdG9yeUZ1dHVyZSA9IFN0YXRlLmhpc3RvcnlGdXR1cmUuc2xpY2UoaW5kZXggKyAxKTtcbiAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRQYXNzYWdlTmFtZSA9XG4gICAgICAgICAgICAgICAgU3RhdGUuaGlzdG9yeVtTdGF0ZS5oaXN0b3J5Lmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICBTdGF0ZS50cmFuc2NyaXB0SGlzdG9yeSA9IFN0YXRlLnRyYW5zY3JpcHRIaXN0b3J5XG4gICAgICAgICAgICAgICAgLmNvbmNhdChTdGF0ZS50cmFuc2NyaXB0SGlzdG9yeUZ1dHVyZS5zbGljZSgwLCBpbmRleCArIDEpKTtcbiAgICAgICAgICAgIFN0YXRlLnRyYW5zY3JpcHRIaXN0b3J5RnV0dXJlID1cbiAgICAgICAgICAgICAgICBTdGF0ZS50cmFuc2NyaXB0SGlzdG9yeS5zbGljZShpbmRleCArIDEpO1xuXG4gICAgICAgICAgICBTdGF0ZS52YXJpYWJsZUhpc3RvcnkgPSBTdGF0ZS52YXJpYWJsZUhpc3RvcnlcbiAgICAgICAgICAgICAgICAuY29uY2F0KFN0YXRlLnZhcmlhYmxlSGlzdG9yeUZ1dHVyZS5zbGljZSgwLCBpbmRleCArIDEpKTtcbiAgICAgICAgICAgIFN0YXRlLnZhcmlhYmxlSGlzdG9yeUZ1dHVyZSA9XG4gICAgICAgICAgICAgICAgU3RhdGUudmFyaWFibGVIaXN0b3J5RnV0dXJlLnNsaWNlKGluZGV4ICsgMSk7XG4gICAgICAgICAgICBTdGF0ZS5jdXJyZW50VmFyaWFibGVTdGF0ZSA9XG4gICAgICAgICAgICAgICAgU3RhdGUudmFyaWFibGVIaXN0b3J5W1N0YXRlLnZhcmlhYmxlSGlzdG9yeS5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgY29uc3Qgd21IaXN0b3J5ID0gU3RhdGUud29ybGRNb2RlbEhpc3Rvcnk7XG4gICAgICAgICAgICBTdGF0ZS53b3JsZE1vZGVsSGlzdG9yeSA9IHdtSGlzdG9yeVxuICAgICAgICAgICAgICAgIC5jb25jYXQoU3RhdGUud29ybGRNb2RlbEhpc3RvcnlGdXR1cmUuc2xpY2UoMCwgaW5kZXggKyAxKSk7XG4gICAgICAgICAgICBTdGF0ZS53b3JsZE1vZGVsSGlzdG9yeUZ1dHVyZSA9XG4gICAgICAgICAgICAgICAgU3RhdGUud29ybGRNb2RlbEhpc3RvcnlGdXR1cmUuc2xpY2UoaW5kZXggKyAxKTtcbiAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRXb3JsZE1vZGVsU3RhdGUgPSB3bUhpc3Rvcnlbd21IaXN0b3J5Lmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICBTdGF0ZS5iaW5kaW5nSGlzdG9yeSA9IFN0YXRlLmJpbmRpbmdIaXN0b3J5XG4gICAgICAgICAgICAgICAgLmNvbmNhdChTdGF0ZS5iaW5kaW5nSGlzdG9yeUZ1dHVyZS5zbGljZSgwLCBpbmRleCArIDEpKTtcbiAgICAgICAgICAgIFN0YXRlLmJpbmRpbmdIaXN0b3J5RnV0dXJlID1cbiAgICAgICAgICAgICAgICBTdGF0ZS5iaW5kaW5nSGlzdG9yeUZ1dHVyZS5zbGljZShpbmRleCArIDEpO1xuICAgICAgICAgICAgU3RhdGUuY3VycmVudEJpbmRpbmdTdGF0ZSA9XG4gICAgICAgICAgICAgICAgU3RhdGUuYmluZGluZ0hpc3RvcnlbU3RhdGUuYmluZGluZ0hpc3RvcnkubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICAgIFN0YXRlLnRoZW1lSGlzdG9yeSA9IFN0YXRlLnRoZW1lSGlzdG9yeVxuICAgICAgICAgICAgICAgIC5jb25jYXQoU3RhdGUudGhlbWVIaXN0b3J5RnV0dXJlLnNsaWNlKDAsIGluZGV4ICsgMSkpO1xuICAgICAgICAgICAgU3RhdGUudGhlbWVIaXN0b3J5RnV0dXJlID1cbiAgICAgICAgICAgICAgICBTdGF0ZS50aGVtZUhpc3RvcnlGdXR1cmUuc2xpY2UoaW5kZXggKyAxKTtcbiAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRUaGVtZSA9XG4gICAgICAgICAgICAgICAgU3RhdGUudGhlbWVIaXN0b3J5W1N0YXRlLnRoZW1lSGlzdG9yeS5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgU3RhdGUuY3VycmVudFRoZW1lLnByZXJlbmRlciA9IG5ldyBGdW5jdGlvbihcbiAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VGhlbWUucHJlcmVuZGVyU3RyaW5nKTtcbiAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRUaGVtZS5wb3N0cmVuZGVyID0gbmV3IEZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRUaGVtZS5wb3N0cmVuZGVyU3RyaW5nKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRNYWNyb0FsaWFzKG1hY3JvTmFtZSwgYWxpYXNOYW1lLCBkaXNwb3NlQWZ0ZXJQYXNzYWdlLCBvdmVycmlkZSkge1xuICAgICAgICAgICAgaWYgKCFtYWNyb05hbWUpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBtYWNyb05hbWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAnTWFjcm8uZ2xvYmFsLmFkZG1hY3JvYWxpYXMgaXMgbm90IHZhbGlkLiBDYW5ub3QgYWRkIG1hY3JvIGFsaWFzLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIShtYWNyb05hbWUgaW4gTWFjcm8pKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbWFjcm9OYW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgJ01hY3JvLmdsb2JhbC5hZGRtYWNyb2FsaWFzIGRvZXMgbm90IGNvcnJlc3BvbmQgdG8gYW4gJyArXG4gICAgICAgICAgICAgICAgICAgICdleGlzdGluZyBtYWNyby4gQ2Fubm90IGFkZCBtYWNybyBhbGlhcy4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFhbGlhc05hbWUpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhbGlhc05hbWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAnTWFjcm8uZ2xvYmFsLmFkZG1hY3JvYWxpYXMgaXMgbm90IHZhbGlkLiBDYW5ub3QgYWRkIG1hY3JvIGFsaWFzLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxpYXNOYW1lIGluIE1hY3JvKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdBIG1hY3JvIHdpdGggdGhlIHNhbWUgbmFtZSBhcyB0aGUgYWxpYXNOYW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAnYXJndW1lbnQsICcgKyBhbGlhc05hbWUgKyAnLCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICdNYWNybyBvYmplY3QuIENhbm5vdCBleGVjdXRlLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxpYXNOYW1lIGluIFN0YXRlLm1hY3JvQWxpYXNTdG9yZSAmJlxuICAgICAgICAgICAgICAgIG92ZXJyaWRlICE9PSB0cnVlICYmXG4gICAgICAgICAgICAgICAgKHR5cGVvZihvdmVycmlkZSkgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlLnRvTG93ZXJDYXNlKCkgIT09ICdvdmVycmlkZScpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnQW4gYWxpYXMgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIHRoZSBhbGlhc05hbWUgJyArXG4gICAgICAgICAgICAgICAgICAgICdhcmd1bWVudCwgJyArIGFsaWFzTmFtZSArICcsIGFscmVhZHkgZXhpc3RzIGluIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1N0YXRlLm1hY3JvQWxpYXNTdG9yZSBvYmplY3QuIFNldCB0aGUgb3ZlcnJpZGUgJyArXG4gICAgICAgICAgICAgICAgICAgICdhcmd1bWVudCB0byB0cnVlIG9yIFwib3ZlcnJpZGVcIiB0byBvdmVycmlkZSB0aGlzIGVycm9yLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgU3RhdGUubWFjcm9BbGlhc1N0b3JlW2FsaWFzTmFtZV0gPSBNYWNyb1ttYWNyb05hbWVdO1xuXG4gICAgICAgICAgICBpZiAoZGlzcG9zZUFmdGVyUGFzc2FnZSA9PT0gdHJ1ZSB8fFxuICAgICAgICAgICAgICAgICh0eXBlb2YoZGlzcG9zZUFmdGVyUGFzc2FnZSkgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgZGlzcG9zZUFmdGVyUGFzc2FnZS50b0xvd2VyQ2FzZSgpID09PSAnZGlzcG9zZWFmdGVycGFzc2FnZScpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFN0YXRlLm1hY3JvQWxpYXNEaXNwb3NhbHMucHVzaChhbGlhc05hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGFkZEZ1bmN0aW9uKG5hbWUsIG92ZXJyaWRlLCBhcmdOYW1lcywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnQSBUd2luZVNjcmlwdCBmdW5jdGlvbiBjYW5ub3QgZXhpc3Qgd2l0aG91dCBhICcgK1xuICAgICAgICAgICAgICAgICAgICAndmFsaWQgbmFtZS4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9ICBlbHNlIGlmIChuYW1lIGluIE1hY3JvKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGVyZSBpcyBhbHJlYWR5IGEgcHJvcGVydHkgaW4gdGhlIE1hY3JvIG9iamVjdCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ25hbWVkICcgKyBuYW1lICsgJy4gQ2Fubm90IGV4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lIGluIFN0YXRlLm1hY3JvQWxpYXNTdG9yZSkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgYWxyZWFkeSBhIHByb3BlcnR5IGluIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1N0YXRlLm1hY3JvQWxpYXNTdG9yZSBuYW1lZCAnICsgbmFtZSArICcuIENhbm5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2V4ZWN1dGUuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lIGluIFN0YXRlLmZ1bmN0aW9uU3RvcmUgJiZcbiAgICAgICAgICAgICAgICBvdmVycmlkZSAhPT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICh0eXBlb2Yob3ZlcnJpZGUpICE9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgICAgICAgICBvdmVycmlkZS50b0xvd2VyQ2FzZSgpICE9PSAnb3ZlcnJpZGUnKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZXJlIGlzIGFscmVhZHkgYSBwcm9wZXJ0eSBpbiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1N0YXRlLmZ1bmN0aW9uU3RvcmUgbmFtZWQgJyArIG5hbWUgKyAnLiBTZXQgdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcnJpZGUgYXJndW1lbnQgdG8gdHJ1ZSBvciBcIm92ZXJyaWRlXCIgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdvdmVycmlkZSB0aGlzIGVycm9yLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGNhbGxiYWNrKSAhPT0gJ3N0cmluZycgfHwgIWNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgY2FsbGJhY2sgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAnU3RhdGUuYWRkRnVuY3Rpb24gaXMgbm90IGEgdmFsaWQsIG5vbi1lbXB0eSBzdHJpbmcuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTdGF0ZS5mdW5jdGlvblN0b3JlW25hbWVdID0ge1xuICAgICAgICAgICAgICAgIHBvaW50ZXJQYXNzdGhyb3VnaDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBoYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3R3LW1hdGNoJyk7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoLmNsYXNzTmFtZSA9ICdmdW5jdGlvbkNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoLmlubmVySFRNTCA9IGNhbGxiYWNrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBmcm9tKGFyZ3VtZW50cykubWFwKGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNhZmVySlNPTlBhcnNlKGFyZyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrU2NvcGUgPSBTdGF0ZS5nZXRCbG9ja1Njb3BlKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmxvY2tTY29wZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lcyhibG9ja1Njb3BlKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoU3RhdGUuaXNQb2ludGVyKGJsb2NrU2NvcGVbbmFtZV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlLmxldFZhcmlhYmxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlLmdldFBvaW50ZXIoYmxvY2tTY29wZVtuYW1lXS5wYXRoICsgJ1snICsgbmFtZSArICddJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGUubGV0VmFyaWFibGUobmFtZSwgJz0nLCBibG9ja1Njb3BlW25hbWVdLCBtYXRjaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLmxldFZhcmlhYmxlKCdhcmdzJywgJz0nLCBhcmdzLCBtYXRjaCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyZ05hbWVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlpID09PSBhcmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBTdGF0ZS5sZXRWYXJpYWJsZShhcmdOYW1lc1tpaV0sICc9JywgYXJnc1tpaV0sIG1hdGNoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIENvbXBpbGVyLmNvbXBpbGUobWF0Y2gpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBnZXRCaW5kaW5nKG5hbWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YobmFtZSkgIT09ICdzdHJpbmcnIHx8ICFuYW1lKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbmFtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdTdGF0ZS5nZXRCaW5kaW5nIHdhcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBuYW1lVmFsID0gbmFtZS50cmltKCk7XG4gICAgICAgICAgICByZXR1cm4gU3RhdGUuY3VycmVudEJpbmRpbmdTdGF0ZVtuYW1lVmFsXTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRCaW5kaW5nKG5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAoIW5hbWUgfHwgdHlwZW9mKG5hbWUpICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG5hbWUgYXJndW1lbnQgcHJvdmlkZWQgdG8gU3RhdGUuYWRkQmluZGluZyAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2lzIG5vdCB2YWxpZC4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbmFtZVZhbCA9IG5hbWUudHJpbSgpO1xuICAgICAgICAgICAgaWYgKG5hbWVWYWwgPT09ICdwYXNzYWdlTmFtZScpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1wicGFzc2FnZU5hbWVcIiBpcyByZXNlcnZlZCBhbmQgY2Fubm90IGJlIHVzZWQgYXMgJyArXG4gICAgICAgICAgICAgICAgICAgICd0aGUgc291cmNlIGZvciBhIGJpbmRpbmcuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBTdGF0ZS5jdXJyZW50QmluZGluZ1N0YXRlW25hbWVWYWxdID0ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlQmluZGluZyhuYW1lKSB7XG4gICAgICAgICAgICBpZiAoIW5hbWUgfHwgdHlwZW9mKG5hbWUpICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG5hbWUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAnU3RhdGUudXBkYXRlQmluZGluZyBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBuYW1lVmFsID0gbmFtZS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCBiaW5kaW5nID0gU3RhdGUuY3VycmVudEJpbmRpbmdTdGF0ZVtuYW1lVmFsXTtcbiAgICAgICAgICAgIGlmICghYmluZGluZykge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgbm8gYmluZGluZyB0aWVkIHRvIHRoZSB2YXJpYWJsZSBuYW1lIG9yICcgK1xuICAgICAgICAgICAgICAgICAgICAnZXhwcmVzc2lvbiAnICsgbmFtZVZhbCArICcuICcgK1xuICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IHVwZGF0ZSBiaW5kaW5nLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWJpbmRpbmcuY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBjYWxsYmFjayBwcm9wZXJ0eSBvZiB0aGUgYmluZGluZyByZWZlcnJlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3RvIGJ5IHRoZSBuYW1lIGFyZ3VtZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAncGFzc2VkIHRvIFN0YXRlLnVwZGF0ZUJpbmRpbmcgaXMgbm90IHZhbGlkLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSAndHctYmluZGluZ1tkYXRhLWJpbmRpbmctbmFtZT1cIicgK1xuICAgICAgICAgICAgICAgIG5hbWVWYWwgK1xuICAgICAgICAgICAgICAgICdcIl0nO1xuICAgICAgICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuXG4gICAgICAgICAgICBpZiAoIWVsZW0gfHwgIWRvY3VtZW50LmNvbnRhaW5zKGVsZW0pKSB7XG4gICAgICAgICAgICAgICAgLypnYXRlbHlMb2coJ0JpbmRpbmcgbmFtZWQgJyArIG5hbWVWYWwgKyAnIGNvdWxkIG5vdCBiZSBmb3VuZCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2luIHRoZSBkb2N1bWVudC4nKTsqL1xuICAgICAgICAgICAgICAgIFN0YXRlLnJlbW92ZUJpbmRpbmcobmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcmV0VmFsO1xuICAgICAgICAgICAgaWYgKG5hbWVWYWxbMF0gPT09ICckJyAmJlxuICAgICAgICAgICAgICAgIG5hbWVWYWwuc2xpY2UoMSkgaW4gU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0VmFsID0gU3RhdGUuY3VycmVudFZhcmlhYmxlU3RhdGVbbmFtZVZhbC5zbGljZSgxKV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShyZXRWYWwpICE9PSBKU09OLnN0cmluZ2lmeShiaW5kaW5nLmxhc3RWYWx1ZSkgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YoYmluZGluZy5sYXN0VmFsdWUpID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgICAgIGJpbmRpbmcubGFzdFZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVsZW0uaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0dy1tYXRjaCcpO1xuICAgICAgICAgICAgICAgIG1hdGNoLmNsYXNzTmFtZSA9ICdiaW5kaW5nQ29udGFpbmVyJztcbiAgICAgICAgICAgICAgICBtYXRjaC50ZXh0Q29udGVudCA9IGJpbmRpbmcuY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgZWxlbS5hcHBlbmRDaGlsZChtYXRjaCk7XG4gICAgICAgICAgICAgICAgQ29tcGlsZXIuY29tcGlsZShtYXRjaCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXRWYWwgJiYgdHlwZW9mKHJldFZhbCkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgYmluZGluZy5sYXN0VmFsdWUgPSBkZWVwQ29weShyZXRWYWwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YocmV0VmFsKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBiaW5kaW5nLmxhc3RWYWx1ZSA9IHJldFZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICB1cGRhdGVCaW5kaW5ncygpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gZ2V0T3duUHJvcGVydHlOYW1lcyhTdGF0ZS5jdXJyZW50QmluZGluZ1N0YXRlKTtcblxuICAgICAgICAgICAgbmFtZXMuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgIT09ICdwYXNzYWdlTmFtZScpIHtcbiAgICAgICAgICAgICAgICAgICAgU3RhdGUudXBkYXRlQmluZGluZyhuYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVCaW5kaW5nKG5hbWUpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBTdGF0ZS5jdXJyZW50QmluZGluZ1N0YXRlW25hbWVdO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZFRyYWNlcnlHcmFtbWFyKG5hbWUsIGdyYW1tYXIsIG1vZGlmaWVycykge1xuICAgICAgICAgICAgaWYgKCFuYW1lIHx8IHR5cGVvZihuYW1lKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBuYW1lIGFyZ3VtZW50IHBhc3NlZCB0byBTdGF0ZS5hZGRUcmFjZXJ5R3JhbW1hciAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2lzIG5vdCB2YWxpZC4gQ2Fubm90IGFkZC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBvYmplY3Q7XG4gICAgICAgICAgICBpZiAoIWdyYW1tYXIpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBncmFtbWFyIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1N0YXRlLmFkZFRyYWNlcnlHcmFtbWFyIGlzIG5vdCB2YWxpZC4gQ2Fubm90IGFkZC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihncmFtbWFyKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBldmFsKCcoJyArIGdyYW1tYXIgKyAnKScpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV2YWxFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ0NvdWxkIG5vdCBldmFsIGluLXBhc3NhZ2UgdHJhY2VyeSBzb3VyY2UnICsgXG4gICAgICAgICAgICAgICAgICAgICcoc3RvcmUpLiAnICsgZXZhbEVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoZ3JhbW1hcikgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gZ3JhbW1hcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdHJhY2VyaWVkID0gdHJhY2VyeS5jcmVhdGVHcmFtbWFyKG9iamVjdCk7XG5cbiAgICAgICAgICAgIGxldCBtb2RzID0gbW9kaWZpZXJzO1xuICAgICAgICAgICAgaWYgKHR5cGVvZihtb2RpZmllcnMpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIG1vZHMgPSBzYWZlckNvbWJpbmVkUGFyc2UobW9kaWZpZXJzKTtcbiAgICAgICAgICAgIH0gXG5cbiAgICAgICAgICAgIGlmICghbW9kcykge1xuICAgICAgICAgICAgICAgIG1vZHMgPSBiYXNlRW5nTW9kaWZpZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgICAgIHRyYWNlcmllZC5hZGRNb2RpZmllcnMobW9kcyk7XG4gICAgICAgICAgICBTdGF0ZS50cmFjZXJ5U3RvcmVbbmFtZV0gPSB0cmFjZXJpZWQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdmFsaWRhdGVTdGF0ZUludGVncml0eSgpIHtcbiAgICAgICAgICAgIGxldCB2YWw7XG5cbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aHMgPSBbXG4gICAgICAgICAgICAgICAgU3RhdGUuaGlzdG9yeS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgU3RhdGUudmFyaWFibGVIaXN0b3J5Lmxlbmd0aCxcbiAgICAgICAgICAgICAgICBTdGF0ZS53b3JsZE1vZGVsSGlzdG9yeS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgU3RhdGUuYmluZGluZ0hpc3RvcnkubGVuZ3RoLFxuICAgICAgICAgICAgICAgIFN0YXRlLnRoZW1lSGlzdG9yeS5sZW5ndGhcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIHZhbCA9IGxlbmd0aHNbMF07XG4gICAgICAgICAgICBsZW5ndGhzLmZvckVhY2goZnVuY3Rpb24obGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aCAhPT0gdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnT25lIG9mIHRoZSBzdGF0ZSBoaXN0b3J5IGNvbGxlY3Rpb25zIGhhcyBhICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2RpZmZlcmVudCBsZW5ndGggdGhhbiBvbmUgb3IgbW9yZSBvZiB0aGUgb3RoZXIgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29sbGVjdGlvbnMuIFRoaXMgbWF5IHByZXZlbnQgdGhlIHN0b3J5IGZyb20gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZnVuY3Rpb25pbmcgYW5kIGNvbnRpbnVpbmcgb24gd2lsbCBsaWtlbHkgcmVzdWx0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2luIGZ1cnRoZXIgYnVncy4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBmdXR1cmVMZW5ndGhzID0gW1xuICAgICAgICAgICAgICAgIFN0YXRlLmhpc3RvcnlGdXR1cmUubGVuZ3RoLFxuICAgICAgICAgICAgICAgIFN0YXRlLnZhcmlhYmxlSGlzdG9yeUZ1dHVyZS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgU3RhdGUud29ybGRNb2RlbEhpc3RvcnlGdXR1cmUubGVuZ3RoLFxuICAgICAgICAgICAgICAgIFN0YXRlLmJpbmRpbmdIaXN0b3J5RnV0dXJlLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBTdGF0ZS50aGVtZUhpc3RvcnlGdXR1cmUubGVuZ3RoXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICB2YWwgPSBmdXR1cmVMZW5ndGhzWzBdO1xuICAgICAgICAgICAgZnV0dXJlTGVuZ3Rocy5mb3JFYWNoKGZ1bmN0aW9uKGZ1dHVyZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmIChmdXR1cmVMZW5ndGggIT09IHZhbCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ09uZSBvZiB0aGUgc3RhdGUgZnV0dXJlIGhpc3RvcnkgY29sbGVjdGlvbnMgaGFzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2EgZGlmZmVyZW50IGxlbmd0aCB0aGFuIG9uZSBvciBtb3JlIG9mICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3RoZSBvdGhlciBjb2xsZWN0aW9ucy4gVGhpcyBtYXkgcHJldmVudCB0aGUgc3RvcnkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnZnJvbSBmdW5jdGlvbmluZyBhbmQgY29udGludWluZyBvbiB3aWxsIGxpa2VseSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdyZXN1bHQgaW4gZnVydGhlciBidWdzLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRzID0gW1xuICAgICAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRWYXJpYWJsZVN0YXRlLFxuICAgICAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRXb3JsZE1vZGVsU3RhdGUsXG4gICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudEJpbmRpbmdTdGF0ZSxcbiAgICAgICAgICAgICAgICBTdGF0ZS5jdXJyZW50VGhlbWVcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGN1cnJlbnRzLmZvckVhY2goZnVuY3Rpb24oY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGlmICghY3VycmVudCB8fCB0eXBlb2YoY3VycmVudCkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnT25lIG9mIHRoZSBzdGF0ZSBjdXJyZW50IHByb3BlcnRpZXMgaXMgbm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2EgdmFsaWQgb2JqZWN0LiBUaGlzIG1heSBwcmV2ZW50IHRoZSBzdG9yeSBmcm9tICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2Z1bmN0aW9uaW5nIGFuZCBjb250aW51aW5nIG9uIHdpbGwgbGlrZWx5IHJlc3VsdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdpbiBmdXJ0aGVyIGJ1Z3MuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSAndHctcGFzc2FnZWRhdGFbbmFtZT1cIicgK1xuICAgICAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRQYXNzYWdlTmFtZSArXG4gICAgICAgICAgICAgICAgJ1wiXSc7XG4gICAgICAgICAgICBpZiAodHlwZW9mKFN0YXRlLmN1cnJlbnRQYXNzYWdlTmFtZSkgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudFBhc3NhZ2VOYW1lID09PSAnJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBTdGF0ZS5jdXJyZW50UGFzc2FnZU5hbWUgcHJvcGVydHkgaXMgbm90IGEgJyArXG4gICAgICAgICAgICAgICAgICAgICdzdHJpbmcsIG9yIGlzIGFuIGVtcHR5IHN0cmluZy4gVGhpcyBtYXkgcHJldmVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3RoZSBzdG9yeSBmcm9tIGZ1bmN0aW9uaW5nIGFuZCBjb250aW51aW5nIG9uIHdpbGwgJyArXG4gICAgICAgICAgICAgICAgICAgICdsaWtlbHkgcmVzdWx0IGluIGZ1cnRoZXIgYnVncy4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSkge1xuICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIFN0YXRlLmN1cnJlbnRQYXNzYWdlTmFtZSBwcm9wZXJ0eSBkb2VzIG5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2NvcnJlc3BvbmQgdG8gYSB0dy1wYXNzYWdlZGF0YSBlbGVtZW50LiBUaGlzIG1heSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3ByZXZlbnQgdGhlIHN0b3J5IGZyb20gZnVuY3Rpb25pbmcgYW5kIGNvbnRpbnVpbmcgJyArXG4gICAgICAgICAgICAgICAgICAgICdvbiB3aWxsIGxpa2VseSByZXN1bHQgaW4gZnVydGhlciBidWdzLicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICB3aW5kb3cuVGhlbWVzID0ge1xuICAgICAgICBnZXREZWZhdWx0U3RvcnlUaGVtZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmVuZGVyVHlwZTogQ29uZmlnLnJlbmRlclR5cGVzLnN1Z2FyY3ViZSxcblxuICAgICAgICAgICAgICAgIHJld2luZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmYXN0Rm9yd2FyZDogdHJ1ZSxcblxuICAgICAgICAgICAgICAgIHBhc3NhZ2VOYW1lOiAnbG9hZCcsXG5cbiAgICAgICAgICAgICAgICBuZXdsaW5lSGFuZGxpbmdUeXBlOiBDb25maWcubmV3bGluZUhhbmRsaW5nVHlwZXMubmV3bGluZVRvQnIsXG5cbiAgICAgICAgICAgICAgICBkZWJ1Zzoge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd1RyYW5zY3JpcHRzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhbGxvd1NhdmVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBmYWlsSGFyZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGVycm9yTGV2ZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpbmxpbmU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHByZXJlbmRlcjogbnVsbCxcblxuICAgICAgICAgICAgICAgIHBvc3RyZW5kZXI6IG51bGwsXG5cbiAgICAgICAgICAgICAgICBzdHlsZTogXG4gICAgICAgICAgICAgICAgICAgICcvKiBnbG9iYWwgY29udGFpbmVycyAqL1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAnaHRtbCB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0YmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICdodG1sLCBib2R5IHtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHR3aWR0aDogMTAwJTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRoZWlnaHQ6IDEwMCU7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICdib2R5IHtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRwb3NpdGlvbjogcmVsYXRpdmU7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0bWFyZ2luOiAwO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdGZvbnQ6IDFyZW0gXCJIZWx2ZXRpY2EgTmV1ZVwiLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnLyogYmFzaWMgc3RvcnkgZWxlbWVudHMgKi9cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ3R3LXN0b3J5ZGF0YSB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0ZGlzcGxheTogbm9uZTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ3R3LXN0b3J5LCAjcGFzc2FnZSB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0cG9zaXRpb246IGFic29sdXRlO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdHdpZHRoOiA4MCU7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0cGFkZGluZzogMi41cmVtO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdGxpbmUtaGVpZ2h0OiAxNDUlO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnI3Bhc3NhZ2UgKiwgI3Bhc3NhZ2VQYW5lICosICNkaXNwbGF5UGFuZSAqLCAjZGVmYXVsdE1lbnUgKiB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0Lypmb250LXNpemU6IGluaGVyaXQ7Ki9cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ3R3LXBhc3NhZ2Uge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0d2lkdGg6IDEwMCU7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0cGFkZGluZzogMC42NnJlbTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRtYXJnaW4tYm90dG9tOiAwLjMzcmVtO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd0dy1wYXNzYWdlLmN1cnJlbnQge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdHBhZGRpbmc6IDAuNjZyZW07XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0bWFyZ2luLWJvdHRvbTogMC4zM3JlbTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ3R3LXBhc3NhZ2UuY3VycmVudC5qb25haCB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0Ym9yZGVyOiAwLjJyZW0gc29saWQgZ29sZDtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ3R3LXBhc3NhZ2UuY3VycmVudC5zdWdhcmN1YmUge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdGJvcmRlcjogMC4ycmVtIHNvbGlkIGJsYWNrO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAndHctcGFzc2FnZTpub3QoLmN1cnJlbnQpIHtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRvcGFjaXR5OiAwLjM1O1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdGN1cnNvcjogcG9pbnRlcjtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ3R3LXBhc3NhZ2U6bm90KC5jdXJyZW50KTpob3ZlciB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0Ym94LXNoYWRvdzogMCAwIDAuMzNyZW0gYmxhY2s7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd0dy1wYXNzYWdlOm5vdCguY3VycmVudCkge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdGJvcmRlcjogMC4ycmVtIHNvbGlkIGJsYWNrO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAndHctcGFzc2FnZTpub3QoLmN1cnJlbnQpIDpub3QoLnJld2luZCk6bm90KC5mYXN0Rm9yd2FyZCkge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdHBvaW50ZXItZXZlbnRzOiBub25lO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAndHctbGluayB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0Y29sb3I6IHJlZDtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRmb250LXdlaWdodDogYm9sZDtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRjdXJzb3I6IHBvaW50ZXI7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd0dy1oaXN0b3J5LWJ1dHRvbi5iYWNrIHtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHR0b3A6IDUlO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAndHctaGlzdG9yeS1idXR0b24uZm9yd2FyZCB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0dG9wOiAzNSU7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd0dy1oaXN0b3J5LWJ1dHRvbiB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0cG9zaXRpb246IGFic29sdXRlO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdGxlZnQ6IC01JTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRmb250LXNpemU6IDEuNXJlbTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRmb250LXdlaWdodDogYm9sZDtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRjdXJzb3I6IHBvaW50ZXI7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0dmlzaWJpbGl0eTogaGlkZGVuO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAndHctcGFzc2FnZS5yZXdpbmQgdHctaGlzdG9yeS1idXR0b24uYmFjayB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0dmlzaWJpbGl0eTogdmlzaWJsZTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ3R3LXBhc3NhZ2UuZmFzdEZvcndhcmQgdHctaGlzdG9yeS1idXR0b24uZm9yd2FyZCB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0dmlzaWJpbGl0eTogdmlzaWJsZTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ3R3LWhlYWRlciwgdHctZm9vdGVyIHtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRkaXNwbGF5OiBibG9jaztcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ3R3LXRyYW5zaXRpb24tY29udGFpbmVyW2RhdGEtdHJhbnNpdGlvbi10eXBlPVwiZGlzc29sdmVcIl0ge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdC13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGRpc3NvbHZlO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdC1tb3otYW5pbWF0aW9uLW5hbWU6IGRpc3NvbHZlO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdC1vLWFuaW1hdGlvbi1uYW1lOiBkaXNzb2x2ZTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRhbmltYXRpb24tbmFtZTogZGlzc29sdmU7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd0dy1zYXZlIHtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRkaXNwbGF5OiBub25lO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnLyogZ2xvYmFsIGhlbHBlcnMgKi9cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJy5oaWRkZW4ge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJy5jZW50ZXJIb3Jpem9udGFsbHkge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdGxlZnQ6IDUwJTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHQtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHQtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHQtby10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0dHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnLmNlbnRlclZlcnRpY2FsbHkge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdHRvcDogNTAlO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdC1tb3otdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdC1vLXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHR0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICcuY2VudGVyVmVydGljYWxseSB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0bGVmdDogNTAlO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdHRvcDogNTAlO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0LW1vei10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSwgLTUwJSk7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0LW8tdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUsIC01MCUpO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlLCAtNTAlKTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJy8qIG5hbWVkIGFuaW1hdGlvbnMgKi9cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ0Atd2Via2l0LWtleWZyYW1lcyBkaXNzb2x2ZSB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0ZnJvbSB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdFxcdG9wYWNpdHk6IDA7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0fVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdHRvIHtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx0XFx0b3BhY2l0eTogMTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHR9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICdALW1vei1rZXlmcmFtZXMgZGlzc29sdmUge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdGZyb20ge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXHRcXHRvcGFjaXR5OiAwO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdH1cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHR0byB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdFxcdG9wYWNpdHk6IDE7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0fVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnQC1vLWtleWZyYW1lcyBkaXNzb2x2ZSB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0ZnJvbSB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdFxcdG9wYWNpdHk6IDA7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0fVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdHRvIHtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx0XFx0b3BhY2l0eTogMTtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHR9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICdAa2V5ZnJhbWVzIGRpc3NvbHZlIHtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHRmcm9tIHtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFx0XFx0b3BhY2l0eTogMDtcXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHR9XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0dG8ge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXHRcXHRvcGFjaXR5OiAxO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdH1cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ1xcdH1cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgJ0BrZXlmcmFtZXMgZGlzc29sdmUge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdGZyb20ge1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcXHRcXHRvcGFjaXR5OiAwO1xcbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdH1cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXHR0byB7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1xcdFxcdG9wYWNpdHk6IDE7XFxuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFx0fVxcbicgK1xuICAgICAgICAgICAgICAgICAgICAnfVxcbicsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldERlZmF1bHRQYXNzYWdlVGhlbWVzKCkge1xuICAgICAgICAgICAgY29uc3QgZGZsdCA9IHtcbiAgICAgICAgICAgICAgICBfdHJhY2VyeXJlbmRlcjoge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHRleHQsIHBhc3NhZ2VEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2JqZWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgPSBldmFsKCcoJyArIHRleHQgKyAnKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnQ291bGQgbm90IGV2YWwgaW4tcGFzc2FnZSB0cmFjZXJ5ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc291cmNlLlxcbicgKyBlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqZWN0ICYmIHR5cGVvZihvYmplY3QpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdyYW1tYXIgPSB0cmFjZXJ5LmNyZWF0ZUdyYW1tYXIob2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYW1tYXIuYWRkTW9kaWZpZXJzKGJhc2VFbmdNb2RpZmllcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0eWxlICsgZ3JhbW1hci5mbGF0dGVuKFwiI29yaWdpbiNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogbnVsbCxcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgX3N0YXJ0cGFzc2FnZToge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXIodGV4dCwgcGFzc2FnZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcnMgPSBTdGF0ZS5nZXRBbGxTY29wZWRWYXJpYWJsZXMocGFzc2FnZURhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV0U3RyaW5nID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFycy5zdG9yeW5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRTdHJpbmcgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxoMSBpZD1cIl90aXRsZVwiIGNsYXNzPVwiX3N0YXJ0XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJzLnN0b3J5bmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2gxPic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLnN1YnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0U3RyaW5nICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aDIgaWQ9XCJfc3VidGl0bGVcIiBjbGFzcz1cIl9zdGFydFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFycy5zdWJ0aXRsZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2gyPic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLmF1dGhvcm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRTdHJpbmcgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxoMyBpZD1cIl9hdXRob3JuYW1lXCIgY2xhc3M9XCJfc3RhcnRcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcnMuYXV0aG9ybmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2gzPic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLmNvbnRyaWJ1dG9ycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhcnMuY29udHJpYnV0b3JzLmZvckVhY2gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFN0cmluZyArPSAnPGRpdiBpZD1cIl9jb250cmlidXRvcnNcIiBjbGFzcz1cIl9zdGFydFwiPic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFycy5jb250cmlidXRvcnMuZm9yRWFjaChmdW5jdGlvbihjb250cmlidXRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0U3RyaW5nICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxoNCBjbGFzcz1cIl9jb250cmlidXRvclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cmlidXRvciArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvaDQ+JzsgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRTdHJpbmcgKz0gJzwvZGl2Pic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRTdHJpbmcgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGlkPVwiX2NvbnRyaWJ1dG9yc1wiIGNsYXNzPVwiX3N0YXJ0XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxoNT4nICsgdmFycy5jb250cmlidXRvcnMgKyAnPC9oNT4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0U3RyaW5nICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aDUgaWQ9XCJfZGVzY3JpcHRpb25cIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cIl90YWJzdG9wXCI+PC9zcGFuPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFycy5kZXNjcmlwdGlvbiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2g1Pic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLm5leHRwYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0U3RyaW5nICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dHctbGluayBjbGFzcz1cInBhc3NhZ2VcIiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkPVwiX25leHRwYWdlXCIgcGFzc2FnZS1uYW1lPVwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcnMubmV4dHBhZ2UgKyAnXCI+JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLm5leHRwYWdldGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0U3RyaW5nICs9IHZhcnMubmV4dHBhZ2V0aXRsZSArICc8L3R3LWxpbms+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRTdHJpbmcgKz0gdmFycy5uZXh0cGFnZSArICc8L3R3LWxpbms+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXRTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAnLl9zdGFydCB7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RleHQtYWxpZ246IGNlbnRlcjsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnLl90YWJzdG9wIHsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGlzcGxheTogaW5saW5lLWJsb2NrOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd3aWR0aDogMnJlbTsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnI190aXRsZSB7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmdpbi10b3A6IDEuNzVyZW07JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvbnQtc2l6ZTogM2VtOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ30nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcjX2NvbnRyaWJ1dG9ycyB7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uOiByZWxhdGl2ZTsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG9wOiAtMC41cmVtOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ30nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcuX2NvbnRyaWJ1dG9yIHsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFyZ2luOiAwLjEyNXJlbTsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnI19kZXNjcmlwdGlvbiB7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmdpbjogMXJlbSAwIDAgMDsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnI19uZXh0cGFnZSB7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXk6IGJsb2NrOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0LWFsaWduOiBjZW50ZXI7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmdpbi10b3A6IDEuMjVyZW07JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnfScsXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIF9jcmVkaXRzcGFzc2FnZToge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXIodGV4dCwgcGFzc2FnZURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcnMgPSBTdGF0ZS5nZXRBbGxTY29wZWRWYXJpYWJsZXMocGFzc2FnZURhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmV0U3RyaW5nID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFycy5zdG9yeW5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRTdHJpbmcgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxoMSBpZD1cIl90aXRsZVwiIGNsYXNzPVwiX3N0YXJ0XCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJzLnN0b3J5bmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2gxPic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLnN1YnRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0U3RyaW5nICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aDIgaWQ9XCJfc3VidGl0bGVcIiBjbGFzcz1cIl9zdGFydFwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFycy5zdWJ0aXRsZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2gyPic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLmF1dGhvcm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRTdHJpbmcgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxoMyBpZD1cIl9hdXRob3JuYW1lXCIgY2xhc3M9XCJfc3RhcnRcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcnMuYXV0aG9ybmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2gzPic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLmNvbnRyaWJ1dG9ycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhcnMuY29udHJpYnV0b3JzLmZvckVhY2gpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFN0cmluZyArPSAnPGRpdiBpZD1cIl9jb250cmlidXRvcnNcIiBjbGFzcz1cIl9zdGFydFwiPic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFycy5jb250cmlidXRvcnMuZm9yRWFjaChmdW5jdGlvbihjb250cmlidXRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0U3RyaW5nICs9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxoNCBjbGFzcz1cIl9jb250cmlidXRvclwiPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cmlidXRvcjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm9sZXMgPSB2YXJzLmNvbnRyaWJ1dG9ycm9sZXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb2xlcyAmJiByb2xlc1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRTdHJpbmcgKz0gJzogJyArIHJvbGVzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0U3RyaW5nICs9ICc8L2g0Pic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFN0cmluZyArPSAnPC9kaXY+JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFN0cmluZyArPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgaWQ9XCJfY29udHJpYnV0b3JzXCIgY2xhc3M9XCJfc3RhcnRcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGg1PicgKyB2YXJzLmNvbnRyaWJ1dG9ycyArICc8L2g1PidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcnMubmV4dHBhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRTdHJpbmcgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzx0dy1saW5rIGNsYXNzPVwicGFzc2FnZVwiICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWQ9XCJfbmV4dHBhZ2VcIiBwYXNzYWdlLW5hbWU9XCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFycy5uZXh0cGFnZSArICdcIj4nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcnMubmV4dHBhZ2V0aXRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRTdHJpbmcgKz0gdmFycy5uZXh0cGFnZXRpdGxlICsgJzwvdHctbGluaz4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFN0cmluZyArPSB2YXJzLm5leHRwYWdlICsgJzwvdHctbGluaz4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldFN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBzdHlsZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICcuX3N0YXJ0IHsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGV4dC1hbGlnbjogY2VudGVyOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ30nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcuX3RhYnN0b3AgeycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaXNwbGF5OiBpbmxpbmUtYmxvY2s7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3dpZHRoOiAycmVtOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ30nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcjX3RpdGxlIHsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLXRvcDogMS43NXJlbTsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9udC1zaXplOiA2cmVtOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ30nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcjX2NvbnRyaWJ1dG9ycyB7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uOiByZWxhdGl2ZTsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG9wOiAtMC41cmVtOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ30nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcuX2NvbnRyaWJ1dG9yIHsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbWFyZ2luOiAwLjEyNXJlbTsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnI19kZXNjcmlwdGlvbiB7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmdpbjogMXJlbSAwIDAgMDsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnI19uZXh0cGFnZSB7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXk6IGJsb2NrOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0LWFsaWduOiBjZW50ZXI7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcmdpbi10b3A6IDEuMjVyZW07JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnfScsXG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIF90ZWxldmlzaW9uc2NyZWVuOiB7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcih0ZXh0LCBwYXNzYWdlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFycyA9IFN0YXRlLmdldEFsbFNjb3BlZFZhcmlhYmxlcyhwYXNzYWdlRGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbGV2aXNpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbGV2aXNpb24uaWQgPSAnX3RlbGV2aXNpb25zY3JlZW4nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFycy5ib3JkZXJyYWRpdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZWxldmlzaW9uLnN0eWxlLmJvcmRlclJhZGl1cyA9IHZhcnMuYm9yZGVycmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFycy5iYWNrZ3JvdW5kY29sb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZWxldmlzaW9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHZhcnMuYmFja2dyb3VuZGNvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFycy5nbG93b3BhY2l0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbGV2aXNpb24uc3R5bGUub3BhY2l0eSA9IHZhcnMuZ2xvd29wYWNpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdsb3dSZXBlYXQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguYWJzKE51bWJlcih2YXJzLmdsb3dyZXBlYXQpKSB8fCAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2xvd1dpZHRoID0gdmFycy5nbG93d2lkdGggfHwgJzFyZW0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2xvd0NvbG9yID0gdmFycy5nbG93Y29sb3IgfHwgJ3doaXRlJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdHIgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaW5kZXggPCBnbG93UmVwZWF0IC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnMCAwICcgKyBnbG93V2lkdGggKyAnICcgKyBnbG93Q29sb3IgKyAnLCAnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSAnMCAwICcgKyBnbG93V2lkdGggKyAnICcgKyBnbG93Q29sb3I7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZWxldmlzaW9uLnN0eWxlLmJveFNoYWRvdyA9IHN0cjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcnMuYmFja2dyb3VuZHdvcmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgd29yZHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy50ZXh0Q29udGVudCA9IHZhcnMuYmFja2dyb3VuZHdvcmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcnMuYmFja2dyb3VuZHdvcmRzc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5zdHlsZS5mb250U2l6ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJzLmJhY2tncm91bmR3b3Jkc3NpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcnMuYmFja2dyb3VuZHdvcmRzb3BhY2l0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5zdHlsZS5vcGFjaXR5ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcnMuYmFja2dyb3VuZHdvcmRzb3BhY2l0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFycy5iYWNrZ3JvdW5kd29yZHNjb2xvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5zdHlsZS5jb2xvciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJzLmJhY2tncm91bmR3b3Jkc2NvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLmJhY2tncm91bmR3b3Jkc3Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdmFycy5iYWNrZ3JvdW5kd29yZHNwb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BsaXRQb3MgPSAocG9zaXRpb24gfHwgJycpLnNwbGl0KCcgJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0QWxpZ24gPSBzcGxpdFBvc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yZHMuc3R5bGUudGV4dEFsaWduID0gdGV4dEFsaWduO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gc3BsaXRQb3NbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFuc2Zvcm0gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5zdHlsZS50b3AgPSAnNTAlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRzLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC01MCUpJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmFuc2Zvcm0gPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3Jkcy5zdHlsZS5ib3R0b20gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVsZXZpc2lvbi5hcHBlbmRDaGlsZCh3b3Jkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQuaWQgPSAnX2JhY2tncm91bmQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVsZXZpc2lvbi5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vaXNlQW5pbVN0YXR1cyA9IHZhcnMubm9pc2Vhbmltc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihub2lzZUFuaW1TdGF0dXMpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vaXNlQW5pbVN0YXR1cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9pc2VBbmltU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vaXNlQW5pbU1pbk9wYWNpdHkgPSAwLjk1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLm5vaXNlYW5pbW1pbm9wYWNpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VBbmltTWluT3BhY2l0eSA9IHZhcnMubm9pc2VhbmltbWlub3BhY2l0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm9pc2VBbmltTWF4T3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcnMubm9pc2VhbmltbWF4b3BhY2l0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2lzZUFuaW1NYXhPcGFjaXR5ID0gdmFycy5ub2lzZWFuaW1tYXhvcGFjaXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub2lzZUFuaW1NaW5MZWZ0ID0gJy0wLjA1JSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcnMubm9pc2VhbmltbWlubGVmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2lzZUFuaW1NaW5MZWZ0ID0gdmFycy5ub2lzZWFuaW1taW5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub2lzZUFuaW1NYXhMZWZ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFycy5ub2lzZWFuaW1tYXhsZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vaXNlQW5pbU1heExlZnQgPSB2YXJzLm5vaXNlYW5pbW1heGxlZnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vaXNlQW5pbU1pblRvcCA9ICctMC4wNSUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLm5vaXNlYW5pbW1pbnRvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2lzZUFuaW1NaW5Ub3AgPSB2YXJzLm5vaXNlYW5pbW1pbnRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm9pc2VBbmltTWF4VG9wID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFycy5ub2lzZWFuaW1tYXh0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VBbmltTWF4VG9wID0gdmFycy5ub2lzZWFuaW1tYXh0b3BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm9pc2VBbmltTWluV2lkdGggPSAnMTA1JSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcnMubm9pc2VhbmltbWlud2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VBbmltTWluV2lkdGggPSB2YXJzLm5vaXNlYW5pbW1pbndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub2lzZUFuaW1NYXhXaWR0aCA9ICcxMTAlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFycy5ub2lzZWFuaW1tYXh3aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2lzZUFuaW1NYXhXaWR0aCA9IHZhcnMubm9pc2VhbmltbWF4d2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vaXNlQW5pbU1pbkhlaWdodCA9ICcxMDUlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFycy5ub2lzZWFuaW1taW5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VBbmltTWluSGVpZ2h0ID0gdmFycy5ub2lzZWFuaW1taW5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vaXNlQW5pbU1heEhlaWdodCA9ICcxMTUlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFycy5ub2lzZWFuaW1tYXhoZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9pc2VBbmltTWluSGVpZ2h0ID0gdmFycy5ub2lzZWFuaW1tYXhoZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHlsZSArPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQGtleWZyYW1lcyBfdHZOb2lzZSB7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZnJvbSB7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xlZnQ6ICcgKyBub2lzZUFuaW1NaW5MZWZ0ICsgJzsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG9wOiAnICsgbm9pc2VBbmltTWluVG9wICsgJzsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnd2lkdGg6ICcgKyBub2lzZUFuaW1NaW5XaWR0aCArICc7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hlaWdodDogJyArIG5vaXNlQW5pbU1pbkhlaWdodCArICc7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29wYWNpdHk6ICcgKyBub2lzZUFuaW1NaW5PcGFjaXR5ICsgJzsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG8geycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsZWZ0OiAnICsgbm9pc2VBbmltTWF4TGVmdCArICc7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvcDogJyArIG5vaXNlQW5pbU1heFRvcCArICc7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3dpZHRoOiAnICsgbm9pc2VBbmltTWF4V2lkdGggKyAnOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoZWlnaHQ6ICcgKyBub2lzZUFuaW1NYXhIZWlnaHQgKyAnOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvcGFjaXR5OiAnICsgbm9pc2VBbmltTWF4T3BhY2l0eSArICc7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnfScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnfSc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm9pc2VBbmltRHVyYXRpb24gPSAnMXMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YXJzLm5vaXNlYW5pbWR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vaXNlQW5pbUR1cmF0aW9uID0gdmFycy5ub2lzZWFuaW1kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm9pc2VBbmltRWFzaW5nID0gJ2xpbmVhcic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcnMubm9pc2VhbmltZWFzaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vaXNlQW5pbUVhc2luZyA9IHZhcnMubm9pc2VhbmltZWFzaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc3R5bGUuYW5pbWF0aW9uRGlyZWN0aW9uID0gJ2FsdGVybmF0ZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC5zdHlsZS5hbmltYXRpb25EdXJhdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vaXNlQW5pbUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc3R5bGUuYW5pbWF0aW9uRWFzaW5nID0gbm9pc2VBbmltRWFzaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQuc3R5bGUuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgPSAnaW5maW5pdGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVsZXZpc2lvbi5vdXRlckhUTUw7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAnI190ZWxldmlzaW9uc2NyZWVuIHsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9zaXRpb246IGFic29sdXRlOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsZWZ0OiAwOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0b3A6IDA7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3dpZHRoOiAxMDAlOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdoZWlnaHQ6IDEwMCU7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xpbmUtaGVpZ2h0OiA1cmVtOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd6LWluZGV4OiAtMTsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3c6IGhpZGRlbjsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnI190ZWxldmlzaW9uc2NyZWVuICNfYmFja2dyb3VuZCB7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGVmdDogLTUwJTsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnd2lkdGg6IDIwMCU7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hlaWdodDogMTUwJTsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBR1FBQUFCa0NBTUFBQUJIUEdWbUFBQUFQMUJNVkVVQUFBQk1Ua3drSmlROE9qd1VFaFJFUWtRY0dod3NMaXdFQmdSRVJrUWNIaHcwTWpRTUNneE1Ta3drSWlRME5qUU1EZ3c4UGp3VUZoUXNLaXdFQWdRS1ZUWXBBQUFBQVhSU1RsTUFRT2JZWmdBQUY3RkpSRUZVYUlFbG1nbHlKRGtPQkpNRTcvdkEvOThxWjJuV2JIYTZKV1dSQkJEaHdkUVhYUm94V09mbWpXNDY5VDZNMEtlN3BidldVd3pEMjIyVFczZWN1SnFNMjMyWXc2ZmM1dDIyRlVsZFRmVnlWaGsyRldOM0hxYU1Xb3ZNZnJMZlBYdzE1MzUzS0cyMGtLdTMwUlo3aXJWQmdzM3AzTkdjMjNLS0p1dW03NjEzMDJ4WjIxY3pYVnA1aXoxMXBXQjk3bE9HYXplRkVVc05RM3dSOWRMOS9HWUtldjN3aHcyazJQc08zWFhmUmVPcWJmbm1wcTF0ckh4YWpMWHVuSGJwdlVYeFhkM3RNYnFSc3JJZWFhSGJNMTN0SnE5c3ZUZGpoM3ZGK2ppKzBkMXdVV3BMeDRYSWdzdTB1dTR0dzNqajk5V1FVeXdqSDV2WTN1eCt4eFp1Y2N1Mm5rTzRObDFybDh5VDNkN0ZlT0VuV08vWnJ0N2FhNVFUOUZ1eG10RjZDTjdlZVVLUWMrdnVQZlJ6MkZreTRiUnhUM2RaVXd0K0x5MTl6QmF0UzJYYzZocFZtVktrUlI4dXorekg1M0xqSGltd2FMNnZqK0MvMU15eDEwNjdORXlmWFE4ckhGWXBWb3E5S2RmT0kyN2hRTnJKMFcvVE9QbFZwWmJZbS9QOXJwRlg2b0dQYVU3QzFacDBzLzJ4N0lwMFNCbytjRng2S1haU0thZk02VThKZkJ2N0xYTlk1YU42VW1mOTVsRkZLZTBXT1RwTDQwUlA0d25SakRLT3hKMXI5WFRDWm5kK3NmTWhOWlVRMWhuejYzVzRNTnRPSEs1Mm4yNE5wOGJOOGpuWDVQdXdKV2ExSzJXV0hlOHB6VVN2TWZqU3k0bjAwczBodXhsZDZXd2xTS2FWeTFqTHRhQ3pWZkhqNW8rMXEzT24wYnpkcGVzeVIxL1VuV1ZqV3l0bmRoYmN5R0dWWTZQR0tlZWNNV2JKVktCcGpLSjM3QlZuVGJHdVFQL055L2hZUndrR0JRN1M1LzNhNlBlR2srWXNYV2UvbGk1WmZScWVYdXc4czRYUWI0MnNMK3ZjNlFabmVNQ3d0T0lkUHN1dVFVUmJuQ3VZd2pueXg3bTZITi83R20vODB0R1A5cGJpODE1dXloVjZTZ2ZkU1BkemlpNHM5WFBITVpXNXBJR1gyeWVQMkZJYzdiTFg0OFRRSkZOc1F6WktGYnNSaVA0ZWQxM0k5bHlPclliUE42MU81ZTV1Ui9UVjBaeTdtcFVwcmZaUkhSKzBuRFdxTnRMNjJXbHJtZFBMS2Zsb2EyODdNRGRMZHB0RmRhVWJ1eFU5Sm9jVVZvb3hhVi8zRzljTkcyUDJQQWRWc2NkWVBzRDdTOE9ZSXozUDFuUXlLam9pbWxHQ3J6cVN4T0ZsTzdUR08vR1hyclRGVnh0eVgxRlB5dGV4NXJQMUxHR3l2MXBXSERKMjRzOHo4aWNtbXlLeFh6bG1qTHUxdUR3OXo0cDJjZDRoRjg0QmVVQkJaczZWM2hnYWp0ZytmY25iNTJuSFU5bWM1L1lKQ2ZKamZ5SnJ5eksyK3FlVFk4dWNpTElwMjN0bDRqa0lSTXhYTk1LY2ZIZFo1cnJpWnBzbU1yQmw3RjBMenc5NXM1OHhiNTFMVXZDdDNmSEU1bzZnL3VPcFZ1ZmlqR2ZudThJNDZVN3Z3ckRIV2RtK1JQcGl0WGlhbkxFMVVjbzNkM0ZFZXM2b21MWDJtRDAxTzl0QWE2VHlHRGFha011YXErQVE5Zk94emJNYTgvUGZqdDZ1R2E1NGMybHU5Y3hsTEpRMFB2RkZ0NElPbk1mSGRLWXcyZ2hDa1l6cVJYZWJTalMxN2F5bGxPVXQ0aXkwNlpIMG5XcjRBYVNjSWVaVFc3SmhaR3UxMjUxR0t6ZjVLVHFydFNiMVRDUE9XeEpOVGZmRWdQQ1BPR29mMUl2RDJkYVZPSXRuRXhJVTdleTdvZEI3ZmpINnFMMWVqam54bmEvS0xqMHQ3bFU1MVBTVWFHM2NxWHRVaXljNy91RzhVVmkxWTJLaVljeUtaeGJjZ3BMa2cwUEZZa2VScUcreTNOYlBoMTZYWDA1SEtVNWRzakxRRDJuRFlMalZaWHpLdTl6NzVSdU5KQzNSbWw1b3ZXb3hZNHdsVk91dVAvMjBGdXErdFJwOGQ3OGVqVXN3Mmp6U1Y3ZEhxVGVLZFhWZ2w4MVhuNDVINzJzNTlWekhNWG5kcDNqcWRVTmlpbXB3eSt3MTNSaTJpWnQxbW5OU3pXRWlPRlZMOG9OdTJweitwR3BEeHljcWFsWTBuZm1KdHAwNDNRN3NWTEZNSnRtSVJQWm1hSWQ2OGk0dTViMVBSVjA1SEJ0UWVxWXRWVVpycU8zQnh1RUc2a0lOUkdTd2paczFmbExEdnRLNm9xZTl6TnJwcHBPMXE5M2JLK2VUemVML205VUFncVNkUXFqMHJiVUppeG03cHFYSjU1Z3lPelRhN0JxdXQrWnNUZFlndFlIcE5kL0sxSG5PMm54SzBhMmtTUFRnaFByc3RvWFJaeXNIS2VxSzYrR3N0SVBQQjdlMmEwVTQ2QnAzSmJ5MktLbGtnVEZXZkQwY1F0bUJUL1ZzWjMwdWVQK1VQOWM3OGc0NGUvY3g5OE9JQ2kwWHErMkExVXg0aXphMG1LTnhLNlN5cHFWeXFkNHp3aHFqMGJmSUkrWnJUd3NHWjBJbWNWZ3BmZUh4c1RwWkZTQzVvOE1XbG03RE5LajZqbm1iU0syaE96WmlPUlcydGgzcW5kZnREamwxYlAvU2RYUnh1TzV0REZKSmE2UzcyL1ZpZ1lsNFVvZTc3Tms4RUVucytseGx2V0V6UEYrYStKeXFBZi8yTzZaUnJ1VWNGS3RDa2kycUFFc1pSc29mM0xEWWV1OUMzcVFWLzJ0cTNDT3VwZFBGVDVHOHVlK1J3RDdpM2pjb2tJTVJicWFnSGt3OFZzcUo1Y1I1Qk5XNWg2ZTJBOUt3Y0x3cU0wdGoyL3NURlVZYjk0S0xHdWRjYXFWMHp0b3ZhUnRBMTNVM1lsLzBUR3JGQWNnVHRWS21mMkdySnBaMmtrWEJFRDhick0xMEs3YnNOaDhDWWhaM1JsYmRIaks1ZmVTQ3hxSGJIZzJuYzA3NXRnY1VuRWRTRTk4T1NIUFdXZmlybGxFZ2FPMHFXR0FxMW5hNk5US0VUaHMxVEMzN3RtMkduL2psWEh0bklLcmlROGpTT01nd2FzaWdxZXhBVFF5ME16MlV4ZU5PRGF1eHdxcXhSTTJSbnp1QUtjVFhuVU1QNXREa2xKNDduQXBlZjA3Zk0zT3VkWVl0RlVoemR0TU8zVHNRcTltRUh1bWhKcEZud0FXd3VhdU5nN3FWOWd3cGlhTTVWcktUSCswVDFsOEF1czBWKytQNzR6bXNqSlUzNW4vMkRFNkNwZGM2SGlYUHVXTHkrOHdRSFlVUExKeHl4Q1NoQk5EQSt4MWNCR0JSUXZCM0hCNVFUU2dnWjhLYVE2c01PUTBZZGhFWFVTd3hLREhEa09PaWVSdHRubnJodVBmR0RHSEszZ2JIaGFiaVdZOVk1dWw5akZnN0NCd1hCSkg1U0lUUUUwQ1dyWFRWalpXNTB2UmsyYVU5ZTBpSG9VSmxLL0VJSEdmQ01XWFV3ZmJLdjI5b0xBZ1Z6ajJobUgwYkcwSmpaQURLdlB5bWhEVUJqTUJWczk1T1VzZUN1Z0pnUkxNRjJ4dG1VNHE1S05nVk1hajdyVVFoUm1qM0xZeGNEM1IwWWp5K2dtdXUzbk1XYTd2c2dYRnVyVDFNWnRGUi9kVFhJNkhic3l4TThmME1CTUpmSDErWnpGekwzc2c0WDhJQXVvdkJnSTZySDB6ZitnYUdHS1Erclo3OXFXOTdpd05ZMkNHUTJicWR0NkdnZE5aelB5bExYQ1ZNVWpGTWt4cXNOQzc1SkNRczRXYUJCU2tyaXIvS215S0FDU3pGMGU1VXFONHFiVlZPUUJVa3V0NzVmTkxIVEFvOEFhYXZQemRHbTV2eHJRTEpaZU1pQjlISGx2SzFDdTRaRWhIMVhjQlhqZjdaS3BVQnQ5ekVlY0NrRGRWYnVFdFF5M2JnRGhhT21aZjZBTXBaWlNaODBNam40dERMZ3c3a01QdEFYOHFsS2VLNVo4N2ppb25FaFF0TzE1dm5NalFvU2JvN0pROTM5eEU0U3F3OGFoM2FVMmxDOGcvbVVVcmpCd0NrR0YrM2kyUFpxRlRtV0didldPNGtsOE41Z1VDaURobWd4cHp6Z242UWY0Wm92SGEzalphMzMxT3FFZVpsRjBjT1FCcUxTZWdmYXlkMUFUdUo1QlpvaTBueWVhdkd5M0IybENPVnB4M0s0aXp4YWt3UWhNMU9UL0ZPMjlUTVRLaWxpYnB2SHJzTHpVZHNqRVFXS09ZOGtqSlF3NGJjbG9XcEptVm00Y2RFdTljTEJ3RFpJZStEUG5YRVZZajVncmUyaGVFQ1JLMjlSSmI0bTV1dzZBWGN4VnU2eEVvYlRwWmxoK1diMW12WUNhdDNXNGhERklxV1lsRjBtbEJFMkd3d2lUbFUwTEhxZ1VVVk9XRUd4bUdXd2lWTVlDcTB5bzVFbS9OeDdoUGhscUtWaE01L0Vxb20zTXRBd21Hb0NxS0srZUJwRExXc2M1cWJRMGhCU20vQTNKaFZaK2Fzb0FJMEhEVHZPeUtuRDE3eE92ZmsrZU5yVHJhdW5uQTVnd0VVckpuaHdVZ1hIaHo3eXRTNHNabFNpK05FQ21DYWlMRzVsVTFPZVpxWm5rT0RJZVNrK0lLejdXZURZTUErVkxJMzlrdTBvODRHWklvNEdRdUg5U2xpSDFjU1VjMmk1d1gzaVR3MmNWNlRtTkk0Sy9vTy9PbmdBb0crWEdnKzNIRmhINHRwa296bEVuaVFMb3BWUHdLRXA1VENSOWlFV2tLdnRGckJOMGlPdTZHSmovSkdTZmdob2tIcitvMmRNYTI0NldzVXlDVm15NWZjaStVUzJwVDh1MmlLMEZxS0JQLzhQZndrNWh6bU8yK1lEaTNveTVZN2FkVEpnWFVlVTd3dmVzN2pLdXd4bGRTREY0OEZSSkk4WFpBTGVhdnNPa2d3cnB4WG00dXFobjA2WkI3Q3QwZEMwQjF5ai80anRBZzFxTlVCZWMyL2U0SVNMeGhya2QrWFc0QU1Lc0JvOENYdnR1MzZXbVFFQkRuMWlnMlNoUk82U0pxS2cyU1FjZVgraFl2UjJZRW5wSjhvSllKWUdGZ0JEQzArWWJYRnN5UHlVMXlXN0VzTXh3QlpZY2xtZ3FvY3d6aVBZQ0xBMDN3ajlEY1lPUGNTVWZzMmlSNGtyWGUxOWpvOXNUdm1FdU5WdGtGd3hGRkJySXVVVFNndXZHVFVqczBUdHpvWUYzRkhrd1lISGhINzNuU0cyZ3dUNG5uYzd2NGxOYWFMOU95K2NuRUlBalNvQWhWZy9oNVhyNDZKSXBBRU5UUTJpVFZPaW8xbVhGcG4rZElld2xlRkZOQk5FK1dseER6Szc0N0JiSWVJWnVFSW1WMlNaQ3pmaFN3aWhzcHhKbzlyZWlwK0FRN3BweUFoYlcxQzZNdnhCTXZXTE9kak5WTjFtbW51WjJKMVhjeXQyS0kyWW8rVUgrVldLS09rOThkalF2dG9WcmlzS0VtUmJLeVFMZm03WVR6RVdVb1EzMmdJQk1MeTFydWFNcnVpb1JkcG5vMXRndlRZYm5LZGJNYXBBbVNMcWNHMGx1MlpRdFBGaXhCRXZqMVZGdmxOaEtpTWZMbEpNdWZNbzNyWUZ2d2tYenY2S2NOcUE1UEM0SFpoR3FnNCtVQW5DY2ErUzlJRWZxTzVpdEFZMkppWWRjUWcyT3RUOFo1MGZ6TzZJQ0IzdC9SUmtuZW5saHBUVmFyWGFCbytEd2lZS3BCYmdLU0psQnlYWitUZG5KMVNRVWR6dmZzVlEybENYeWtaY2pnci9GMUZFUVFuRVh1U2NEa3ExSWh3NmlGbUV1WTB2aFJhUGdvaFhYY3BlWjEzYjBOOEdVMDdLZzZPa2N2c2ExUy8zdDUxakU1SUlnWU5naVFQWTd1azMyWWR2bHNtNWZMbkpSNWtQcjJMTXBtak5PYktZRkI2R2d6cG5pMHVTNEVBQ0lhSVpJRG4zZ3MwUFkxRGhkcXNDZWc0NDBZQ1l0M2pST1BLSjcvNUhMUUxDT2Vpb3VNNFBpYXpQZEhlUjEveXU1MFNpc3FqQlNzKzNUT0pzYlAyemlBVEhXeWhseXFkM3lId3MxZmUyRU9sTHhsRWFJWTRCdzhFTXNvRzFvSTRsbkF2NXgrbzAvckJUNGJmamlwNDV1T2o0TVVVNXp2cG16VXphU1RGMWhkeUd5UGVNRGpCenBhRkxjSTg3N29kUC9zSXEvQXBQMnY5U0tkaHRPTGxpUlV5dWE5M0ZWdGFvVEFkMUtKZ2pDMjRzYVROTXpFZFVBaXJCd3hHUnRRNVNKZ2kyUXJuWkE3VFZKNFQ5LzBnSDFhOXIrWEJCTFl6R1c0Y3pOUjMyMHJBSmMvd054ZDMzNDJDU1NCRXljZ0JNeVREcENxSzBQYTBZRE1vRnplbE8vV0paWDVYOFNlQ1VmR3JaSjhXdEdNVnZyODRpT3dEaVM3aVdaTDZrTWR4TFM0Ti9sMHBTOWpOR2ZhTW1pUk85Ym9kekhzb3B0dVVPQWhMVGtnbE9jRUs2eFRYclg3RUJsb1VXVnJ1K0FFcmtGdmI5TTMwYXEyOGVwTjR1aUk5QlFyQ09rT25ydmc4cHplcnhUSjE2N3RGR1NGajBod0pVc0lUMitMamlLREorL3RsVks5a0QyKzB2bEhvUWNpS3JpbmpSNjZDM3EvdWdEVU1pNWtSNVZkNjk5RURxSG92S09MMGk2emFCYmdtWXVEWEp3RlFUczlkRTRYbVU1ejRqLzdUV2FPeW95ZjlKVjlJZ2JManhRYkZ6RkdlL3NCa0MvMFdQb0pnOCtSWVFNQmlhS0pqWmluUFh4MXpSaFlqOTN1c0ZmWkRpSHYxTjVldjdFeEZCMWhEYjBRUXRqNFozYlp0QkR2azhGNFI1VnExRVZQWGUxOUNmdWNuV0NjSmlEWjVSb3pYMW9OeEh2czRoOVNkZ3Q4dFpiNk1LUGIyM1dNOXc0ZXRrdVo2Wk1NMUFOK1JrOXR0eTQ4NTU3dVY5RWZwU0U5eVFqcUN3NDdwQS9oSzNnMlVoODdjb1JOU1kyRzRoaWhpOFdpQS80NmYyNllaNks2dG1vKzhjM0gwMSt3VkgwcWpCTExkN05EcFFnalNqY3lYVnFJVnVURkdMY1Q4Y1FtVGtVUFM5QUlxZmkvNFQzRFlvdkVyODVmeXBSSlN3SVNJMEk1aHhoWElWcTB5WEE1Tkt1aXNyL3ZkNTYzTW1SemtFQ09JUlo3VkY1WVNYVjBRa0t6d2RpUERxcmVGSEwxUjlDMmpKNXZYbCtyQ2xjbmZ5QlNRVXd6S3ZTdnpmQ0lFaEhidlNoK0xNbjVRYW9BZTNqcUpHZVRySG9LWlFDR3o3SWJ1dzN3UTVUY1BMbXNwQUoySXJkT21MenRzWTNTTDFkSU14UVB0QWZLM1ZaNHhwQk1qUjBZQmpHbEVVQXAraUZjVytvUmUvUlY5N3A3c1VrVWdNaTZKWjlsM1BmWlNGbVFZNktMKzZVVTdTMWpOdjg0SWtmcjQ5MVlrSHAwbngvZ3VWZUFUUnloMFcvWHdESnpTcEt5OTRTMm9TTHpMZDlaTkZud1hQOHRocmFhQ0N0RmFodXU0K1dGR05POG9HM2xmSUFTSld6ak1xY2N2dGV4b3cwdGx1Z25OMG5Xa1MxM3RVUEk5RWJhNDgySEY2SHJBSEE2MWtQZEtMdEpvRk9qZC9jRVA2d3RrL0FBTEEySm93a1NBRVFkeVg4RHJ3Y3pNS0tzdE9GRUZUWENtUGhpNnBaT1dYNHBIbDlIN0N4b2dhaEc2cmVKc0JUeWlYVWxnT1k4QkM5T1ZuQTcrM0J3Z1FFT0Z2dTNaT2NBZnhFNlExdUdoWWpnUDljb1VERHdXVkNtdTVycEJrN2FVOGdCK2FtbVR3Z2xOaTltallJK1lvTGtvbitUZnZSR2R5ditnbW5ncExnVUg5ekxLeEZTcVZ1eTh0Snh0dUltNEovMmx4a1d3c3U5MVNUQnVubHJJZzBUNHZjRTdGZVJrTE1kc3NzRTR2bWlCZ25FMjBwdmJOUDBPTDFXWlhKb3RHc1BBamlrUVJHZ00zcjZFbVlXUUVCZkc4aGtXM213ZkprTnJ4cjJCQU1JWGFmVGZSZlRONGNVMjg2MkVNbHM3ODNpdnZ1WmVUYUtBNEtHMHFPdTVISjk2RVRoT09sZTcyd0h5M0MyREVIVkFuTGpMSUp2UVZ5bm5ySGw3RkpsbzlFU2hrV21ucW54V25PWElQQUhnS0lxcGpvMXlET0lJRDNnbFgwU3lBa3FTTmI3N1hkWGx2V0Uva0R6T251N2pKVFlsaTU4T2JlVGE5eHFaQUJ2a0Vndm9kS0lEdE04bjVBNEhINEEvSGFIUEtCcUF4REJkMnpTNWlBeHFmVzhZeWFqdllyaWhOcmhHRTI5T2h4aFdhY0JGZGN1OHR6dnIzYWV2OUY1bkVndmpSMG1tNTZ2dUJxQU5aWWZzQ2JyQUc1VGNINCs4TjdZZDJwZHNMaUV1MmZkN0FyQ1pnU0lpbncrZjlBTzBIQVE1OHdIMlF1R0Vtd055d09oWjcrZG1Lck54Mm9TY0FFUW1YOGE3RDg3MUN2SGdrT3pDd1lucnpaYUFKRWRlNlJrbE5nUVJURmdURzBTb2lZSE9tRnJLSGU4S2ZOSWVwR042RTRFRS9BbFpGWldJdVpDNGxEL2l0VVMzK0s3cGlZT2dSWHVuZkNZdDhYUVRRbTMrbWMzaFUxN1l4bUw4d1doSVREUy9FSUVYbjRRTUQvcEpQWEJIOHBmOVhwMVAwZzFiSVdYNXUyY25TaGRCVElpR09MMXhvNUZCSXdleDNtdkN0cEc4UzRMbnpIczdCd0x2cTg3Y2EwSTRydmZUaUxjVGF4aHl2ekVScjFBM3A5dTZxNlJCZkJDQ01nMXVTcEhBdHBKeHp6eVpid1A1Y3BSc2VpU01ZeUJ0azJqd0xvZlBlMjkxTnBiaGVuUytzeUJYNnJ2dFhQZno3MDZLOEszMlNld1daR1FBVTlWZHkvSHZVUmZnNGhuNlFtV0tmMWVjZ1BMeWpDZ0sxQm04T3dGQzA5bmw4bVpnUWU4NnBlL2ZpNjg3STRQK1hmZ3Y3SEpvYWVoZU5vR1MxVnRRMGJTUlVzTmU3ZkhGRXZFOUdRam5HbXZZZDlYazRMQ3hJL29hdE43bm1kVCt2UkVvOTcwZlQyYnNTaC9CbkY5SGtnYVdmazhDTWdvUm4vYXBKeDY0allpUytYeWVENDdndWN3aEVNWUN2YytLYTZzUzVlbGdJQThYSFp6TkJGMlJpNTZBWlp3VHBubnZKcjc1WG1vRGo4MGhDTzlWUU5mMklyVzBRTWdEK1k5TjNxSkJFSEZvOGhnakVxc0ovc2hHUUU1UG9sQVpwQnpUWUF6RWYwOHltRWdiQkxRV3plNi9qWFR3L0t2WHJ2TSt4Ry9TWU9MMHpoMFY1MGlrWVZyT0loZUxlUGxlM3owUEh2WEFRNVVhWlk5c0VYQU9yVGNKaDh2amFqRG1kQXRIclNuYWI1STMwWldBaTFYamJsNWJmSmxrZVhBbTl2TVdUemU4cXlDd2prWms5amhxTFB6U0JoakRpNC9zdHc4TXpuR1lMbEhVZFR6eVYyMEZnclhVajJibEtRZGkxVllKSVpsMHRhRVdRU2JJemxzekNlVDNPemxFNlhsMFBHS2NWRE8zMVhzSlZzMzc5WlMwL08zTXhSdTV6UTloTC9tOS91NVhUdnpRNm5jcFNEUThZTlNadjE4RklRZ3hQQmw5elJ6OUlUbTRuTmFEUmVpWWNJenkzUGhlZVJnR1pUZnpGZzZqUitndXVaeXA2YnZrR05hK1YxeGxmTy9IUmlNT0pPaVdTUWRDU1JsYWprd25pRng2aVp3dVl5eWRXYWE4OTl4ZWY3LzdzckQ5ZFMzTGJQbldPUW4zaW5Oak91bmRCNUlyUEFHUHFQNmxkcEhFOGQ1cVFQT0xycEJmcTl1ZTI3dlk3Ky8zWDFocFBndzdVK01pNldMQjNXVjNUN0xyYzh2aWFDbDZmMWU3TVBidmw2ZndUeGNPdGtmM2ZsWGU3dzRzcjY2emo1QUo3dlRRcmZsTkNpVC9SR0srMWc5WUFhbTU0dTZHY0c4aGZ4SXdWY3ZxQUFGMkQ4MjN5OEJhSHBHak4yekpxWnl3dmd2VUpQZndMZURjZHhlaXdzN090S2FMNlJxRE5SZXNiTnYzWHVtOTR3WWtick5qdlpmYU1Ud1l6T3dmK0FCbExsOE5WRTZMaEhlbE9WS0V5VDZ5RTRMc1BPWkxsc0RaU0xzVG8xMDc3Y1NHSE5QMjNoYThTOE01Q0l3YzBSUzg2OTJvOGdld0Nhbkhja2lLQlNVdmVDVDQzVGs1R29yd1NLMCs0Z2ZnM0N3OC9HYWtBUzN2RmRvRTR2ZWJGZ1VxK3pDa29md3lia1VSWXdJNEVPNzNpb2xDSkxhTHhjZUUvZUVvdEJTN0ZtTFBIRkk0bnRqL0FQNjBuZTdmaXhnckFBQUFBRWxGVGtTdVFtQ0MpOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd6LWluZGV4OiAtMTsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5pbWF0aW9uLW5hbWU6IF90dk5vaXNlOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ30nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0dy1wYXNzYWdlLmN1cnJlbnQuc3VnYXJjdWJlIHsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYm9yZGVyOiAwOycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb2xvcjogd2hpdGU7JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnfScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGRmbHRbJ190cmFjZXJ5LXJlbmRlciddID0gZGZsdC5fdHJhY2VyeXJlbmRlcjtcbiAgICAgICAgICAgIGRmbHRbJ19zdGFydC1wYXNzYWdlJ10gPSBkZmx0Ll9zdGFydHBhc3NhZ2U7XG4gICAgICAgICAgICBkZmx0WydfY3JlZGl0cy1wYXNzYWdlJ10gPSBkZmx0Ll9jcmVkaXRzcGFzc2FnZTtcbiAgICAgICAgICAgIGRmbHRbJ190ZWxldmlzaW9uLXNjcmVlbiddID0gZGZsdC5fdGVsZXZpc2lvbnNjcmVlbjtcblxuICAgICAgICAgICAgcmV0dXJuIGRmbHQ7XG4gICAgICAgIH0sXG4gICAgfTtcbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIE1hY3JvLmFkZE5hbWVzcGFjZShcbiAgICAgICAgJ3dvcmxkJyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZnVuY3Rpb24oYWN0aW9uVHlwZSkge1xuICAgICAgICAgICAgaWYgKCFhY3Rpb25UeXBlKSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgYWN0aW9uVHlwZSB2YWx1ZSBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5oYW5kbGVyIGlzIG5vdCB2YWxpZC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihhY3Rpb25UeXBlKSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhY3Rpb25UeXBlIHZhbHVlIHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLmhhbmRsZXIgaXMgbm90IGEgc3RyaW5nLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBoYW5kbGUgbWFjcm8uJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhY3Rpb25UeXBlID0gYWN0aW9uVHlwZS50cmltKCk7XG4gICAgICAgICAgICBjb25zdCBhY3Rpb24gPSB3b3JsZEFjdGlvbnNbYWN0aW9uVHlwZV07XG4gICAgICAgICAgICBjb25zdCBhcmdzID0gZnJvbShhcmd1bWVudHMpLnNsaWNlKDEpO1xuXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihhY3Rpb24pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5hcHBseShcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHdpbmU6ICd0d2luZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdDYW5cXCd0IGRvIHdvcmxkbW9kZWwgYWN0aW9uOiAnICtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uICtcbiAgICAgICAgICAgICAgICAgICAgJy4gTm8gaGFuZGxlciBleGlzdHMgZm9yIHRoaXMgYWN0aW9uLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIE1hY3JvLmFkZCgnYWRkJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihuYW1lLCB0eXBlLCBvYmplY3RPclBhcmVudE1vZGVsQXJnKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1tpaV0gJiYgYXJndW1lbnRzW2lpXS50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzW2lpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gJ01hY3JvLndvcmxkLmFkZCc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihuYW1lKSAhPT0gJ3N0cmluZycgfHwgbmFtZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgbmFtZSBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuYWRkIGlzIG5vdCB2YWxpZC4nKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvWyMhLjoqPyVAXS8udGVzdChuYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSBuYW1lIGFyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5hZGQgY29udGFpbnMgb25lIG9mICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0aGUgcmVzZXJ2ZWQgY2hhcmFjdGVycy4gVGhlIHJlc2VydmVkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjaGFyYWN0ZXJzIGZvciBuYW1lcyBhbmQgdHlwZXMgYXJlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcjLCAuLCA6LCAhLCAqLCAlLCBhbmQgQC4nKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghTnVtYmVyLmlzTmFOKE51bWJlcihuYW1lKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdZb3UgY2Fubm90IGdpdmUgYSBuYW1lIHRoYXQgaXMgb25seSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbnVtYmVycyB0byBhIG1vZGVsLCBnaXZlbiB0aGF0IHRoaXMgY291bGQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbmZsaWN0IHdpdGggY3VycmVudCBvciBmdXR1cmUgbW9kZWwgSUQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlcy4nKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YodHlwZSkgIT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIHR5cGUgYXJndW1lbnQgcHJvdmlkZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLmFkZCBpcyBub3QgdmFsaWQuJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoL1sjIS46Kj8lQF0vLnRlc3QodHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgdHlwZSBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuYWRkIGNvbnRhaW5zIG9uZSBvZiB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc2VydmVkIGNoYXJhY3RlcnMuIFRoZSByZXNlcnZlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2hhcmFjdGVycyBmb3IgbmFtZXMgYW5kIHR5cGVzIGFyZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIywgLiwgOiwgISwgKiwgJSwgYW5kIEAuJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXdvcmxkQWN0aW9ucy52YWxpZGF0ZVNldFZhbHVlKG5hbWUpIHx8XG4gICAgICAgICAgICAgICAgICAgICF3b3JsZEFjdGlvbnMudmFsaWRhdGVTZXRWYWx1ZSh0eXBlKSB8fFxuICAgICAgICAgICAgICAgICAgICAhd29ybGRBY3Rpb25zLnZhbGlkYXRlU2V0VmFsdWUoXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RPclBhcmVudE1vZGVsQXJnKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuYW1lcyA9IGdldE93blByb3BlcnR5TmFtZXMocmVzZXJ2ZWQpO1xuICAgICAgICAgICAgICAgICAgICBuYW1lcyA9IG5hbWVzLmZpbHRlcihmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCByZXR1cm4gYXJyYXkgcHJvdG90eXBlIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIUFycmF5LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShhYSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24oYWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHJldHVybiBzdHJpbmdzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzZXJ2ZSA9IHJlc2VydmVkW2FhXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mKHJlc2VydmUpID09PSAnc3RyaW5nJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLm1hcChmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNlcnZlZFthYV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCcsICcpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnWW91IGNhbm5vdCBhZGQgYW4gb2JqZWN0IHdoaWNoIHNoYXJlcyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYSBuYW1lIHdpdGggb25lIG9mIHRoZSByZXNlcnZlZCB3b3Jkcy4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSByZXNlcnZlZCB3b3JkcyBhcmU6ICcgKyBuYW1lcyArICcuJykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBleGlzdGluZ01vZGVsID0gd29ybGRBY3Rpb25zLmdldCgnIycgKyBuYW1lKTtcblxuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ01vZGVsLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnN0cnVjdG9yID0gbW9kZWxDb25zdHJ1Y3RvcnNbdHlwZV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gbW9kZWxDb25zdHJ1Y3RvcnMubW9kZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQgbW9kZWwgPSBuZXcgY29uc3RydWN0b3IobmFtZSwgdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRXb3JsZE1vZGVsU3RhdGUuYWxsW25hbWVdID0gbW9kZWw7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEobW9kZWwudHlwZSBpbiBTdGF0ZS5jdXJyZW50V29ybGRNb2RlbFN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudFdvcmxkTW9kZWxTdGF0ZVttb2RlbC50eXBlXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudFdvcmxkTW9kZWxTdGF0ZVttb2RlbC50eXBlXVttb2RlbC5uYW1lXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAnIycgKyBtb2RlbC5uYW1lO1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3RPclBhcmVudE1vZGVsQXJnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZEFjdGlvbnMuZ2V0KG9iamVjdE9yUGFyZW50TW9kZWxBcmcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBtb2RlbC50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1clN0YXRlID0gU3RhdGUuY3VycmVudFdvcmxkTW9kZWxTdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSBpbiBjdXJTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY3VyU3RhdGVbdHlwZV1bbW9kZWwubmFtZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGN1clN0YXRlW3R5cGVdW21vZGVsLmlkXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBjdXJTdGF0ZS5hbGxbbW9kZWwubmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGN1clN0YXRlLmFsbFttb2RlbC5pZF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcywgcGFyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRBY3Rpb25zLnRha2UocGFyZW50LCBtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcywgbW9kZWwpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlcmUgaXMgYWxyZWFkeSBhIG1vZGVsIGJ5IHRoYXQgbmFtZS4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0VhY2ggbW9kZWwgbXVzdCBoYXZlIGEgdW5pcXVlIG5hbWUuJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3dvcmxkJ1xuICAgICk7XG5cblxuICAgIE1hY3JvLmFkZCgncmVtb3ZlJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihtb2RlbEFyZykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaWldICYmIGFyZ3VtZW50c1tpaV0udHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgbW9kZWwgPSB3b3JsZEFjdGlvbnMuZ2V0KG1vZGVsQXJnKTtcbiAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9ICdNYWNyby53b3JsZC5yZW1vdmUnO1xuICAgICAgICAgICAgICAgIGlmICghd29ybGRBY3Rpb25zLnZhbGlkYXRlU2V0VmFsdWUobW9kZWxBcmcpIHx8XG4gICAgICAgICAgICAgICAgICAgICF3b3JsZEFjdGlvbnMudmFsaWRhdGVTZXRWYWx1ZShtb2RlbCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKHJlc2VydmVkKTtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXMgPSBuYW1lc1xuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhQXJyYXkucHJvdG90eXBlLmhhc093blByb3BlcnR5KGFhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbihhYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhcmVzZXJ2ZWRbYWFdLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24oYWEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzZXJ2ZWRbYWFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuam9pbignLCAnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdZb3UgY2Fubm90IHJlbW92ZSBhbiBvYmplY3QgdGhhdCBpcywgb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lzIG5hbWVkLCBvbmUgb2YgdGhlIHJlc2VydmVkIHdvcmRzLiBUaGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Jlc2VydmVkIHdvcmRzIGFyZTogJyArIG5hbWVzICsgJy4nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbCB8fCBtb2RlbC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIG1vZGVsQXJnIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQucmVtb3ZlIGlzIG5vdCB2YWxpZCwgb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RoZSBtb2RlbCBkb2VzIG5vdCBleGlzdDogJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxBcmcgKyAnLicpKTtcbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBtb2RlbC50eXBlO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1clN0YXRlID0gU3RhdGUuY3VycmVudFdvcmxkTW9kZWxTdGF0ZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZSBpbiBjdXJTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgY3VyU3RhdGVbdHlwZV1bbW9kZWwubmFtZV1cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGN1clN0YXRlW3R5cGVdW21vZGVsLmlkXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWxldGUgY3VyU3RhdGUuYWxsW21vZGVsLm5hbWVdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBjdXJTdGF0ZS5hbGxbbW9kZWwuaWRdO1xuXG4gICAgICAgICAgICAgICAgbW9kZWwucGFyZW50U2VsZWN0b3IgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcywgbW9kZWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ3dvcmxkJ1xuICAgICk7XG5cbiAgICBNYWNyby5hZGQoJ2dldCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobW9kZWxBcmcsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaWldICYmIGFyZ3VtZW50c1tpaV0udHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRleHQgPSAnTWFjcm8ud29ybGQuZ2V0JztcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbEFyZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSBtb2RlbEFyZyBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLmdldCBpcyBub3QgdmFsaWQuJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKG1vZGVsQXJnKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxBcmcgPSBtb2RlbEFyZy5yZXBsYWNlKC8mZ3Q7L2csICc+Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBtb2RlbCA9IG1vZGVsQXJnO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YobW9kZWwpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBzYWZlckpTT05QYXJzZShtb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKG1vZGVsKSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwudHJpbSgpWzBdLm1hdGNoKC9bIyEuOio/XS8pKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBtb2RlbC50cmltKCkuc3BsaXQoL1xccy8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0b3IgJiZcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSB3b3JsZEFjdGlvbnMucHJvY2Vzc1NlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAod29ybGRBY3Rpb25zLnZhbGlkYXRlTW9kZWwobW9kZWwpICYmXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnR5cGUgIT09ICdjb2xsZWN0aW9uJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC5nZW5lcmljID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGUuY3VycmVudFdvcmxkTW9kZWxTdGF0ZS5hbGxbbW9kZWwuaWRdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlLmN1cnJlbnRXb3JsZE1vZGVsU3RhdGUuYWxsW21vZGVsLm5hbWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCF3b3JsZEFjdGlvbnMudmFsaWRhdGVNb2RlbChtb2RlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVGhlIG1vZGVsQXJnIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5nZXQgZG9lcyBub3QgY29ycmVzcG9uZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhbiBleGlzdGluZyBtb2RlbC4nXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5TmFtZVswXSA9PT0gJ0AnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQWN0aW9ucy5nZXRBbGlhcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5TmFtZS5zbGljZSgxKSkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbFtwcm9wZXJ0eU5hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsIG1vZGVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcblxuICAgIE1hY3JvLmFkZCgncHJvY2Vzc3NlbGVjdG9yJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihzZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaWldICYmIGFyZ3VtZW50c1tpaV0udHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGV4dCA9ICdNYWNyby53b3JsZC5wcm9jZXNzc2VsZWN0b3IvZ2V0JztcblxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBhcmd1bWVudCBpcyBhIHN0cmluZyBhbmQgbm90IGFuIGFycmF5LCBjb252ZXJ0IGl0XG4gICAgICAgICAgICAgICAgLy8gdG8gYW4gYXJyYXlcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHNlbGVjdG9yKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCcgJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24odGVtcCkgeyByZXR1cm4gdGVtcCAhPT0gJyc7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoISgnMCcgaW4gc2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIHNlbGVjdG9yIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQucHJvY2Vzc3NlbGVjdG9yIGlzIG5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmFsaWQuIFRoZSBhcmd1bWVudCBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvciBhcnJheS4nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IHt9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGxldCBtb2RlbDtcblxuICAgICAgICAgICAgICAgIGxldCBjb21wb25lbnRUeXBlID0gc2VsZWN0b3JbMF1bMF07XG4gICAgICAgICAgICAgICAgbGV0IGNvbXBvbmVudFZhbHVlID0gc2VsZWN0b3JbMF0uc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyV01TdGF0ZSA9IFN0YXRlLmN1cnJlbnRXb3JsZE1vZGVsU3RhdGU7XG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPT09ICcjJykge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IGN1cldNU3RhdGUuYWxsW2NvbXBvbmVudFZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihtb2RlbCkgPT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhTnVtYmVyLmlzTmFOKE51bWJlcihjb21wb25lbnRWYWx1ZSkpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lcyA9IGdldE93blByb3BlcnR5TmFtZXMoY3VyV01TdGF0ZS5hbGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBuYW1lc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VyV01TdGF0ZS5hbGxbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbC5pZCA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoTnVtYmVyKGNvbXBvbmVudFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudFR5cGUgPT09ICc/Jykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSBjdXJXTVN0YXRlLmFsbC5wbGF5ZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKCdjdXJyZW50JyBpbiBwbGF5ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIGN1cnJlbnQgcHJvcGVydHkgaW4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RoZSBwbGF5ZXIgbW9kZWwuIENhbm5vdCBwZXJmb3JtID8gc2VsZWN0b3JzLicpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEoY29tcG9uZW50VmFsdWUgaW4gcGxheWVyLmN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGVyZSBpcyBubyBjdXJyZW50IHByb3BlcnR5IGJ5IHRoZSBuYW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRWYWx1ZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgaW4gdGhlIHBsYXllclxcJ3MgY3VycmVudCBwcm9wZXJ0eS4nKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gcGxheWVyLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBjdXJyZW50W2NvbXBvbmVudFZhbHVlXS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBjdXJXTVN0YXRlLmFsbFtuYW1lXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudFR5cGUgPT09ICcuJykge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB7fVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShjb21wb25lbnRWYWx1ZSBpbiBjdXJXTVN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQUREIEVSUk9SIEhBTkRMSU5HXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ0JhZCBjb21wb25lbnQgdmFsdWUgaW4gcHJvY2Vzc1NlbGVjdG9yIScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVzT3JJRHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lcyhjdXJXTVN0YXRlW2NvbXBvbmVudFZhbHVlXSk7XG4gICAgICAgICAgICAgICAgICAgIG5hbWVzT3JJRHMuZm9yRWFjaChmdW5jdGlvbihuYW1lT3JJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuY2hpbGRyZW5bbmFtZU9ySURdID0gJyMnICsgbmFtZU9ySUQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50VHlwZSA9PT0gJyonICYmIGNvbXBvbmVudFZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB7fVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lcyA9IGdldE93blByb3BlcnR5TmFtZXMoY3VyV01TdGF0ZS5hbGwpO1xuICAgICAgICAgICAgICAgICAgICBuYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWVPcklEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5jaGlsZHJlbltuYW1lT3JJRF0gPSAnIycgKyBuYW1lT3JJRDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRUeXBlID09PSAnIScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudFZhbHVlID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlICogc3ltYm9sIGNhbm5vdCBiZSBwYXJ0IG9mIGEgbm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0b3IuJykpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudFZhbHVlWzBdID09PSAnIycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjoge31cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lc09ySURzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eU5hbWVzKGN1cldNU3RhdGUuYWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzT3JJRHMuZm9yRWFjaChmdW5jdGlvbihuYW1lT3JJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRWYWx1ZS5zbGljZSgxKSAhPT0gbmFtZU9ySUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuY2hpbGRyZW5bbmFtZU9ySURdID0gJyMnICsgbmFtZU9ySUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50VmFsdWVbMF0gPT09ICc/Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyID0gY3VyV01TdGF0ZS5hbGwucGxheWVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZU9ySUQgPSBjb21wb25lbnRWYWx1ZS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCdjdXJyZW50JyBpbiBwbGF5ZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBjdXJyZW50IHByb3BlcnR5ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW4gdGhlIHBsYXllciBtb2RlbC4gQ2Fubm90IHBlcmZvcm0gPyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdG9ycy4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIShuYW1lT3JJRCBpbiBwbGF5ZXIuY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlcmUgaXMgbm8gY3VycmVudCBwcm9wZXJ0eSBieSB0aGUnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduYW1lICcgKyBjb21wb25lbnRWYWx1ZSArICcgaW4gdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BsYXllclxcJ3MgY3VycmVudCBwcm9wZXJ0eS4nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdOYW1lT3JJRCA9IHBsYXllci5jdXJyZW50W25hbWVPcklEXS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBjdXJXTVN0YXRlLmFsbFtuZXdOYW1lT3JJRF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29sbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZXNPcklEcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lcyhjdXJXTVN0YXRlLmFsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lc09ySURzLmZvckVhY2goZnVuY3Rpb24obmFtZU9ySUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5uYW1lICE9PSBuYW1lT3JJRCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmlkICE9PSBuYW1lT3JJRClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmNoaWxkcmVuW25hbWVPcklEXSA9ICcjJyArIG5hbWVPcklEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudFZhbHVlWzBdID09PSAnLicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjoge31cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lc09ySURzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eU5hbWVzKGN1cldNU3RhdGUuYWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzT3JJRHMuZm9yRWFjaChmdW5jdGlvbihuYW1lT3JJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJXTVN0YXRlLmFsbFtuYW1lT3JJRF0udHlwZSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50VmFsdWUuc2xpY2UoMSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5jaGlsZHJlbltuYW1lT3JJRF0gPSAnIycgKyBuYW1lT3JJRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRWYWx1ZVswXSA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBIHByb3BlcnR5IGNhbm5vdCBiZSBwYXJ0IG9mIGEgbm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0b3IuJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRUeXBlID09PSAnOicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBIHByb3BlcnR5IGNhbm5vdCBiZSB0aGUgZmlyc3QgcG9ydGlvbiBvZiBhICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzZWxlY3Rvci4nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVGhlIG1vZGVsKHMpIGluZGljYXRlZCBieSB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50VHlwZSArIGNvbXBvbmVudFZhbHVlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIHBvcnRpb24gb2YgdGhlIHNlbGVjdG9yIGRvIG5vdCBleGlzdC4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMTsgaWkgPCBzZWxlY3Rvci5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmUuY2hpbGRyZW4gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRvQ2hlY2sgPSAnZGVzY2VuZGFudCc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvcltpaSAtIDFdID09PSAnPicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvQ2hlY2sgPSAnY2hpbGQnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFR5cGUgPSBzZWxlY3RvcltpaV1bMF07XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFZhbHVlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yW2lpXS5zbGljZSgxLCBzZWxlY3RvcltpaV0ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudFR5cGUgPT09ICc+JyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50VmFsdWUgPT09ICcnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBpaSArIDEgaW4gc2VsZWN0b3IpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGlmIChjb21wb25lbnRUeXBlID09PSAnIycgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFZhbHVlID09PSAncm9vdCcpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlbC50eXBlID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnSXQgaXMgbm90IHBvc3NpYmxlIHRvIHByb2R1Y2UgYSByb290ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Zyb20gYSBjb2xsZWN0aW9uIG9mIG1vZGVscy4nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFyZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1BhcmVudCA9IG1vZGVsLnBhcmVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5ld1BhcmVudCAmJiBuZXdQYXJlbnQudHlwZSAhPT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFNlbGVjdG9yID0gbmV3UGFyZW50LnBhcmVudFNlbGVjdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRzLmluZGV4T2YocGFyZW50U2VsZWN0b3IpICE9PSAtMSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRzLmluZGV4T2YobmV3UGFyZW50LnBhcmVudCgpKSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgcGFyZW50IG9mIG9uZSBvZiB0aGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BlY2lmaWVkIG1vZGVscyBoYXMgYSBjb3JydXB0ZWQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGVzY2VuZGVuY2UgdHJlZSBhbmQgY29udGFpbnMgaXRzZWxmLCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvciBpdHMgc2VsZWN0b3IsIGFzIGEgcGFyZW50LicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRzLnB1c2gobmV3UGFyZW50LnNlbGVjdG9yKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudHMucHVzaChuZXdQYXJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsID0gbmV3UGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcmVudCA9IG5ld1BhcmVudC5wYXJlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRUeXBlID09PSAnIycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b0NoZWNrID09PSAnY2hpbGQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwudHlwZSA9PT0gJ2NvbGxlY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCdjaGlsZHJlbicgaW4gbW9kZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIG1vZGVsIGluZGljYXRlZCBieSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0aGUgcG9ydGlvbiBvZiB0aGUgc2VsZWN0b3IgcHJpb3IgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRUeXBlICsgY29tcG9uZW50VmFsdWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBkb2VzIG5vdCBoYXZlIGEgY2hpbGRyZW4gcHJvcGVydHkuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKG1vZGVsLmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG5hbWVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lT3JJRCA9IG5hbWVzW2lpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobmFtZU9ySUQgaW4gbW9kZWwuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZE5hbWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuY2hpbGRyZW5bbmFtZU9ySURdLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wID0gY3VyV01TdGF0ZS5hbGxbY2hpbGROYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSB0ZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISgnZGVzY2VuZGFudHMnIGluIG1vZGVsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBtb2RlbCBpbmRpY2F0ZWQgYnkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGhlIHBvcnRpb24gb2YgdGhlIHNlbGVjdG9yIHByaW9yIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50VHlwZSArIGNvbXBvbmVudFZhbHVlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgZG9lcyBub3QgaGF2ZSBhIGRlc2NlbmRhbnRzIHByb3BlcnR5LicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lcyhtb2RlbC5kZXNjZW5kYW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBuYW1lcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZU9ySUQgPSBuYW1lc1tpaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKG5hbWVPcklEIGluIG1vZGVsLmRlc2NlbmRhbnRzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzY2VuZGFudE5hbWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwuZGVzY2VuZGFudHNbbmFtZU9ySURdLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wID0gY3VyV01TdGF0ZS5hbGxbZGVzY2VuZGFudE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IHRlbXA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50VHlwZSA9PT0gJ0AnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IHdvcmxkQWN0aW9ucy5nZXRBbGlhcyhtb2RlbCwgY29tcG9uZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudFR5cGUgPT09ICc/Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQSBjdXJyZW50ICg/KSBzZWxlY3RvciBjYW5ub3Qgb2NjdXIgYWZ0ZXIgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0aGUgZmlyc3QgcG9ydGlvbiBvZiBhIHNlbGVjdG9yLicpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRUeXBlID09PSAnIScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRWYWx1ZSA9PT0gJyNyb290Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQSAjcm9vdCBzZWxlY3RvciBjYW5ub3QgaGF2ZSBOT1QgKCEpICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FwcGxpZWQgdG8gaXQuJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRWYWx1ZVswXSA9PT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvQ2hlY2sgPT09ICdjaGlsZCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwudHlwZSA9PT0gJ2NvbGxlY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtb2RlbC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgbW9kZWwgaW5kaWNhdGVkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdieSB0aGUgcG9ydGlvbiBvZiB0aGUgc2VsZWN0b3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ByaW9yIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFR5cGUgKyBjb21wb25lbnRWYWx1ZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBkb2VzIG5vdCBoYXZlIGEgY2hpbGRyZW4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5LicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IG1vZGVsLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lc09ySURzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5TmFtZXMoY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc09ySURzLmZvckVhY2goZnVuY3Rpb24obmFtZU9ySUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRWYWx1ZS5zbGljZSgxKSAhPT0gbmFtZU9ySUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5jaGlsZHJlbltuYW1lT3JJRF0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIycgKyBuYW1lT3JJRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsID0gc3RvcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoJ2Rlc2NlbmRhbnRzJyBpbiBtb2RlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIG1vZGVsIGluZGljYXRlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYnkgdGhlIHBvcnRpb24gb2YgdGhlIHNlbGVjdG9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcmlvciB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRUeXBlICsgY29tcG9uZW50VmFsdWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgZG9lcyBub3QgaGF2ZSBhIGRlc2NlbmRhbnRzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NlbmRhbnRzID0gbW9kZWwuZGVzY2VuZGFudHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWVzT3JJRHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lcyhkZXNjZW5kYW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzT3JJRHMuZm9yRWFjaChmdW5jdGlvbihuYW1lT3JJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2xpY2VkID0gY29tcG9uZW50VmFsdWUuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2xpY2VkICE9PSBuYW1lT3JJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmNoaWxkcmVuW25hbWVPcklEXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcjJyArIG5hbWVPcklEO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBzdG9yZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudFZhbHVlWzBdID09PSAnPycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0EgY3VycmVudCAoPykgc2VsZWN0b3IgY2Fubm90IG9jY3VyICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FmdGVyIHRoZSBmaXJzdCBwb3J0aW9uIG9mIGEgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc2VsZWN0b3IuJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRWYWx1ZVswXSA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvQ2hlY2sgPT09ICdjaGlsZCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwudHlwZSA9PT0gJ2NvbGxlY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoJ2NoaWxkcmVuJyBpbiBtb2RlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIG1vZGVsIGluZGljYXRlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYnkgdGhlIHBvcnRpb24gb2YgdGhlIHNlbGVjdG9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcmlvciB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRUeXBlICsgY29tcG9uZW50VmFsdWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgZG9lcyBub3QgaGF2ZSBhIGNoaWxkcmVuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IG1vZGVsLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lc09ySURzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5TmFtZXMoY2hpbGRyZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc09ySURzLmZvckVhY2goZnVuY3Rpb24obmFtZU9ySUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJXTVN0YXRlLmFsbFtuYW1lT3JJRF0udHlwZSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRWYWx1ZS5zbGljZSgxKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5jaGlsZHJlbltuYW1lT3JJRF0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIycgKyBuYW1lT3JJRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsID0gc3RvcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoJ2Rlc2NlbmRhbnRzJyBpbiBtb2RlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIG1vZGVsIGluZGljYXRlZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYnkgdGhlIHBvcnRpb24gb2YgdGhlIHNlbGVjdG9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcmlvciB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRUeXBlICsgY29tcG9uZW50VmFsdWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgZG9lcyBub3QgaGF2ZSBhIGRlc2NlbmRhbnRzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjZW5kYW50cyA9IG1vZGVsLmRlc2NlbmRhbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lc09ySURzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5TmFtZXMoZGVzY2VuZGFudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lc09ySURzLmZvckVhY2goZnVuY3Rpb24obmFtZU9ySUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJXTVN0YXRlLmFsbFtuYW1lT3JJRF0udHlwZSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRWYWx1ZS5zbGljZSgxKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yZS5jaGlsZHJlbltuYW1lT3JJRF0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIycgKyBuYW1lT3JJRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsID0gc3RvcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRWYWx1ZVswXSA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBIHByb3BlcnR5IGNhbm5vdCBiZSBwYXJ0IG9mIGEgbm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NlbGVjdG9yLicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsID0gc3RvcmU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50VHlwZSA9PT0gJy4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9DaGVjayA9PT0gJ2NoaWxkJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnR5cGUgPT09ICdjb2xsZWN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISgnY2hpbGRyZW4nIGluIG1vZGVsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBtb2RlbCBpbmRpY2F0ZWQgYnkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGhlIHBvcnRpb24gb2YgdGhlIHNlbGVjdG9yIHByaW9yIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50VHlwZSArIGNvbXBvbmVudFZhbHVlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgZG9lcyBub3QgaGF2ZSBhIGNoaWxkcmVuIHByb3BlcnR5LicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lc09ySURzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lcyhtb2RlbC5jaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNPcklEcy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWVPcklEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lT3JJRCBpbiBjdXJXTVN0YXRlW2NvbXBvbmVudFZhbHVlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuY2hpbGRyZW5bbmFtZU9ySURdID0gJyMnICsgbmFtZU9ySUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IHN0b3JlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISgnZGVzY2VuZGFudHMnIGluIG1vZGVsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBtb2RlbCBpbmRpY2F0ZWQgYnkgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGhlIHBvcnRpb24gb2YgdGhlIHNlbGVjdG9yIHByaW9yIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50VHlwZSArIGNvbXBvbmVudFZhbHVlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgZG9lcyBub3QgaGF2ZSBhIGRlc2NlbmRhbnRzIHByb3BlcnR5LicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lc09ySURzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lcyhtb2RlbC5kZXNjZW5kYW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXNPcklEcy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWVPcklEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lT3JJRCBpbiBjdXJXTVN0YXRlW2NvbXBvbmVudFZhbHVlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuY2hpbGRyZW5bbmFtZU9ySURdID0gJyMnICsgbmFtZU9ySUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbCA9IHN0b3JlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudFR5cGUgPT09ICc6Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgPSBtb2RlbFtjb21wb25lbnRWYWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50VHlwZSA9PT0gJyonICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRWYWx1ZSA9PT0gJycpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b0NoZWNrID09PSAnY2hpbGQnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwudHlwZSA9PT0gJ2NvbGxlY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCdjaGlsZHJlbicgaW4gbW9kZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIG1vZGVsIGluZGljYXRlZCBieSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0aGUgcG9ydGlvbiBvZiB0aGUgc2VsZWN0b3IgcHJpb3IgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRUeXBlICsgY29tcG9uZW50VmFsdWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBkb2VzIG5vdCBoYXZlIGEgY2hpbGRyZW4gcHJvcGVydHkuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29sbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBtb2RlbC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCdkZXNjZW5kYW50cycgaW4gbW9kZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIG1vZGVsIGluZGljYXRlZCBieSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0aGUgcG9ydGlvbiBvZiB0aGUgc2VsZWN0b3IgcHJpb3IgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRUeXBlICsgY29tcG9uZW50VmFsdWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBkb2VzIG5vdCBoYXZlIGEgZGVzY2VuZGFudHMgcHJvcGVydHkuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29sbGVjdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBtb2RlbC5kZXNjZW5kYW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgY2hhcmFjdGVyIGluZGljYXRpbmcgdGhlIHNlbGVjdG9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncG9ydGlvbiB0eXBlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRUeXBlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBpcyBub3QgdmFsaWQuJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YobW9kZWwpID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSBtb2RlbChzKSBpbmRpY2F0ZWQgYnkgdGhlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRWYWx1ZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgcG9ydGlvbiBvZiB0aGUgc2VsZWN0b3IgZG8gbm90IGV4aXN0LicpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsIG1vZGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3dvcmxkJ1xuICAgICk7XG4gICAgTWFjcm8ud29ybGQucHJvY2Vzc1NlbGVjdG9yID0gTWFjcm8ud29ybGQucHJvY2Vzc3NlbGVjdG9yO1xuICAgIE1hY3JvLndvcmxkWydwcm9jZXNzLXNlbGVjdG9yJ10gPSBNYWNyby53b3JsZC5wcm9jZXNzc2VsZWN0b3I7XG5cbiAgICBNYWNyby5hZGQoJ3NldCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobW9kZWxBcmcsIHByb3BlcnR5TmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJndW1lbnRzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2lpXSAmJiBhcmd1bWVudHNbaWldLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbaWldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gJ01hY3JvLndvcmxkLnNldCc7XG4gICAgICAgICAgICAgICAgbGV0IG1vZGVsID0gd29ybGRBY3Rpb25zLmdldChtb2RlbEFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbCB8fCBtb2RlbC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdUaGUgbW9kZWxBcmcgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLnNldCBpcyBub3QgdmFsaWQuJ1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXdvcmxkQWN0aW9ucy52YWxpZGF0ZVNldFZhbHVlKHByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdZb3UgY2FuXFwndCBzZXQgdGhpcyB2YWx1ZS4gVGhlIHByb3BlcnR5ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5TmFtZSArICcgaXMgcmVzZXJ2ZWQuJykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5TmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLCBtb2RlbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcblxuICAgIE1hY3JvLmFkZCgndW5zZXQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKG1vZGVsQXJnLCBwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJndW1lbnRzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2lpXSAmJiBhcmd1bWVudHNbaWldLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbaWldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gJ01hY3JvLndvcmxkLnVuc2V0JztcbiAgICAgICAgICAgICAgICBsZXQgbW9kZWwgPSB3b3JsZEFjdGlvbnMuZ2V0KG1vZGVsQXJnKTtcbiAgICAgICAgICAgICAgICBpZiAoIW1vZGVsIHx8IG1vZGVsLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgbW9kZWxBcmcgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5zZXQgaXMgbm90IHZhbGlkLicpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF3b3JsZEFjdGlvbnMudmFsaWRhdGVTZXRWYWx1ZShwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnWW91IGNhblxcJ3Qgc2V0IHRoaXMgdmFsdWUuIFRoZSBwcm9wZXJ0eSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWUgKyAnIGlzIHJlc2VydmVkLicpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkZWxldGUgbW9kZWxbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLCBtb2RlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICd3b3JsZCdcbiAgICApO1xuXG4gICAgTWFjcm8uYWRkKCdjb250YWlucycsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIocGFyZW50TW9kZWxBcmcsIGNoaWxkTW9kZWxBcmcsIGNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1tpaV0gJiYgYXJndW1lbnRzW2lpXS50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzW2lpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9ICdNYWNyby53b3JsZC5jb250YWlucyc7XG5cbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50TW9kZWwgPSB3b3JsZEFjdGlvbnMuZ2V0KHBhcmVudE1vZGVsQXJnKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmVudE1vZGVsIHx8IHBhcmVudE1vZGVsLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgcGFyZW50TW9kZWxBcmcgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5jb250YWlucyBpcyBub3QgdmFsaWQuJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyZW50TW9kZWwudHlwZSA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIHBhcmVudE1vZGVsQXJnIHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuY29udGFpbnMgcmVwcmVzZW50cyBhICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb2xsZWN0aW9uLiBJbiBjYW4gb25seSBiZSB1c2VkIG9uIHNpbmdsZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFyZW50IG1vZGVscy4nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkTW9kZWwgPSB3b3JsZEFjdGlvbnMuZ2V0KGNoaWxkTW9kZWxBcmcpO1xuICAgICAgICAgICAgICAgIGlmICghY2hpbGRNb2RlbCB8fCBjaGlsZE1vZGVsLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgY2hpbGRNb2RlbEFyZyBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLmNvbnRhaW5zIGlzIG5vdCB2YWxpZC4nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkcmVuID09PSB0cnVlIHx8IGNoaWxkcmVuID09PSAnY2hpbGRyZW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZE1vZGVsLnR5cGUgPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBjaGlsZE1vZGVsLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKGNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBuYW1lcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZXNbaWldIGluIHBhcmVudE1vZGVsLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZihwYXJlbnRNb2RlbC5jaGlsZHJlbltjaGlsZE1vZGVsLm5hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlID09PSAnb2JqZWN0JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZE1vZGVsLnR5cGUgPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJldFZhbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBjaGlsZE1vZGVsLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKGNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBuYW1lcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZXNbaWldIGluIHBhcmVudE1vZGVsLmRlc2NlbmRhbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZE1vZGVsLm5hbWUgaW4gcGFyZW50TW9kZWwuZGVzY2VuZGFudHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICd3b3JsZCdcbiAgICApO1xuXG4gICAgTWFjcm8uYWRkKCdpc3NldCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobW9kZWxBcmcsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaWldICYmIGFyZ3VtZW50c1tpaV0udHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRleHQgPSAnTWFjcm8ud29ybGQuaXNTZXQnO1xuICAgICAgICAgICAgICAgIGxldCBtb2RlbCA9IHdvcmxkQWN0aW9ucy5nZXQobW9kZWxBcmcpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YobW9kZWwpID09PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICAgICAgICAgICAgICBtb2RlbC50eXBlID09PSAnZXJyb3InKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1RoZSBtb2RlbEFyZyBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLmlzc2V0IGlzIG5vdCB2YWxpZC4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eU5hbWUgaW4gbW9kZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICd3b3JsZCdcbiAgICApO1xuICAgIE1hY3JvLndvcmxkLmlzU2V0ID0gTWFjcm8ud29ybGQuaXNzZXQ7XG4gICAgTWFjcm8ud29ybGRbJ2lzLXNldCddID0gTWFjcm8ud29ybGQuaXNzZXQ7XG5cbiAgICBNYWNyby5hZGQoJ2V4aXN0cycsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobW9kZWxBcmcpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJndW1lbnRzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2lpXSAmJiBhcmd1bWVudHNbaWldLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbaWldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBtb2RlbCA9IHdvcmxkQWN0aW9ucy5nZXQobW9kZWxBcmcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihtb2RlbCkgPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnR5cGUgPT09ICdlcnJvcicpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcblxuICAgIE1hY3JvLmFkZCgnZ2l2ZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobW9kZWxBcmcsIHJlY2VpdmVyTW9kZWxBcmcpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJndW1lbnRzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2lpXSAmJiBhcmd1bWVudHNbaWldLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbaWldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy50YWtlLmNhbGwodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZXJNb2RlbEFyZyxcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxBcmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcblxuICAgIE1hY3JvLmFkZCgndGFrZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobW9kZWxBcmcsIGNoaWxkTW9kZWxBcmcpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJndW1lbnRzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2lpXSAmJiBhcmd1bWVudHNbaWldLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbaWldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gJ01hY3JvLndvcmxkLnRha2UnO1xuXG4gICAgICAgICAgICAgICAgbGV0IG93bmVyID0gd29ybGRBY3Rpb25zLmdldChtb2RlbEFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKCFvd25lciB8fCBvd25lci50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAnVGhlIG1vZGVsIHJlZmVycmVkIHRvIGJ5IHRoZSBtb2RlbEFyZyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdhcmd1bWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsQXJnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgZG9lcyBub3QgZXhpc3QuJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gd29ybGRBY3Rpb25zLmdldChjaGlsZE1vZGVsQXJnKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGNoaWxkKSA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQudHlwZSA9PT0gJ2Vycm9yJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIG1vZGVsIHJlZmVycmVkIHRvIGJ5IHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2hpbGRNb2RlbEFyZyBhcmd1bWVudCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZE1vZGVsQXJnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIGRvZXMgbm90IGV4aXN0LicpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCdjaGlsZHJlbicgaW4gb3duZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQubmFtZSBpbiBvd25lci5jaGlsZHJlbiAmJlxuICAgICAgICAgICAgICAgICAgICAoY2hpbGQuZ2VuZXJpYyAhPT0gdHJ1ZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgd29ybGRBY3Rpb25zLmdldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvd25lci5jaGlsZHJlbltjaGlsZC5uYW1lXSkuZ2VuZXJpYyAhPT0gdHJ1ZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZXJlIGlzIGFscmVhZHkgYSBtb2RlbCB3aXRoIHRoZSBzYW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICduYW1lIGluIHRoZSBwcm92aWRlZCBvd25lciwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXIubmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJywgYW5kIG9uZSBvciBib3RoIGFyZSBub3QgZ2VuZXJpYy4nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGZvcmJpZGRlbiA9XG4gICAgICAgICAgICAgICAgICAgIHdvcmxkQWN0aW9ucy5pc0ZvcmJpZGRlbihvd25lciwgJ3Rha2UnLCBjaGlsZCk7XG4gICAgICAgICAgICAgICAgaWYgKGZvcmJpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dChuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAnQSBtb2RlbCBvZiB0eXBlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgb3duZXIudHlwZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnIGNhbm5vdCB0YWtlIGEgbW9kZWwgb2YgdHlwZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnR5cGUgKyAnLicpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgcGFyZW50cyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgbGV0IG9sZFBhcmVudCA9IGNoaWxkLnBhcmVudCgpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChvbGRQYXJlbnQgJiYgb2xkUGFyZW50LnR5cGUgIT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JJbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRzLmluZGV4T2Yob2xkUGFyZW50LnBhcmVudFNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50SW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50cy5pbmRleE9mKG9sZFBhcmVudC5wYXJlbnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvckluZGV4ICE9PSAtMSB8fCBwYXJlbnRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSBwYXJlbnQgb2Ygb25lIG9mIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BlY2lmaWVkIG1vZGVscyBoYXMgYSBjb3JydXB0ZWQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rlc2NlbmRlbmNlIHRyZWUgYW5kIGNvbnRhaW5zIGl0c2VsZiwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29yIGl0cyBzZWxlY3RvciwgYXMgYSBwYXJlbnQuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50cy5wdXNoKG9sZFBhcmVudC5zZWxlY3RvcigpKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50cy5wdXNoKG9sZFBhcmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLmdlbmVyaWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvbGRQYXJlbnQuY2hpbGRyZW5bY2hpbGQuaWRdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9sZFBhcmVudC5jaGlsZHJlbltjaGlsZC5uYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvbGRQYXJlbnQuZGVzY2VuZGFudHNbY2hpbGQubmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBvbGRQYXJlbnQgPSBvbGRQYXJlbnQucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2hpbGQucGFyZW50U2VsZWN0b3IgPSBvd25lci5zZWxlY3RvcigpO1xuXG4gICAgICAgICAgICAgICAgcGFyZW50cyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgbGV0IG5ld1BhcmVudCA9IG93bmVyO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC5nZW5lcmljKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGNoaWxkLm5hbWUgaW4gbmV3UGFyZW50LmNoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFyZW50LmNoaWxkcmVuW2NoaWxkLm5hbWVdID0gJyMnICsgY2hpbGQuaWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5hbWUgaW4gbmV3UGFyZW50LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfY2hpbGQgPSBuZXdQYXJlbnQuY2hpbGRyZW5bY2hpbGQubmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JsZEFjdGlvbnMuZ2V0KF9jaGlsZCkucXVhbnRpdHkgKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hpbGQucXVhbnRpdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JsZEFjdGlvbnMucmVtb3ZlKF9jaGlsZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsIG93bmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BhcmVudC5jaGlsZHJlbltjaGlsZC5uYW1lXSA9ICcjJyArIGNoaWxkLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcywgb3duZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcblxuICAgIE1hY3JvLmFkZCgnaXNnZW5lcmljJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihtb2RlbEFyZykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaWldICYmIGFyZ3VtZW50c1tpaV0udHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRleHQgPSAnTWFjcm8ud29ybGQuaXNnZW5lcmljJztcblxuICAgICAgICAgICAgICAgIGxldCBtb2RlbCA9IHdvcmxkQWN0aW9ucy5nZXQobW9kZWxBcmcpO1xuICAgICAgICAgICAgICAgIGlmICghbW9kZWwgfHwgbW9kZWwudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSBtb2RlbCByZWZlcnJlZCB0byBieSB0aGUgbW9kZWxBcmcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FyZ3VtZW50ICcgKyBtb2RlbEFyZyArICcgZG9lcyBub3QgZXhpc3QuJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobW9kZWwuZ2VuZXJpYyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcbiAgICBNYWNyby53b3JsZC5pc0dlbmVyaWMgPSBNYWNyby53b3JsZC5pc2dlbmVyaWM7XG4gICAgTWFjcm8ud29ybGRbJ2lzLWdlbmVyaWMnXSA9IE1hY3JvLndvcmxkLmlzZ2VuZXJpYztcblxuICAgIE1hY3JvLmFkZCgnbWFrZWdlbmVyaWMnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKG1vZGVsQXJnKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1tpaV0gJiYgYXJndW1lbnRzW2lpXS50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzW2lpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9ICdNYWNyby53b3JsZC5tYWtlZ2VuZXJpYyc7XG5cbiAgICAgICAgICAgICAgICBsZXQgbW9kZWwgPSB3b3JsZEFjdGlvbnMuZ2V0KG1vZGVsQXJnKTtcbiAgICAgICAgICAgICAgICBpZiAoIW1vZGVsIHx8IG1vZGVsLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgbW9kZWwgcmVmZXJyZWQgdG8gYnkgdGhlIG1vZGVsQXJnICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmd1bWVudCAnICsgbW9kZWxBcmcgKyAnIGRvZXMgbm90IGV4aXN0LicpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtb2RlbC5nZW5lcmljID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cldNU3RhdGUgPSBTdGF0ZS5jdXJyZW50V29ybGRNb2RlbFN0YXRlO1xuXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBtb2RlbCBjYW4gbm8gbG9uZ2VyIGJlIHNlYXJjaGVkIGJ5IG5hbWVcbiAgICAgICAgICAgICAgICBkZWxldGUgY3VyV01TdGF0ZS5hbGxbbW9kZWwubmFtZV07XG4gICAgICAgICAgICAgICAgZGVsZXRlIGN1cldNU3RhdGVbbW9kZWwudHlwZV1bbW9kZWwubmFtZV07XG5cbiAgICAgICAgICAgICAgICBjdXJXTVN0YXRlLmFsbFttb2RlbC5pZF0gPSBtb2RlbDtcbiAgICAgICAgICAgICAgICBjdXJXTVN0YXRlW21vZGVsLnR5cGVdW21vZGVsLmlkXSA9ICcjJyArIG1vZGVsLmlkO1xuXG4gICAgICAgICAgICAgICAgbGV0IG5ld1BhcmVudCA9IG1vZGVsLnBhcmVudCgpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YobmV3UGFyZW50KSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgbmV3UGFyZW50ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICdjaGlsZHJlbicgaW4gbmV3UGFyZW50KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGFyZW50LmNoaWxkcmVuW21vZGVsLm5hbWVdID0gJyMnICsgbW9kZWwuaWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0eXBlb2YobmV3UGFyZW50KSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgbmV3UGFyZW50ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgIG5ld1BhcmVudC50eXBlICE9PSAnZXJyb3InKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JJbmRleCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRzLmluZGV4T2Yob2xkUGFyZW50LnBhcmVudFNlbGVjdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50SW5kZXggPVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50cy5pbmRleE9mKG9sZFBhcmVudC5wYXJlbnQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RvckluZGV4ICE9PSAtMSB8fCBwYXJlbnRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSBwYXJlbnQgb2Ygb25lIG9mIHRoZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3BlY2lmaWVkIG1vZGVscyBoYXMgYSBjb3JydXB0ZWQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2Rlc2NlbmRlbmNlIHRyZWUgYW5kIGNvbnRhaW5zIGl0c2VsZiwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29yIGl0cyBzZWxlY3RvciwgYXMgYSBwYXJlbnQuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50cy5wdXNoKG5ld1BhcmVudC5zZWxlY3RvcigpKTtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50cy5wdXNoKG5ld1BhcmVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5ld1BhcmVudC5kZXNjZW5kYW50c1ttb2RlbC5uYW1lXTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBuZXdQYXJlbnQgPSBuZXdQYXJlbnQucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcywgbW9kZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcbiAgICBNYWNyby53b3JsZC5tYWtlZ2VuZXJpYyA9IE1hY3JvLndvcmxkLm1ha2VnZW5lcmljO1xuICAgIE1hY3JvLndvcmxkWydtYWtlLWdlbmVyaWMnXSA9IE1hY3JvLndvcmxkLm1ha2VnZW5lcmljO1xuXG4gICAgTWFjcm8uYWRkKCdwcmludCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobW9kZWxBcmcsIHN0cmluZywgbmV3TGluZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaWldICYmIGFyZ3VtZW50c1tpaV0udHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9ICdNYWNyby53b3JsZC5wcmludCc7XG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbEFyZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSBtb2RlbEFyZyBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLnByaW50IGlzIG5vdCB2YWxpZC4nKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Yoc3RyaW5nKSAhPT0gJ3N0cmluZycgfHwgc3RyaW5nID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSBzdHJpbmcgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5wcmludCBpcyBub3QgdmFsaWQuJykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBtb2RlbCA9IHdvcmxkQWN0aW9ucy5nZXQobW9kZWxBcmcpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlbC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIG1vZGVsQXJnIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQucHJpbnQgZG9lcyBub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvcnJlc3BvbmQgdG8gYW4gZXhpc3RpbmcgbW9kZWwuJykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0dy1tYXRjaCcpO1xuICAgICAgICAgICAgICAgIGVsZW0uY2xhc3NOYW1lID0gJ3dvcmxkbW9kZWxQcmludENvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgZWxlbS5pbm5lckhUTUwgPSBzdHJpbmc7XG5cbiAgICAgICAgICAgICAgICBsZXQgdHJlZVdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoXG4gICAgICAgICAgICAgICAgICAgIGVsZW0sXG4gICAgICAgICAgICAgICAgICAgIE5vZGVGaWx0ZXIuU0hPV19URVhULFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHROb2RlOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnRhZ05hbWUgIT09ICdTQ1JJUFQnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC50YWdOYW1lICE9PSAnU1RZTEUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE5vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTm9kZUZpbHRlci5GSUxURVJfUkVKRUNUO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGxldCBub2RlTGlzdCA9IFtdO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0cmVlV2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZUxpc3QucHVzaCh0cmVlV2Fsa2VyLmN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBub2RlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlZ2V4ID0gLyUoLis/KSUvO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2g7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdHJpbmcgPSBub2RlLnRleHRDb250ZW50O1xuXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKHN0cmluZykpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5uZXIgPSBtYXRjaFsxXS50cmltKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbm5lclswXSA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXIgPSBpbm5lci5zbGljZSgxLCBpbm5lci5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbm5lclswXSA9PT0gJ3wnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJbaW5uZXIubGVuZ3RoIC0gMV0gPT09ICd8JylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lciA9IGV2YWwoaW5uZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgSmF2YXNjcmlwdCByYXcgc3RyaW5nIHdpdGhpbiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0aGUgTWFjcm8ud29ybGQucHJpbnQgdGVtcGxhdGUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc3RyaW5nIGlzIG5vdCB3ZWxsLWZvcm1lZC4gUGxlYXNlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25vdGUgdGhlIGNvbXBpbGVyIGVycm9yIGluIHRoZSBuZXh0ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FsZXJ0LicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXIgPSBlLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShtYXRjaFswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZEFjdGlvbnMuZ2V0KG1vZGVsLCBpbm5lcikpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVnZXggPSAvXFx7XFx7XFxTPy4rP1xcUz9cXH1cXH0vO1xuXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgobWF0Y2ggPSByZWdleC5leGVjKHN0cmluZykpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5uZXIgPSBtYXRjaFswXS50cmltKCkuc2xpY2UoMiwgLTIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGluayA9ICc8dHctbGluayBjbGFzcz1cInBhc3NhZ2VcIiBwYXNzYWdlLW5hbWU9XCInO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuaW5kZXhPZignfCcpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0ID0gaW5uZXIuc3BsaXQoJ3wnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rICs9IHNwbGl0W3NwbGl0Lmxlbmd0aCAtIDFdICsgJ1wiPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluayArPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGxpdC5zbGljZSgwLCAtMSkuam9pbignfCcpICsgJzwvdHctbGluaz4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbm5lci5pbmRleE9mKCctPicpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0ID0gaW5uZXIuc3BsaXQoJy0+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluayArPSBzcGxpdFtzcGxpdC5sZW5ndGggLSAxXSArICdcIj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsgKz0gc3BsaXQuc2xpY2UoMCwgLTEpLmpvaW4oJy0+JykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC90dy1saW5rPic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlubmVyLmluZGV4T2YoJzwtJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BsaXQgPSBpbm5lci5zcGxpdCgnPC0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rICs9IHNwbGl0WzBdICsgJ1wiPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluayArPSBzcGxpdC5zbGljZSgxKS5qb2luKCc8LScpICsgJzwvdHctbGluaz4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rICs9IGlubmVyICsgJ1wiPicgKyBpbm5lciArICc8L3R3LWxpbms+JztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UobWF0Y2hbMF0sIGxpbmspO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJChub2RlKS5yZXBsYWNlV2l0aCgnPHR3LW1hdGNoPicgKyBzdHJpbmcgKyAnPC90dy1tYXRjaD4nKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChuZXdMaW5lID09PSB0cnVlIHx8XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YobmV3TGluZSkgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdMaW5lLnRvTG93ZXJDYXNlKCkgPT09ICduZXdsaW5lJykpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBlbGVtLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKG5ld0xpbmUpID09PSAnbnVtYmVyJyAmJiBuZXdMaW5lID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgbmV3TGluZTsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIENvbXBpbGVyLmNvbXBpbGUoZWxlbSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICd3b3JsZCdcbiAgICApO1xuXG4gICAgTWFjcm8uYWRkKCdnZXRhbGlhcycsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobW9kZWxBcmcsIHByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaWldICYmIGFyZ3VtZW50c1tpaV0udHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9ICdNYWNyby53b3JsZC5nZXRBbGlhcyc7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW1vZGVsQXJnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIG1vZGVsQXJnIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuZ2V0QWxpYXMgaXMgbm90IHZhbGlkLicpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG1vZGVsID0gd29ybGRBY3Rpb25zLmdldChtb2RlbEFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbCB8fCBtb2RlbC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIG1vZGVsIHJlZmVycmVkIHRvIGJ5IHRoZSBtb2RlbEFyZyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5nZXRhbGlhcyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbEFyZyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBkb2VzIG5vdCBleGlzdC4nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEoJ2FsaWFzZXMnIGluIG1vZGVsKSkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5hbGlhc2VzID0ge307XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgcHJvcGVydHlOYW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuZ2V0YWxpYXMgaXMgbm90IHZhbGlkLicpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHlOYW1lIGluIG1vZGVsLmFsaWFzZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmFsaWFzZXNbcHJvcGVydHlOYW1lXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsW3Byb3BlcnR5TmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICd3b3JsZCdcbiAgICApO1xuICAgIE1hY3JvLndvcmxkLmdldEFsaWFzID0gTWFjcm8ud29ybGQuZ2V0YWxpYXM7XG4gICAgTWFjcm8ud29ybGRbJ2dldC1hbGlhcyddID0gTWFjcm8ud29ybGQuZ2V0QWxpYXM7XG5cbiAgICBNYWNyby5hZGQoJ2FkZGFsaWFzJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihtb2RlbEFyZywgcHJvcGVydHlOYW1lLCBhbGlhcykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaWldICYmIGFyZ3VtZW50c1tpaV0udHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9ICdNYWNyby53b3JsZC5hZGRhbGlhcyc7XG5cbiAgICAgICAgICAgICAgICBpZiAoIW1vZGVsQXJnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIG1vZGVsQXJnIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuYWRkYWxpYXMgaXMgbm90IHZhbGlkLicpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG1vZGVsID0gd29ybGRBY3Rpb25zLmdldChtb2RlbEFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbCB8fCBtb2RlbC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIG1vZGVsIHJlZmVycmVkIHRvIGJ5IHRoZSBtb2RlbEFyZyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJndW1lbnQgJyArIG1vZGVsQXJnICsgJyBkb2VzIG5vdCBleGlzdC4nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgcHJvcGVydHlOYW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuYWRkYWxpYXMgaXMgbm90IHZhbGlkLicpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEocHJvcGVydHlOYW1lIGluIG1vZGVsKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSBtb2RlbCByZXByZXNlbnRlZCBieSB0aGUgbW9kZWxBcmcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FyZ3VtZW50IHByb3ZpZGVkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5hZGRhbGlhcyBkb2VzIG5vdCBoYXZlIGEgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb3BlcnR5IG1hdGNoaW5nIHRoZSBwcm9wZXJ0eU5hbWUgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FyZ3VtZW50LiBDYW5ub3QgYWRkIGFsaWFzLicpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoISgnYWxpYXNlcycgaW4gbW9kZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFsaWFzZXMgPSB7fTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFsaWFzKSAhPT0gJ3N0cmluZycgfHwgYWxpYXMgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIGFsaWFzIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuYWRkQWxpYXMgaXMgbm90IGEgdmFsaWQsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdub24tZW1wdHkgc3RyaW5nLiBDYW5ub3QgYWRkIGFsaWFzLicpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtb2RlbC5hbGlhc2VzW3Byb3BlcnR5TmFtZV0gPSBhbGlhcztcblxuICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsIG1vZGVsKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICd3b3JsZCdcbiAgICApO1xuICAgIE1hY3JvLndvcmxkLmFkZEFsaWFzID0gTWFjcm8ud29ybGQuYWRkYWxpYXM7XG4gICAgTWFjcm8ud29ybGRbJ2FkZC1hbGlhcyddID0gTWFjcm8ud29ybGQuYWRkYWxpYXM7XG5cbiAgICBNYWNyby5hZGQoJ3JlbW92ZWFsaWFzJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihtb2RlbEFyZywgcHJvcGVydHlOYW1lKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1tpaV0gJiYgYXJndW1lbnRzW2lpXS50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzW2lpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gJ01hY3JvLndvcmxkLnJlbW92ZWFsaWFzJztcblxuICAgICAgICAgICAgICAgIGlmICghbW9kZWxBcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgbW9kZWxBcmcgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5yZW1vdmVhbGlhcyBpcyBub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3ZhbGlkLicpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG1vZGVsID0gd29ybGRBY3Rpb25zLmdldChtb2RlbEFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbCB8fCBtb2RlbC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIG1vZGVsIHJlZmVycmVkIHRvIGJ5IHRoZSBtb2RlbEFyZyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYXJndW1lbnQgJyArIG1vZGVsQXJnICsgJyBkb2VzIG5vdCBleGlzdC4nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgcHJvcGVydHlOYW1lIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQucmVtb3ZlYWxpYXMgaXMgbm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YWxpZC4nKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghKHByb3BlcnR5TmFtZSBpbiBtb2RlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgbW9kZWwgcmVwcmVzZW50ZWQgYnkgdGhlIG1vZGVsQXJnICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQucmVtb3ZlYWxpYXMgZG9lcyBub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2hhdmUgYSBwcm9wZXJ0eSBtYXRjaGluZyB0aGUgcHJvcGVydHlOYW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhcmd1bWVudC4gQ2Fubm90IGFkZCBhbGlhcy4nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEoJ2FsaWFzZXMnIGluIG1vZGVsKSkge1xuICAgICAgICAgICAgICAgICAgICBtb2RlbC5hbGlhc2VzID0ge307XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVsZXRlIG1vZGVsLmFsaWFzZXNbcHJvcGVydHlOYW1lXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsIG1vZGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3dvcmxkJ1xuICAgICk7XG4gICAgTWFjcm8ud29ybGQucmVtb3ZlQWxpYXMgPSBNYWNyby53b3JsZC5yZW1vdmVhbGlhcztcbiAgICBNYWNyby53b3JsZFsncmVtb3ZlLWFsaWFzJ10gPSBNYWNyby53b3JsZC5yZW1vdmVhbGlhcztcblxuICAgIE1hY3JvLmFkZCgnYXNzb2NpYXRlZCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobW9kZWxBcmcsIGFzc29jaWF0aW9uLCBhc3NvY2lhdGVkTW9kZWxBcmcpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJndW1lbnRzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2lpXSAmJiBhcmd1bWVudHNbaWldLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbaWldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGNvbnRleHQgPSAnTWFjcm8ud29ybGQuaXMnO1xuICAgICAgICAgICAgICAgIGlmICghbW9kZWxBcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgbW9kZWxBcmcgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5pcyBpcyBub3QgdmFsaWQuJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWFzc29jaWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIGFzc29jaWF0aW9uIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuaXMgaXMgbm90IHZhbGlkLicpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgbW9kZWwgPSB3b3JsZEFjdGlvbnMuZ2V0KG1vZGVsQXJnKTtcbiAgICAgICAgICAgICAgICBpZiAobW9kZWwudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSBtb2RlbEFyZyBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLmlzIGRvZXMgbm90IGNvcnJlc3BvbmQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RvIGFuIGV4aXN0aW5nIG1vZGVsLicpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYXNzb2NpYXRlZE1vZGVsQXJnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFzc29jaWF0aW9uIGluIG1vZGVsLmFzc29jaWF0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgYXNzb2NpYXRlZE1vZGVsID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQWN0aW9ucy5nZXQoYXNzb2NpYXRlZE1vZGVsQXJnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFzc29jaWF0ZWRNb2RlbC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgYXNzb2NpYXRlZE1vZGVsQXJnIGFyZ3VtZW50ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFzc2VkIHRvIE1hY3JvLndvcmxkLmlzIGRvZXMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdub3QgY29ycmVzcG9uZCB0byBhbiBleGlzdGluZyBtb2RlbC4nKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsLmFzc29jaWF0aW9uc1thc3NvY2lhdGlvbl1cbiAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKGFzc29jaWF0ZWRNb2RlbC5zZWxlY3RvcigpKSA9PT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXNzb2NpYXRlZHMgPSBtb2RlbC5hc3NvY2lhdGlvbnNbYXNzb2NpYXRpb25dO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29sbGVjdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb2xsZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiB7fVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFzc29jaWF0ZWRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLCBjb2xsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXNzb2NpYXRlZHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLmNoaWxkcmVuW2Fzc29jaWF0ZWRzW2lpXV0gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQWN0aW9ucy5nZXQoYXNzb2NpYXRlZHNbaWldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLCBjb2xsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICd3b3JsZCdcbiAgICApO1xuXG4gICAgTWFjcm8uYWRkKCdhc3NvY2lhdGUnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKG1vZGVsQXJnLCBhc3NvY2lhdGlvbiwgYXNzb2NpYXRlZE1vZGVsQXJnLCBjb252ZXJzZSkge1xuICAgICAgICAgICAgICAgIGxldCBjb250ZXh0ID0gJ01hY3JvLndvcmxkLmFzc29jaWF0ZSc7XG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbEFyZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSBtb2RlbEFyZyBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLmFzc29jaWF0ZSBpcyBub3QgdmFsaWQuJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWFzc29jaWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIGFzc29jaWF0aW9uIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuYXNzb2NpYXRlIGlzIG5vdCB2YWxpZC4nKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghYXNzb2NpYXRlZE1vZGVsQXJnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIGFzc29jaWF0ZWRNb2RlbEFyZyBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLmFzc29jaWF0ZSBpcyBub3QgdmFsaWQuJykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBtb2RlbCA9IHdvcmxkQWN0aW9ucy5nZXQobW9kZWxBcmcpO1xuICAgICAgICAgICAgICAgIGlmIChtb2RlbC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIG1vZGVsQXJnIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuYXNzb2NpYXRlIGRvZXMgbm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb3JyZXNwb25kIHRvIGFuIGV4aXN0aW5nIG1vZGVsLicpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgYXNzb2NpYXRlZE1vZGVsID1cbiAgICAgICAgICAgICAgICAgICAgd29ybGRBY3Rpb25zLmdldChhc3NvY2lhdGVkTW9kZWxBcmcpO1xuICAgICAgICAgICAgICAgIGlmIChhc3NvY2lhdGVkTW9kZWwudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSBhc3NvY2lhdGVkTW9kZWwgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5hc3NvY2lhdGUgZG9lcyBub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvcnJlc3BvbmQgdG8gYW4gZXhpc3RpbmcgbW9kZWwuJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIShhc3NvY2lhdGlvbiBpbiBtb2RlbC5hc3NvY2lhdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmFzc29jaWF0aW9uc1thc3NvY2lhdGlvbl0gPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYXNzb2MgPSBtb2RlbC5hc3NvY2lhdGlvbnNbYXNzb2NpYXRpb25dO1xuICAgICAgICAgICAgICAgIGlmIChhc3NvYy5pbmRleE9mKGFzc29jaWF0ZWRNb2RlbC5zZWxlY3RvcigpKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwuYXNzb2NpYXRpb25zW2Fzc29jaWF0aW9uXS5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRlZE1vZGVsLnNlbGVjdG9yKCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjb252ZXJzZSA9PT0gdHJ1ZSB8fCBjb252ZXJzZSA9PT0gJ2NvbnZlcnNlJykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29udmVyc2UgPSB3b3JsZEFjdGlvbnMuZ2V0Q29udmVyc2UoYXNzb2NpYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udmVyc2UudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcywgY29udmVyc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghYXNzb2NpYXRlZE1vZGVsLmFzc29jaWF0aW9uc1tjb252ZXJzZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc29jaWF0ZWRNb2RlbC5hc3NvY2lhdGlvbnNbY29udmVyc2VdID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBhc3NvY2lhdGVkTW9kZWwuYXNzb2NpYXRpb25zW2NvbnZlcnNlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAgJiYgdGVtcC5pbmRleE9mKG1vZGVsLnNlbGVjdG9yKCkpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRlZE1vZGVsLmFzc29jaWF0aW9uc1tjb252ZXJzZV0ucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zZWxlY3RvcigpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsIG1vZGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3dvcmxkJ1xuICAgICk7XG5cbiAgICBNYWNyby5hZGQoJ2Rpc2Fzc29jaWF0ZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobW9kZWxBcmcsIGFzc29jaWF0aW9uLCBhc3NvY2lhdGVkTW9kZWxBcmcsIGNvbnZlcnNlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRleHQgPSAnTWFjcm8ud29ybGQuZGlzYXNzb2NpYXRlJztcbiAgICAgICAgICAgICAgICBpZiAoIW1vZGVsQXJnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIG1vZGVsQXJnIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuZGlzYXNzb2NpYXRlIGlzIG5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmFsaWQuJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWFzc29jaWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIGFzc29jaWF0aW9uIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuZGlzYXNzb2NpYXRlIGlzIG5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmFsaWQuJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWFzc29jaWF0ZWRNb2RlbEFyZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZSBhc3NvY2lhdGVkTW9kZWxBcmcgYXJndW1lbnQgcGFzc2VkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0byBNYWNyby53b3JsZC5kaXNhc3NvY2lhdGUgaXMgbm90ICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd2YWxpZC4nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IG1vZGVsID0gd29ybGRBY3Rpb25zLmdldChtb2RlbEFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGVsLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvck1vZGVsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbShhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdUaGUgbW9kZWxBcmcgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5kaXNhc3NvY2lhdGUgZG9lcyBub3QgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvcnJlc3BvbmQgdG8gYW4gZXhpc3RpbmcgbW9kZWwuJykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBhc3NvY2lhdGVkTW9kZWwgPVxuICAgICAgICAgICAgICAgICAgICB3b3JsZEFjdGlvbnMuZ2V0KGFzc29jaWF0ZWRNb2RlbEFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKGFzc29jaWF0ZWRNb2RlbC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlIGFzc29jaWF0ZWRNb2RlbCBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLmRpc2Fzc29jaWF0ZSBkb2VzIG5vdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29ycmVzcG9uZCB0byBhbiBleGlzdGluZyBtb2RlbC4nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEoYXNzb2NpYXRpb24gaW4gbW9kZWwuYXNzb2NpYXRpb25zKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLCBtb2RlbCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGFzc29jaWF0aW9ucyA9IG1vZGVsLmFzc29jaWF0aW9uc1thc3NvY2lhdGlvbl07XG4gICAgICAgICAgICAgICAgaWYgKGFzc29jaWF0aW9ucy5pbmRleE9mKGFzc29jaWF0ZWRNb2RlbCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsIG1vZGVsKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCB0b0NvbmNhdCA9XG4gICAgICAgICAgICAgICAgICAgIGFzc29jaWF0aW9ucy5zbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc29jaWF0aW9ucy5pbmRleE9mKGFzc29jaWF0ZWRNb2RlbCArIDEpKTtcbiAgICAgICAgICAgICAgICBhc3NvY2lhdGlvbnMgPSBhc3NvY2lhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDAsIGFzc29jaWF0aW9ucy5pbmRleE9mKGFzc29jaWF0ZWRNb2RlbCkpXG4gICAgICAgICAgICAgICAgICAgIC5jb25jYXQodG9Db25jYXQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbnZlcnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYXNzb2NpYXRlZE1vZGVsLmFzc29jaWF0aW9uc1thc3NvY2lhdGlvbl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsIG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb252ZXJzZSA9IHdvcmxkQWN0aW9ucy5nZXRDb252ZXJzZShhc3NvY2lhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb252ZXJzZS50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udmVyc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQgYXNzb2NpYXRpb25zID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc29jaWF0ZWRNb2RlbC5hc3NvY2lhdGlvbnNbY29udmVyc2VdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXNzb2NpYXRpb25zLmluZGV4T2YobW9kZWwpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5mb3JtYXRPdXRwdXQodGhpcywgbW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9Db25jYXQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgYXNzb2NpYXRpb25zLnNsaWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc29jaWF0aW9ucy5pbmRleE9mKG1vZGVsICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICBhc3NvY2lhdGlvbnMgPSBhc3NvY2lhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZSgwLCBhc3NvY2lhdGlvbnMuaW5kZXhPZihtb2RlbCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KHRvQ29uY2F0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLCBtb2RlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICd3b3JsZCdcbiAgICApO1xuXG4gICAgY29uc3QgY29udmVyc2VzID0ge1xuICAgICAgICBub3J0aDogJ3NvdXRoJyxcbiAgICAgICAgZWFzdDogJ3dlc3QnLFxuICAgICAgICBzb3V0aDogJ25vcnRoJyxcbiAgICAgICAgd2VzdDogJ2Vhc3QnLFxuICAgICAgICBhYm92ZTogJ2JlbG93JyxcbiAgICAgICAgYmVsb3c6ICdhYm92ZScsXG4gICAgICAgIGxlZnQ6ICdyaWdodCcsXG4gICAgICAgIHJpZ2h0OiAnbGVmdCcsXG4gICAgICAgIGZvcndhcmQ6ICdiYWNrJyxcbiAgICAgICAgYmFjazogJ2ZvcndhcmQnLFxuICAgICAgICBvdmVyOiAndW5kZXInLFxuICAgICAgICB1bmRlcjogJ292ZXInXG4gICAgfTtcbiAgICBcbiAgICBNYWNyby5hZGQoJ2dldGNvbnZlcnNlJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcihub3JtYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnZlcnNlc1tub3JtYWxdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZm9ybWF0T3V0cHV0KHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3JNb2RlbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuZ2V0Y29udmVyc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb20oYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnVGhlcmUgaXMgbm8gY29udmVyc2UgcmVsYXRpb24gZm9yIHRoYXQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3dvcmQuJykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBjb252ZXJzZXNbbm9ybWFsXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3dvcmxkJ1xuICAgICk7XG4gICAgTWFjcm8ud29ybGQuZ2V0Q29udmVyc2UgPSBNYWNyby53b3JsZC5nZXRjb252ZXJzZTtcbiAgICBNYWNyby53b3JsZFsnZ2V0LWNvbnZlcnNlJ10gPSBNYWNyby53b3JsZC5nZXRjb252ZXJzZTtcblxuICAgIE1hY3JvLmFkZCgnYWRkY29udmVyc2UnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKG5vcm1hbCwgY29udmVyc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9ybWFsIGluIGNvbnZlcnNlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ybGRBY3Rpb25zLmZvcm1hdE91dHB1dCh0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEVycm9yTW9kZWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLmFkZGNvbnZlcnNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1RoZXJlIGlzIGFscmVhZHkgYSBjb252ZXJzZSByZWxhdGlvbiBmb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RoYXQgd29yZC4gUmVtb3ZlIHRoZSBvbGQgb25lIGZpcnN0LicpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb252ZXJzZXNbbm9ybWFsXSA9IGNvbnZlcnNlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcbiAgICBNYWNyby53b3JsZC5hZGRDb252ZXJzZSA9IE1hY3JvLndvcmxkLmFkZGNvbnZlcnNlO1xuICAgIE1hY3JvLndvcmxkWydhZGQtY29udmVyc2UnXSA9IE1hY3JvLndvcmxkLmFkZGNvbnZlcnNlO1xuXG4gICAgTWFjcm8uYWRkKCdyZW1vdmVjb252ZXJzZScsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobmFtZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBjb252ZXJzZXNbbmFtZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICd3b3JsZCdcbiAgICApO1xuICAgIE1hY3JvLndvcmxkLnJlbW92ZUNvbnZlcnNlID0gTWFjcm8ud29ybGQucmVtb3ZlY29udmVyc2U7XG4gICAgTWFjcm8ud29ybGRbJ3JlbW92ZS1jb252ZXJzZSddID0gTWFjcm8ud29ybGQucmVtb3ZlQ29udmVyc2U7XG5cbiAgICBNYWNyby5hZGQoJ2ZvcmJpZCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoYWN0b3JUeXBlLCBhY3RlZVR5cGUsIGFjdGlvbikge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaWldICYmIGFyZ3VtZW50c1tpaV0udHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIWFjdG9yVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhY3RvclR5cGUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLmZvcmJpZCBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdG9yVHlwZSA9PT0gJyonKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIG9ubHkgb2JqZWN0IHRoYXQgY2FuIGhhdmUgYWxsIGFjdGlvbnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2V0IHRvICogaXMgdGhlIGJ1aWx0aW4gRXJyb3JNb2RlbC4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWFjdGVlVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhY3RlZVR5cGUgYXJndW1lbnQgcGFzc2VkIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLndvcmxkLmZvcmJpZCBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJXTVN0YXRlID0gU3RhdGUuY3VycmVudFdvcmxkTW9kZWxTdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gY3VyV01TdGF0ZS5mb3JiaWRkZW5bYWN0b3JUeXBlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgYWN0b3JUeXBlLCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RvclR5cGUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsIGRvZXMgbm90IGV4aXN0IGluICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5TdGF0ZS5jdXJyZW50V29ybGRNb2RlbFN0YXRlJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy5mb3JiaWRkZW4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZVthY3RlZVR5cGVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBhY3RlZVR5cGUsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGVlVHlwZSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJywgZG9lcyBub3QgZXhpc3QgaW4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ01hY3JvLlN0YXRlLmN1cnJlbnRXb3JsZE1vZGVsU3RhdGUnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLmZvcmJpZGRlbi4nICsgYWN0b3JUeXBlICsgJy4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaW5kZXhPZihhY3Rpb24pID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUucHVzaChhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcblxuICAgIE1hY3JvLmFkZCgndW5mb3JiaWQnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKGFjdG9yVHlwZSwgYWN0ZWVUeXBlLCBhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgYXJndW1lbnRzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2lpXSAmJiBhcmd1bWVudHNbaWldLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbaWldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFhY3RvclR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgYWN0b3JUeXBlIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC51bmZvcmJpZCBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFhY3RlZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgYWN0ZWVUeXBlIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC51bmZvcmJpZCBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgYWN0aW9uIGFyZ3VtZW50IHBhc3NlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC51bmZvcmJpZCBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJXTVN0YXRlID0gU3RhdGUuY3VycmVudFdvcmxkTW9kZWxTdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gY3VyV01TdGF0ZS5mb3JiaWRkZW5bYWN0b3JUeXBlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgYWN0b3JUeXBlLCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RlZVR5cGUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcsIGRvZXMgbm90IGV4aXN0IGluIE1hY3JvLlN0YXRlJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy5jdXJyZW50V29ybGRNb2RlbFN0YXRlLmZvcmJpZGRlbi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlW2FjdGVlVHlwZV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGFjdGlvbiwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLCBkb2VzIG5vdCBleGlzdCBpbiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8uU3RhdGUuY3VycmVudFdvcmxkTW9kZWxTdGF0ZScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcuZm9yYmlkZGVuLicgKyBhY3RvclR5cGUgKyAnLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF2YWx1ZS5maWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIHNwZWNpZmllZCBjb2xsZWN0aW9uIGluICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby5TdGF0ZS5jdXJyZW50V29ybGRNb2RlbFN0YXRlJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJy5mb3JiaWRkZW4uJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0b3JUeXBlICsgJy4nICsgYWN0ZWVUeXBlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIGxhY2tzIGEgZmlsdGVyIGZ1bmN0aW9uIHByb3BlcnR5LCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5kIGlzIHRoZXJlZm9yZSBpbnZhbGlkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihhY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0ICE9PSBhY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICd3b3JsZCdcbiAgICApO1xuXG4gICAgTWFjcm8uYWRkKCdpc2ZvcmJpZGRlbicsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoYWN0b3JUeXBlLCBhY3Rpb24sIGFjdGVlVHlwZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaWldICYmIGFyZ3VtZW50c1tpaV0udHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYWN0b3JUeXBlICYmIGFjdG9yVHlwZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdG9yVHlwZSA9IGFjdG9yVHlwZS50eXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYWN0ZWVUeXBlICYmIGFjdGVlVHlwZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGVlVHlwZSA9IGFjdGVlVHlwZS50eXBlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghYWN0b3JUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGFjdG9yVHlwZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuaXNGb3JiaWRkZW4gaXMgbm90IHZhbGlkLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGFjdGlvbiBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuaXNGb3JiaWRkZW4gaXMgbm90IHZhbGlkLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghYWN0ZWVUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlIGFjdGVlVHlwZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuaXNGb3JiaWRkZW4gaXMgbm90IHZhbGlkLicpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyV01TdGF0ZSA9IFN0YXRlLmN1cnJlbnRXb3JsZE1vZGVsU3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGN1cldNU3RhdGUuZm9yYmlkZGVuW2FjdG9yVHlwZV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2F0ZWx5TG9nKCdUaGUgYWN0b3JUeXBlLCAnICsgYWN0b3JUeXBlICtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJywgZG9lcyBub3QgZXhpc3QgaW4gTWFjcm8uU3RhdGUnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJy5jdXJyZW50V29ybGRNb2RlbFN0YXRlLmZvcmJpZGRlbi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJyonKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVbYWN0aW9uXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9nYXRlbHlMb2coJ1RoZSBhY3RlZVR5cGUsICcgKyBhY3RlZVR5cGUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8nLCBkb2VzIG5vdCBleGlzdCBpbiBNYWNyby5TdGF0ZScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8nLmN1cnJlbnRXb3JsZE1vZGVsU3RhdGUuZm9yYmlkZGVuLicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9hY3RvclR5cGUgKyAnLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKHZhbHVlKS5pbmRleE9mKGFjdGVlVHlwZSkgIT09IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ3dvcmxkJ1xuICAgICk7XG4gICAgTWFjcm8ud29ybGQuaXNGb3JiaWRkZW4gPSBNYWNyby53b3JsZC5pc2ZvcmJpZGRlbjtcbiAgICBNYWNyby53b3JsZFsnaXMtZm9yYmlkZGVuJ10gPSBNYWNyby53b3JsZC5pc2ZvcmJpZGRlbjtcblxuICAgIE1hY3JvLmFkZCgncG9wdWxhdGVmcm9tcGFzc2FnZXMnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKHRhZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yID0gJ3R3LXBhc3NhZ2VkYXRhW3RhZ3N+PVwid29ybGQnICtcbiAgICAgICAgICAgICAgICAgICAgdGFnICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiXSwgdHctcGFzc2FnZWRhdGFbdGFnc349XCJ3b3JsZC0nICsgdGFnICsgJ1wiXSc7XG4gICAgICAgICAgICAgICAgbGV0IG5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IG5vZGVzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gbm9kZXNbaWldLmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXBsYWNlZCA9IG5hbWUucmVwbGFjZSgvcy9nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBhbGwgd2hpdGVzcGFjZSwgZ2l2ZW4gdGhhdCB3aGl0ZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGluZGljYXRlcyBkZXNjZW5kYW5jZS4gdGVtcCBzb2x1dGlvbiwgbm90IGlkZWFsXG4gICAgICAgICAgICAgICAgICAgIHdvcmxkQWN0aW9ucy5hZGQocmVwbGFjZWQsIHRhZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcbiAgICBNYWNyby53b3JsZC5wb3B1bGF0ZUZyb21QYXNzYWdlcyA9IE1hY3JvLndvcmxkLnBvcHVsYXRlZnJvbXBhc3NhZ2VzO1xuICAgIE1hY3JvLndvcmxkWydwb3B1bGF0ZS1mcm9tLXBhc3NhZ2VzJ10gPSBNYWNyby53b3JsZC5wb3B1bGF0ZWZyb21wYXNzYWdlcztcblxuICAgIC8qIE1hY3JvLmFkZCgnZGVmaW5laGFuZGxlcicsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIobmFtZSwgY29kZVN0ciwgaXNEb3VibGVUYWcpIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS50cmltKCk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZihuYW1lKSAhPT0gJ3N0cmluZycgfHwgbmFtZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgbmFtZSBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuZGVmaW5lSGFuZGxlciBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZihjb2RlU3RyKSAhPT0gJ3N0cmluZycgfHwgbmFtZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgY29kZVN0ciBhcmd1bWVudCBwYXNzZWQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnTWFjcm8ud29ybGQuZGVmaW5lSGFuZGxlciBpcyBlbXB0eSBvciAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdub3QgYSB2YWxpZCBzdHJpbmcuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgd29ybGRNb2RlbFtuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRG91YmxlVGFnOiBpc0RvdWJsZVRhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IG5ldyBGdW5jdGlvbihjb2RlU3RyKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydChlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcbiAgICBNYWNyby53b3JsZC5kZWZpbmVIYW5kbGVyID0gTWFjcm8ud29ybGQuZGVmaW5laGFuZGxlcjtcbiAgICBNYWNyby53b3JsZFsnZGVmaW5lLWhhbmRsZXInXSA9IE1hY3JvLndvcmxkLmRlZmluZWhhbmRsZXI7ICovXG5cbiAgICBNYWNyby5hZGQoJ3ZhbGlkYXRlbW9kZWwnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFtb2RlbCB8fCB0eXBlb2YobW9kZWwpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QganNUeXBlID0gdHlwZW9mKG1vZGVsKSA9PT0gJ29iamVjdCcgJiYgbW9kZWwgIT09IG51bGw7XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlbFR5cGUgPSAndHlwZScgaW4gbW9kZWwgJiZcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mKG1vZGVsLnR5cGUpID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC50eXBlICE9PSAnJyAmJlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC50eXBlICE9PSAnZXJyb3InO1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kZWxOYW1lID0gJ25hbWUnIGluIG1vZGVsICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZihtb2RlbC5uYW1lKSA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgbW9kZWwubmFtZSAhPT0gJyc7XG5cbiAgICAgICAgICAgICAgICBpZiAobW9kZWwubmFtZSA9PT0gJ25vb25lJykge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBub29uZSBtb2RlbCBjYW5ub3QgYmUgbW9kaWZpZWQgb3IgdmFsaWRhdGVkICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2luIGFueSBmYXNoaW9uLCBhbmQgYXR0ZW1wdGluZyB0byB2YWxpZGF0ZSBpdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICd3aWxsIGFsd2F5cyByZXR1cm4gZmFsc2UuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtb2RlbENoaWxkcmVuID0gJ2NoaWxkcmVuJyBpbiBtb2RlbCAmJlxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YobW9kZWwuY2hpbGRyZW4pID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgICAgICBtb2RlbC5jaGlsZHJlbiAhPT0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsRGVzY2VuZGFudHMgPSAnZGVzY2VuZGFudHMnIGluIG1vZGVsICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZihtb2RlbC5kZXNjZW5kYW50cykgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmRlc2NlbmRhbnRzICE9PSBudWxsO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgaXNDb2xsZWN0aW9uID0gJ3R5cGUnIGluIG1vZGVsICYmXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLnR5cGUgPT09ICdjb2xsZWN0aW9uJyAmJlxuICAgICAgICAgICAgICAgICAgICAnY2hpbGRyZW4nIGluIG1vZGVsICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZihtb2RlbC5jaGlsZHJlbikgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsLmNoaWxkcmVuICE9PSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKChqc1R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgbW9kZWxUeXBlICYmXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICBtb2RlbENoaWxkcmVuICYmXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsRGVzY2VuZGFudHMpIHx8XG4gICAgICAgICAgICAgICAgICAgIGlzQ29sbGVjdGlvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcbiAgICBNYWNyby53b3JsZC52YWxpZGF0ZU1vZGVsID0gTWFjcm8ud29ybGQudmFsaWRhdGVtb2RlbDtcbiAgICBNYWNyby53b3JsZFsndmFsaWRhdGUtbW9kZWwnXSA9IE1hY3JvLndvcmxkLnZhbGlkYXRlbW9kZWw7XG5cbiAgICBNYWNyby5hZGQoJ3ZhbGlkYXRlc2V0dmFsdWUnLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKG1vZGVsQXJnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc2VydmVkLmluZGV4T2YobW9kZWxBcmcpID09PSAtMTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgICd3b3JsZCdcbiAgICApO1xuICAgIE1hY3JvLndvcmxkLnZhbGlkYXRlU2V0VmFsdWUgPSBNYWNyby53b3JsZC52YWxpZGF0ZXNldHZhbHVlO1xuICAgIE1hY3JvLndvcmxkWyd2YWxpZGF0ZS1zZXQtdmFsdWUnXSA9IE1hY3JvLndvcmxkLnZhbGlkYXRlc2V0dmFsdWU7XG5cbiAgICBNYWNyby5hZGQoJ2Zvcm1hdG91dHB1dCcsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZXIoY2FsbGVyLCBvdXRwdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGVyICYmXG4gICAgICAgICAgICAgICAgICAgIGNhbGxlci50d2luZSAmJlxuICAgICAgICAgICAgICAgICAgICB0eXBlb2Yob3V0cHV0KSAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgICAgICAgICAgIWlzTm9kZShvdXRwdXQpICYmXG4gICAgICAgICAgICAgICAgICAgICFpc0VsZW1lbnQob3V0cHV0KSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvdXRwdXQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ3dvcmxkJ1xuICAgICk7XG4gICAgTWFjcm8ud29ybGQuZm9ybWF0T3V0cHV0ID0gTWFjcm8ud29ybGQuZm9ybWF0b3V0cHV0O1xuICAgIE1hY3JvLndvcmxkWydmb3JtYXQtb3V0cHV0J10gPSBNYWNyby53b3JsZC5mb3JtYXRvdXRwdXQ7XG5cbiAgICBNYWNyby5hZGQoJ2FkZG1vZGVsY29uc3RydWN0b3InLFxuICAgICAgICB7XG4gICAgICAgICAgICBoYW5kbGVyKHR5cGUsIGNvbnN0cnVjdG9yLCBmb3JiaWRkZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZUFsZXJ0KCdUaGUgdHlwZSBhcmd1bWVudCBwcm92aWRlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdNYWNyby53b3JsZC5hZGRtb2RlbGNvbnN0cnVjdG9yJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlIGluIG1vZGVsQ29uc3RydWN0b3JzKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGVBbGVydCgnVGhlcmUgaXMgYWxyZWFkeSBhIGNvbnN0cnVjdG9yIGZvciBtb2RlbHMgb2YgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAndHlwZSAnICsgdHlwZSArICcuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc0Z1bmN0aW9uKGNvbnN0cnVjdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRlQWxlcnQoJ1RoZSBjb25zdHJ1Y3RvciBhcmd1bWVudCwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yLnRvU3RyaW5nKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJywgcHJvdmlkZWQgdG8gTWFjcm8ud29ybGQuYWRkbW9kZWxjb25zdHJ1Y3RvcicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyBpcyBub3QgYSB2YWxpZCBjb25zdHJ1Y3RvciBmdW5jdGlvbi4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChmb3JiaWRkZW4gJiYgZm9yYmlkZGVuLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgZm9yYmlkZGVuLmxlbmd0aDsgaWkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRklMTCBJTiBIRVJFXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtb2RlbENvbnN0cnVjdG9yc1t0eXBlXSA9IGNvbnN0cnVjdG9yO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAnd29ybGQnXG4gICAgKTtcbiAgICBNYWNyby53b3JsZC5hZGRNb2RlbENvbnN0cnVjdG9yID0gTWFjcm8ud29ybGQuYWRkbW9kZWxjb25zdHJ1Y3RvcjtcbiAgICBNYWNyby53b3JsZFsnYWRkLW1vZGVsLWNvbnN0cnVjdG9yJ10gPSBNYWNyby53b3JsZC5hZGRtb2RlbGNvbnN0cnVjdG9yO1xuXG4gICAgTWFjcm8uYWRkKCdyZXN0b3JlbW9kZWxwcm90b2Z1bmNzJyxcbiAgICAgICAge1xuICAgICAgICAgICAgaGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm90b0Z1bmNzID1cbiAgICAgICAgICAgICAgICAgICAgZ2V0T3duUHJvcGVydHlOYW1lcyhtb2RlbFByb3RvRnVuY3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVscyA9XG4gICAgICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5TmFtZXMoU3RhdGUuY3VycmVudFdvcmxkTW9kZWxTdGF0ZS5hbGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uKG5hbWVPcklEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YXRlLmN1cnJlbnRXb3JsZE1vZGVsU3RhdGUuYWxsW25hbWVPcklEXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1vZGVscy5mb3JFYWNoKGZ1bmN0aW9uKG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKCdwYXJlbnQnIGluIG1vZGVsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWwucGFyZW50ID0gX3dvcmxkTW9kZWxUZW1wU3RvcmUubm9vbmUucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghKCdzZWxlY3RvcicgaW4gbW9kZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbC5zZWxlY3RvciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dvcmxkTW9kZWxUZW1wU3RvcmUubm9vbmUuc2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwcm90b0Z1bmNzLmZvckVhY2goZnVuY3Rpb24oZnVuYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvdG9GdW5jID0gbW9kZWxQcm90b0Z1bmNzW2Z1bmNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxbZnVuY10gPSBwcm90b0Z1bmM7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgJ3dvcmxkJ1xuICAgICk7XG4gICAgTWFjcm8ud29ybGQucmVzdG9yZU1vZGVsUHJvdG9GdW5jcyA9IE1hY3JvLndvcmxkLnJlc3RvcmVtb2RlbHByb3RvZnVuY3M7XG4gICAgTWFjcm8ud29ybGRbJ3Jlc3RvcmUtbW9kZWwtcHJvdG8tZnVuY3MnXSA9XG4gICAgICAgIE1hY3JvLndvcmxkLnJlc3RvcmVtb2RlbHByb3RvZnVuY3M7XG5cbiAgICAvLyBhIGxpc3Qgb2YgYWxsIHdvcmxkbW9kZWwgZnVuY3Rpb25zXG4gICAgY29uc3Qgd29ybGRBY3Rpb25zID0ge307XG4gICAgZ2V0T3duUHJvcGVydHlOYW1lcyhNYWNyby53b3JsZCkubWFwKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09ICdoYW5kbGVyJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YoTWFjcm8ud29ybGRbbmFtZV0pID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB3b3JsZEFjdGlvbnNbbmFtZV0gPSBNYWNyby53b3JsZFtuYW1lXTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoTWFjcm8ud29ybGRbbmFtZV0uaGFuZGxlcikgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHdvcmxkQWN0aW9uc1tuYW1lXSA9IE1hY3JvLndvcmxkW25hbWVdLmhhbmRsZXI7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHdpbmRvdy5fd29ybGRNb2RlbFRlbXBTdG9yZSA9IHtcbiAgICAgICAgYWxsOiB7fSxcbiAgICAgICAgZXJyb3I6IHt9LFxuICAgICAgICAvLyBmb3JiaWRkZW4gW2FjdG9yVHlwZV0gW2FjdGlvbl0gW2FjdGVlVHlwZV1cbiAgICAgICAgZm9yYmlkZGVuOiB7XG4gICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICAgIHRha2U6IFsnbG9jYXRpb24nLCAnZXJyb3InXSxcbiAgICAgICAgICAgICAgICBjb250YWluczogWydsb2NhdGlvbicsICdlcnJvciddLFxuICAgICAgICAgICAgICAgIGdpdmU6ICcqJyxcbiAgICAgICAgICAgICAgICBhZGQ6ICcqJyxcbiAgICAgICAgICAgICAgICByZW1vdmU6ICcqJyxcbiAgICAgICAgICAgICAgICBmb3JiaWQ6ICcqJyxcbiAgICAgICAgICAgICAgICB1bmZvcmJpZDogJyonLFxuICAgICAgICAgICAgICAgIGVhY2g6ICcqJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudGl0eToge1xuICAgICAgICAgICAgICAgIHRha2U6IFsnbG9jYXRpb24nLCAnZW50aXR5JywgJ2Vycm9yJ10sXG4gICAgICAgICAgICAgICAgY29udGFpbnM6IFsnbG9jYXRpb24nLCAnZW50aXR5JywgJ2Vycm9yJ10sXG4gICAgICAgICAgICAgICAgZ2l2ZTogWydlbnRpdHknLCAnZXJyb3InXSxcbiAgICAgICAgICAgICAgICBhZGQ6ICcqJyxcbiAgICAgICAgICAgICAgICByZW1vdmU6ICcqJyxcbiAgICAgICAgICAgICAgICBmb3JiaWQ6ICcqJyxcbiAgICAgICAgICAgICAgICB1bmZvcmJpZDogJyonLFxuICAgICAgICAgICAgICAgIGVhY2g6ICcqJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9iamVjdDoge1xuICAgICAgICAgICAgICAgIHRha2U6IFsnbG9jYXRpb24nLCAnZW50aXR5JywgJ2Vycm9yJ10sXG4gICAgICAgICAgICAgICAgY29udGFpbnM6IFsnbG9jYXRpb24nLCAnZW50aXR5JywgJ2Vycm9yJ10sXG4gICAgICAgICAgICAgICAgZ2l2ZTogWydlcnJvciddLFxuICAgICAgICAgICAgICAgIGFkZDogJyonLFxuICAgICAgICAgICAgICAgIHJlbW92ZTogJyonLFxuICAgICAgICAgICAgICAgIGZvcmJpZDogJyonLFxuICAgICAgICAgICAgICAgIHVuZm9yYmlkOiAnKicsXG4gICAgICAgICAgICAgICAgZWFjaDogJyonXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29sbGVjdGlvbjoge1xuICAgICAgICAgICAgICAgIHNldDogWydlcnJvciddLFxuICAgICAgICAgICAgICAgIHVuc2V0OiBbJ2Vycm9yJ10sXG4gICAgICAgICAgICAgICAgZ2l2ZTogJyonLFxuICAgICAgICAgICAgICAgIHRha2U6ICcqJyxcbiAgICAgICAgICAgICAgICBhZGQ6ICcqJyxcbiAgICAgICAgICAgICAgICByZW1vdmU6ICcqJyxcbiAgICAgICAgICAgICAgICBmb3JiaWQ6ICcqJyxcbiAgICAgICAgICAgICAgICB1bmZvcmJpZDogJyonXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICBnaXZlOiAnKicsXG4gICAgICAgICAgICAgICAgdGFrZTogJyonLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5zOiAnKicsXG4gICAgICAgICAgICAgICAgYWRkOiAnKicsXG4gICAgICAgICAgICAgICAgcmVtb3ZlOiAnKicsXG4gICAgICAgICAgICAgICAgZm9yYmlkOiAnKicsXG4gICAgICAgICAgICAgICAgdW5mb3JiaWQ6ICcqJyxcbiAgICAgICAgICAgICAgICBzZXQ6ICcqJyxcbiAgICAgICAgICAgICAgICB1bnNldDogJyonLFxuICAgICAgICAgICAgICAgIGVhY2g6ICcqJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBfbmV4dFVudXNlZElEOiAwLFxuICAgICAgICBnZXROZXh0VW51c2VkSWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmV4dFVudXNlZElEKys7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgd2luZG93Lk1vZGVsID0gY2xhc3MgTW9kZWwge1xuICAgICAgICBjb25zdHJ1Y3RvcihuYW1lLCB0eXBlKSB7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50U2VsZWN0b3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IHt9O1xuICAgICAgICAgICAgdGhpcy5kZXNjZW5kYW50cyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5hc3NvY2lhdGlvbnMgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuYWxpYXNlcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxTZWxlY3RvciA9ICcjJyArIG5hbWU7XG4gICAgICAgICAgICB0aGlzLmdlbmVyaWMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucXVhbnRpdHkgPSAxO1xuICAgICAgICAgICAgdGhpcy5pZCA9IF93b3JsZE1vZGVsVGVtcFN0b3JlLmdldE5leHRVbnVzZWRJZCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG1vZGVsUHJvdG9GdW5jcyA9IHtcbiAgICAgICAgc2VsZWN0b3IobmV3U2VsZWN0b3IpIHtcbiAgICAgICAgICAgIGlmIChuZXdTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVybmFsU2VsZWN0b3IgPSBuZXdTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2ludGVybmFsU2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBtb2RlbCwgJyArIHRoaXMgK1xuICAgICAgICAgICAgICAgICAgICAnLCBoYXMgbm8gX2ludGVybmFsU2VsZWN0b3IgcHJvcGVydHkuICcgK1xuICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IGdldCBzZWxlY3Rvci4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmdlbmVyaWMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRTZWxlY3RvciArICcgIycgKyB0aGlzLmlkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxTZWxlY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcGFyZW50KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50U2VsZWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB3b3JsZEFjdGlvbnMuZ2V0KHRoaXMucGFyZW50U2VsZWN0b3IpO1xuICAgICAgICAgICAgaWYgKHBhcmVudC50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICB9LFxuICAgICAgICBhZGQobmFtZSwgdHlwZSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2lpXSAmJiBhcmd1bWVudHNbaWldLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdGhpc09iajtcbiAgICAgICAgICAgIGxldCBjYWxsT2JqID0ge307XG4gICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgICAgICAgICAgIHRoaXNPYmogPSBzYWZlckpTT05QYXJzZSh0aGlzLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodGhpc09iaikgIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXNPYmogPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICAgICAgIXdvcmxkQWN0aW9ucy52YWxpZGF0ZU1vZGVsKHRoaXNPYmopKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsT2JqID0geyB0d2luZTogJ3R3aW5lJyB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzT2JqID0gdGhpcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5hZGQuY2FsbChjYWxsT2JqLCBuYW1lLCB0eXBlLCB0aGlzT2JqKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkQWxpYXMocHJvcGVydHlOYW1lLCBhbGlhcykge1xuICAgICAgICAgICAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2lpXSAmJiBhcmd1bWVudHNbaWldLnR5cGUgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1tpaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdGhpc09iajtcbiAgICAgICAgICAgIGxldCBjYWxsT2JqID0ge307XG4gICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIFN0cmluZykge1xuICAgICAgICAgICAgICAgIHRoaXNPYmogPSBzYWZlckpTT05QYXJzZSh0aGlzLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YodGhpc09iaikgIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXNPYmogPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICAgICAgIXdvcmxkQWN0aW9ucy52YWxpZGF0ZU1vZGVsKHRoaXNPYmopKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsT2JqID0geyB0d2luZTogJ3R3aW5lJyB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzT2JqID0gdGhpcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHdvcmxkQWN0aW9ucy5hZGRBbGlhcy5jYWxsKFxuICAgICAgICAgICAgICAgIGNhbGxPYmosXG4gICAgICAgICAgICAgICAgdGhpc09iaixcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWUsXG4gICAgICAgICAgICAgICAgYWxpYXMpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRBbGlhcyhwcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1tpaV0gJiYgYXJndW1lbnRzW2lpXS50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbaWldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHRoaXNPYmo7XG4gICAgICAgICAgICBsZXQgY2FsbE9iaiA9IHt9O1xuICAgICAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzT2JqID0gc2FmZXJKU09OUGFyc2UodGhpcy50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHRoaXNPYmopICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzT2JqID09PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgICAgICF3b3JsZEFjdGlvbnMudmFsaWRhdGVNb2RlbCh0aGlzT2JqKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbE9iaiA9IHsgdHdpbmU6ICd0d2luZScgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpc09iaiA9IHRoaXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuZ2V0QWxpYXMuY2FsbChjYWxsT2JqLCB0aGlzT2JqLCBwcm9wZXJ0eU5hbWUpO1xuICAgICAgICB9LFxuICAgICAgICBhc3NvY2lhdGUoYXNzb2NpYXRpb24sIGFzc29jaWF0ZWRNb2RlbEFyZywgY29udmVyc2UpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBhcmd1bWVudHMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3VtZW50c1tpaV0gJiYgYXJndW1lbnRzW2lpXS50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbaWldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHRoaXNPYmo7XG4gICAgICAgICAgICBsZXQgY2FsbE9iaiA9IHt9O1xuICAgICAgICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzT2JqID0gc2FmZXJKU09OUGFyc2UodGhpcy50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHRoaXNPYmopICE9PSAnb2JqZWN0JyB8fFxuICAgICAgICAgICAgICAgICAgICB0aGlzT2JqID09PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgICAgICF3b3JsZEFjdGlvbnMudmFsaWRhdGVNb2RlbCh0aGlzT2JqKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbE9iaiA9IHsgdHdpbmU6ICd0d2luZScgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpc09iaiA9IHRoaXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB3b3JsZEFjdGlvbnMuYXNzb2NpYXRlLmNhbGwoXG4gICAgICAgICAgICAgICAgY2FsbE9iaixcbiAgICAgICAgICAgICAgICB0aGlzT2JqLFxuICAgICAgICAgICAgICAgIGFzc29jaWF0aW9uLFxuICAgICAgICAgICAgICAgIGFzc29jaWF0ZWRNb2RlbEFyZyxcbiAgICAgICAgICAgICAgICBjb252ZXJzZSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qYXNzb2NpYXRlZDogJycsXG4gICAgICAgIGNvbnRhaW5zOiAnJyxcbiAgICAgICAgZGlzYXNzb2NpYXRlOiAnJyxcbiAgICAgICAgZWFjaDogJycsXG4gICAgICAgIGZvcmJpZDogJycsXG4gICAgICAgIGdldDogJycsXG4gICAgICAgIGdpdmU6ICcnLFxuICAgICAgICBpc0ZvcmJpZGRlbjogJycsXG4gICAgICAgIGlzR2VuZXJpYzogJycsXG4gICAgICAgIGlzU2V0OiAnJyxcbiAgICAgICAgbWFrZUdlbmVyaWM6ICcnLFxuICAgICAgICBwcmludDogJycsXG4gICAgICAgIHJlbW92ZTogJycsXG4gICAgICAgIHJlbW92ZUFsaWFzOiAnJyxcbiAgICAgICAgc2V0OiAnJyxcbiAgICAgICAgdGFrZTogJycsXG4gICAgICAgIHVuZm9yYmlkOiAnJyxcbiAgICAgICAgdW5zZXQ6ICcnKi9cbiAgICB9O1xuXG4gICAgY29uc3QgcHJvdG9GdW5jcyA9IGdldE93blByb3BlcnR5TmFtZXMobW9kZWxQcm90b0Z1bmNzKTtcbiAgICBwcm90b0Z1bmNzLmZvckVhY2goZnVuY3Rpb24oZnVuYykge1xuICAgICAgICBjb25zdCBwcm90b0Z1bmMgPSBtb2RlbFByb3RvRnVuY3NbZnVuY107XG4gICAgICAgIC8vIGRvbid0IG92ZXJ3cml0ZSBwcmUtZXhpc3RpbmcgcHJvcGVydGllc1xuICAgICAgICBpZiAoIShmdW5jIGluIFN0cmluZy5wcm90b3R5cGUpKSB7XG4gICAgICAgICAgICBTdHJpbmcucHJvdG90eXBlW2Z1bmNdID0gcHJvdG9GdW5jO1xuICAgICAgICB9XG4gICAgICAgIE1vZGVsLnByb3RvdHlwZVtmdW5jXSA9IHByb3RvRnVuYztcbiAgICB9KTtcblxuICAgIGNsYXNzIExvY2F0aW9uTW9kZWwgZXh0ZW5kcyBNb2RlbCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgICAgIHN1cGVyKG5hbWUsICdsb2NhdGlvbicpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3cuTG9jYXRpb25Nb2RlbCA9IExvY2F0aW9uTW9kZWw7XG5cbiAgICBjbGFzcyBFbnRpdHlNb2RlbCBleHRlbmRzIE1vZGVsIHtcbiAgICAgICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICAgICAgc3VwZXIobmFtZSwgJ2VudGl0eScpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3cuRW50aXR5TW9kZWwgPSBFbnRpdHlNb2RlbDtcblxuICAgIGNsYXNzIFBsYXllck1vZGVsIGV4dGVuZHMgRW50aXR5TW9kZWwge1xuICAgICAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgICAgICBzdXBlcihuYW1lLCAncGxheWVyJyk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgd2luZG93LlBsYXllck1vZGVsID0gUGxheWVyTW9kZWw7XG5cbiAgICBjbGFzcyBPYmplY3RNb2RlbCBleHRlbmRzIE1vZGVsIHtcbiAgICAgICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICAgICAgc3VwZXIobmFtZSwgJ29iamVjdCcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB3aW5kb3cuT2JqZWN0TW9kZWwgPSBPYmplY3RNb2RlbDtcblxuICAgIGxldCBlcnJvcklEID0gMDtcbiAgICB3aW5kb3cuRXJyb3JNb2RlbCA9IGNsYXNzIEVycm9yTW9kZWwgZXh0ZW5kcyBNb2RlbCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHBvaW50T2ZGYWlsdXJlLCBhcmdzLCBlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHN1cGVyKCdlcnJvcicgKyBlcnJvcklELCAnZXJyb3InKTtcbiAgICAgICAgICAgIGVycm9ySUQrKztcbiAgICAgICAgICAgIHRoaXMucG9pbnRPZkZhaWx1cmUgPSBwb2ludE9mRmFpbHVyZTtcbiAgICAgICAgICAgIHRoaXMuYXJndW1lbnRzID0gYXJncztcbiAgICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgU3RhdGUuY3VycmVudFdvcmxkTW9kZWxTdGF0ZS5lcnJvclt0aGlzLm5hbWVdID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMudGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGVzY2VuZGFudHM7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hc3NvY2lhdGlvbnM7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hbGlhc2VzO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZ2VuZXJpYztcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnF1YW50aXR5O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IG1vZGVsQ29uc3RydWN0b3JzID0ge1xuICAgICAgICBsb2NhdGlvbjogTG9jYXRpb25Nb2RlbCxcbiAgICAgICAgZW50aXR5OiBFbnRpdHlNb2RlbCxcbiAgICAgICAgb2JqZWN0OiBPYmplY3RNb2RlbCxcbiAgICAgICAgZXJyb3I6IEVycm9yTW9kZWwsXG4gICAgICAgIG1vZGVsOiBNb2RlbFxuICAgIH07XG5cbiAgICBsZXQgbm9vbmUgPSBuZXcgRW50aXR5TW9kZWwoJ25vb25lJyk7XG4gICAgX3dvcmxkTW9kZWxUZW1wU3RvcmUuYWxsLm5vb25lID0gbm9vbmU7XG4gICAgX3dvcmxkTW9kZWxUZW1wU3RvcmUubm9vbmUgPSBub29uZTtcbiAgXG4gICAgbGV0IHBsYXllciA9IG5ldyBQbGF5ZXJNb2RlbCgncGxheWVyJyk7XG4gICAgX3dvcmxkTW9kZWxUZW1wU3RvcmUuYWxsLnBsYXllciA9IHBsYXllcjtcbiAgICBfd29ybGRNb2RlbFRlbXBTdG9yZS5lbnRpdHkgPSB7fTtcbiAgICBfd29ybGRNb2RlbFRlbXBTdG9yZS5lbnRpdHkucGxheWVyID0gJyNwbGF5ZXInO1xuXG4gICAgY29uc3QgcmVzZXJ2ZWQgPSBbXG4gICAgICAgICdub29uZScsXG4gICAgICAgICdlcnJvcicsXG4gICAgICAgIG5vb25lXG4gICAgXTtcbn0oKSk7Il19
